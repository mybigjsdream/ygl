!function(){var n,t;(function(){n={}}).call(this),function(){(function(){var t=this,r=t._,e={},u=Array.prototype,i=Object.prototype,a=Function.prototype,o=u.push,c=u.slice,l=u.concat,f=i.toString,s=i.hasOwnProperty,p=u.forEach,v=u.map,h=u.reduce,d=u.reduceRight,g=u.filter,m=u.every,y=u.some,b=u.indexOf,_=u.lastIndexOf,w=Array.isArray,x=Object.keys,j=a.bind,A=function(n){return n instanceof A?n:this instanceof A?void(this._wrapped=n):new A(n)};"undefined"!=typeof n?("undefined"!=typeof module&&module.exports&&(n=module.exports=A),n._=A):t._=A,A.VERSION="1.5.2";var k=function(n){return"[object Arguments]"===f.call(n)};k(arguments)||(k=function(n){return!(!n||!s.call(n,"callee")||"function"!=typeof n.callee)});var O=function(n){return n.length===+n.length&&(k(n)||n.constructor!==Object)},E=A.each=A.forEach=function(n,t,r){if(null!=n)if(p&&n.forEach===p)n.forEach(t,r);else if(O(n)){for(var u=0,i=n.length;i>u;u++)if(t.call(r,n[u],u,n)===e)return}else for(var a=A.keys(n),u=0,i=a.length;i>u;u++)if(t.call(r,n[a[u]],a[u],n)===e)return};A.map=A.collect=function(n,t,r){var e=[];return null==n?e:v&&n.map===v?n.map(t,r):(E(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var F="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=A.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(E(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(F);return r},A.reduceRight=A.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),d&&n.reduceRight===d)return e&&(t=A.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(!O(n)){var a=A.keys(n);i=a.length}if(E(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(F);return r},A.find=A.detect=function(n,t,r){var e;return M(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},A.filter=A.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(E(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},A.reject=function(n,t,r){return A.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},A.every=A.all=function(n,t,r){t||(t=A.identity);var u=!0;return null==n?u:m&&n.every===m?n.every(t,r):(E(n,function(n,i,a){return(u=u&&t.call(r,n,i,a))?void 0:e}),!!u)};var M=A.some=A.any=function(n,t,r){t||(t=A.identity);var u=!1;return null==n?u:y&&n.some===y?n.some(t,r):(E(n,function(n,i,a){return u||(u=t.call(r,n,i,a))?e:void 0}),!!u)};A.contains=A.include=function(n,t){return null==n?!1:b&&n.indexOf===b?-1!=n.indexOf(t):M(n,function(n){return n===t})},A.invoke=function(n,t){var r=c.call(arguments,2),e=A.isFunction(t);return A.map(n,function(n){return(e?t:n[t]).apply(n,r)})},A.pluck=function(n,t){return A.map(n,function(n){return n[t]})},A.where=function(n,t,r){return A.isEmpty(t)?r?void 0:[]:A[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},A.findWhere=function(n,t){return A.where(n,t,!0)},A.max=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&A.isEmpty(n))return-(1/0);var e={computed:-(1/0),value:-(1/0)};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),e.value},A.min=function(n,t,r){if(!t&&A.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&A.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return E(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},A.shuffle=function(n){var t,r=0,e=[];return E(n,function(n){t=A.random(r++),e[r-1]=e[t],e[t]=n}),e},A.sample=function(n,t,r){return arguments.length<2||r?n[A.random(n.length-1)]:A.shuffle(n).slice(0,Math.max(0,t))};var R=function(n){return A.isFunction(n)?n:function(t){return t[n]}};A.sortBy=function(n,t,r){var e=R(t);return A.pluck(A.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var u={},i=null==r?A.identity:R(r);return E(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};A.groupBy=S(function(n,t,r){(A.has(n,t)?n[t]:n[t]=[]).push(r)}),A.indexBy=S(function(n,t,r){n[t]=r}),A.countBy=S(function(n,t){A.has(n,t)?n[t]++:n[t]=1}),A.sortedIndex=function(n,t,r,e){r=null==r?A.identity:R(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},A.toArray=function(n){return n?A.isArray(n)?c.call(n):O(n)?A.map(n,A.identity):A.values(n):[]},A.size=function(n){return null==n?0:O(n)?n.length:A.keys(n).length},A.first=A.head=A.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:c.call(n,0,t)},A.initial=function(n,t,r){return c.call(n,0,n.length-(null==t||r?1:t))},A.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:c.call(n,Math.max(n.length-t,0))},A.rest=A.tail=A.drop=function(n,t,r){return c.call(n,null==t||r?1:t)},A.compact=function(n){return A.filter(n,A.identity)};var I=function(n,t,r){return t&&A.every(n,A.isArray)?l.apply(r,n):(E(n,function(n){A.isArray(n)||A.isArguments(n)?t?o.apply(r,n):I(n,t,r):r.push(n)}),r)};A.flatten=function(n,t){return I(n,t,[])},A.without=function(n){return A.difference(n,c.call(arguments,1))},A.uniq=A.unique=function(n,t,r,e){A.isFunction(t)&&(e=r,r=t,t=!1);var u=r?A.map(n,r,e):n,i=[],a=[];return E(u,function(r,e){(t?e&&a[a.length-1]===r:A.contains(a,r))||(a.push(r),i.push(n[e]))}),i},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(n){var t=c.call(arguments,1);return A.filter(A.uniq(n),function(n){return A.every(t,function(t){return A.indexOf(t,n)>=0})})},A.difference=function(n){var t=l.apply(u,c.call(arguments,1));return A.filter(n,function(n){return!A.contains(t,n)})},A.zip=function(){for(var n=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=A.pluck(arguments,""+r);return t},A.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},A.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=A.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(b&&n.indexOf===b)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},A.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(_&&n.lastIndexOf===_)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},A.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var T=function(){};A.bind=function(n,t){var r,e;if(j&&n.bind===j)return j.apply(n,c.call(arguments,1));if(!A.isFunction(n))throw new TypeError;return r=c.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(c.call(arguments)));T.prototype=n.prototype;var u=new T;T.prototype=null;var i=n.apply(u,r.concat(c.call(arguments)));return Object(i)===i?i:u}},A.partial=function(n){var t=c.call(arguments,1);return function(){return n.apply(this,t.concat(c.call(arguments)))}},A.bindAll=function(n){var t=c.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){n[t]=A.bind(n[t],n)}),n},A.memoize=function(n,t){var r={};return t||(t=A.identity),function(){var e=t.apply(this,arguments);return A.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},A.delay=function(n,t){var r=c.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},A.defer=function(n){return A.delay.apply(A,[n,1].concat(c.call(arguments,1)))},A.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||r.trailing===!1||(a=setTimeout(c,f)),i}},A.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u)),o}},A.once=function(n){var t=!1,r;return function(){return t?r:(t=!0,r=n.apply(this,arguments),n=null,r)}},A.wrap=function(n,t){return function(){var r=[n];return o.apply(r,arguments),t.apply(this,r)}},A.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},A.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},A.keys=x||function(n){if(n!==Object(n))throw new TypeError("Invalid object");var t=[];for(var r in n)A.has(n,r)&&t.push(r);return t},A.values=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},A.pairs=function(n){for(var t=A.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},A.invert=function(n){for(var t={},r=A.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},A.functions=A.methods=function(n){var t=[];for(var r in n)A.isFunction(n[r])&&t.push(r);return t.sort()},A.extend=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},A.pick=function(n){var t={},r=l.apply(u,c.call(arguments,1));return E(r,function(r){r in n&&(t[r]=n[r])}),t},A.omit=function(n){var t={},r=l.apply(u,c.call(arguments,1));for(var e in n)A.contains(r,e)||(t[e]=n[e]);return t},A.defaults=function(n){return E(c.call(arguments,1),function(t){if(t)for(var r in t)void 0===n[r]&&(n[r]=t[r])}),n},A.clone=function(n){return A.isObject(n)?A.isArray(n)?n.slice():A.extend({},n):n},A.tap=function(n,t){return t(n),n};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof A&&(n=n._wrapped),t instanceof A&&(t=t._wrapped);var u=f.call(n);if(u!=f.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(o)&&o instanceof o))return!1;r.push(n),e.push(t);var c=0,l=!0;if("[object Array]"==u){if(c=n.length,l=c==t.length)for(;c--&&(l=N(n[c],t[c],r,e)););}else{for(var s in n)if(A.has(n,s)&&(c++,!(l=A.has(t,s)&&N(n[s],t[s],r,e))))break;if(l){for(s in t)if(A.has(t,s)&&!c--)break;l=!c}}return r.pop(),e.pop(),l};A.isEqual=function(n,t){return N(n,t,[],[])},A.isEmpty=function(n){if(null==n)return!0;if(A.isArray(n)||A.isString(n))return 0===n.length;for(var t in n)if(A.has(n,t))return!1;return!0},A.isElement=function(n){return!(!n||1!==n.nodeType)},A.isArray=w||function(n){return"[object Array]"==f.call(n)},A.isObject=function(n){return n===Object(n)},E(["Arguments","Function","String","Number","Date","RegExp"],function(n){A["is"+n]=function(t){return f.call(t)=="[object "+n+"]"}}),A.isArguments(arguments)||(A.isArguments=function(n){return!(!n||!A.has(n,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(n){return"function"==typeof n}),A.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},A.isNaN=function(n){return A.isNumber(n)&&n!=+n},A.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==f.call(n)},A.isNull=function(n){return null===n},A.isUndefined=function(n){return void 0===n},A.has=function(n,t){return s.call(n,t)},A.noConflict=function(){return t._=r,this},A.identity=function(n){return n},A.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},A.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var q={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};q.unescape=A.invert(q.escape);var B={escape:new RegExp("["+A.keys(q.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(q.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(n){A[n]=function(t){return null==t?"":(""+t).replace(B[n],function(t){return q[n][t]})}}),A.result=function(n,t){if(null==n)return void 0;var r=n[t];return A.isFunction(r)?r.call(n):r},A.mixin=function(n){E(A.functions(n),function(t){var r=A[t]=n[t];A.prototype[t]=function(){var n=[this._wrapped];return o.apply(n,arguments),U.call(this,r.apply(A,n))}})};var D=0;A.uniqueId=function(n){var t=++D+"";return n?n+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},C=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(n,t,r){var e;r=A.defaults({},r,A.templateSettings);var u=new RegExp([(r.escape||P).source,(r.interpolate||P).source,(r.evaluate||P).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(C,function(n){return"\\"+z[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,A);var c=function(n){return e.call(this,n,A)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},A.chain=function(n){return A(n).chain()};var U=function(n){return this._chain?A(n).chain():n};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=u[n];A.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],U.call(this,r)}}),E(["concat","join","slice"],function(n){var t=u[n];A.prototype[n]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}.call(this),function(){t=n._}.call(this),"undefined"==typeof Package&&(Package={}),function(n,t){for(var r in t)r in n||(n[r]=t[r])}(Package.underscore={},{_:t})}();

!function(){var t=Package.underscore._,e,n,r;(function(){e=this}).call(this),function(){n=__meteor_runtime_config__.meteorEnv,r={isProduction:"production"===n.NODE_ENV,isDevelopment:"production"!==n.NODE_ENV,isClient:!0,isServer:!1,isCordova:!1},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.PUBLIC_SETTINGS&&(r.settings={"public":__meteor_runtime_config__.PUBLIC_SETTINGS})}.call(this),function(){r.isCordova=!0,r.isProduction="production"===n.NODE_ENV,r.isDevelopment="production"!==n.NODE_ENV}.call(this),function(){function e(t){return t?r._debug("Exception in callback of async function",t.stack?t.stack:t):void 0}if(r.isServer)var n=Npm.require("fibers/future");"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.meteorRelease&&(r.release=__meteor_runtime_config__.meteorRelease),t.extend(r,{_get:function(t){for(var e=1;e<arguments.length;e++){if(!(arguments[e]in t))return void 0;t=t[arguments[e]]}return t},_ensure:function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];n in t||(t[n]={}),t=t[n]}return t},_delete:function(t){for(var e=[t],n=!0,r=1;r<arguments.length-1;r++){var o=arguments[r];if(!(o in t)){n=!1;break}if(t=t[o],"object"!=typeof t)break;e.push(t)}for(var r=e.length-1;r>=0;r--){var o=arguments[r+1];if(n)n=!1;else for(var i in e[r][o])return;delete e[r][o]}},wrapAsync:function(o,i){return function(){for(var s=i||this,a=t.toArray(arguments),u,c=a.length-1;c>=0;--c){var l=a[c],f=typeof l;if("undefined"!==f){"function"===f&&(u=l);break}}if(!u){if(r.isClient)u=e;else{var p=new n;u=p.resolver()}++c}a[c]=r.bindEnvironment(u);var _=o.apply(s,a);return p?p.wait():_}},_inherits:function(e,n){for(var r in n)t.has(n,r)&&(e[r]=n[r]);var o=function(){this.constructor=e};return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e}});var o=!1;r._wrapAsync=function(t,e){return o||(r._debug("Meteor._wrapAsync has been renamed to Meteor.wrapAsync"),o=!0),r.wrapAsync.apply(r,arguments)}}.call(this),function(){"use strict";function t(){if(o.setImmediate){var t=function(t){o.setImmediate(t)};return t.implementation="setImmediate",t}return null}function e(){function t(t,e){return"string"==typeof t&&t.substring(0,e.length)===e}function e(e){if(e.source===o&&t(e.data,a)){var n=e.data.substring(a.length);try{s[n]&&s[n]()}finally{delete s[n]}}}if(!o.postMessage||o.importScripts)return null;var n=!0,r=o.onmessage;if(o.onmessage=function(){n=!1},o.postMessage("","*"),o.onmessage=r,!n)return null;var i=0,s={},a="Meteor._setImmediate."+Math.random()+".";o.addEventListener?o.addEventListener("message",e,!1):o.attachEvent("onmessage",e);var u=function(t){++i,s[i]=t,o.postMessage(a+i,"*")};return u.implementation="postMessage",u}function n(){var t=function(t){o.setTimeout(t,0)};return t.implementation="setTimeout",t}var o=this;r._setImmediate=t()||e()||n()}.call(this),function(){var e=function(t){if(Package.ddp){var e=Package.ddp.DDP._CurrentInvocation;if(e.get()&&e.get().isSimulation)throw new Error("Can't set timers inside simulations");return function(){e.withValue(null,t)}}return t},n=function(t,n){return r.bindEnvironment(e(n),t)};t.extend(r,{setTimeout:function(t,e){return setTimeout(n("setTimeout callback",t),e)},setInterval:function(t,e){return setInterval(n("setInterval callback",t),e)},clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)},defer:function(t){r._setImmediate(n("defer callback",t))}})}.call(this),function(){r.makeErrorType=function(t,e){var n=function(){Error.captureStackTrace?Error.captureStackTrace(this,n):this.stack=(new Error).stack,e.apply(this,arguments),this.errorType=t};return r._inherits(n,Error),n},r.Error=r.makeErrorType("Meteor.Error",function(t,e,n){var r=this;r.error=t,r.reason=e,r.details=n,r.reason?r.message=r.reason+" ["+r.error+"]":r.message="["+r.error+"]"}),r.Error.prototype.clone=function(){var t=this;return new r.Error(t.error,t.reason,t.details)}}.call(this),function(){r._noYieldsAllowed=function(t){return t()},r._SynchronousQueue=function(){var t=this;t._tasks=[],t._running=!1,t._runTimeout=null},t.extend(r._SynchronousQueue.prototype,{runTask:function(e){var n=this;if(!n.safeToRunTask())throw new Error("Could not synchronously run a task from a running task");n._tasks.push(e);var o=n._tasks;n._tasks=[],n._running=!0,n._runTimeout&&(clearTimeout(n._runTimeout),n._runTimeout=null);try{for(;!t.isEmpty(o);){var i=o.shift();try{i()}catch(s){if(t.isEmpty(o))throw s;r._debug("Exception in queued task: "+(s.stack||s))}}}finally{n._running=!1}},queueTask:function(e){var n=this;n._tasks.push(e),n._runTimeout||(n._runTimeout=setTimeout(t.bind(n.flush,n),0))},flush:function(){var t=this;t.runTask(function(){})},drain:function(){var e=this;if(e.safeToRunTask())for(;!t.isEmpty(e._tasks);)e.flush()},safeToRunTask:function(){var t=this;return!t._running}})}.call(this),function(){var t=[],e=!1,n=!1,o=0,i=function(){o++},s=function(){o--,a()},a=function(){if(!(n||!e||o>0)){for(n=!0;t.length;)t.shift()();r.isCordova&&WebAppLocalServer.startupDidComplete()}},u=function(){e||(e=!0,a())};r.isCordova&&(i(),document.addEventListener("deviceready",s,!1)),"complete"===document.readyState||"loaded"===document.readyState?window.setTimeout(u):document.addEventListener?(document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1)):(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&u()}),window.attachEvent("load",u)),r.startup=function(e){var o=!document.addEventListener&&document.documentElement.doScroll;if(o&&window===top){try{o("left")}catch(i){return void setTimeout(function(){r.startup(e)},50)}e()}else n?e():t.push(e)}}.call(this),function(){var t=0;r._debug=function(){if(t)return void t--;if("undefined"!=typeof console&&"undefined"!=typeof console.log)if(0==arguments.length)console.log("");else if("function"==typeof console.log.apply){for(var e=!0,n=0;n<arguments.length;n++)"string"!=typeof arguments[n]&&(e=!1);e?console.log.apply(console,[Array.prototype.join.call(arguments," ")]):console.log.apply(console,arguments)}else if("function"==typeof Function.prototype.bind){var r=Function.prototype.bind.call(console.log,console);r.apply(console,arguments)}else Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},r._suppress_log=function(e){t+=e},r._suppressed_log_expected=function(){return 0!==t}}.call(this),function(){r._escapeRegExp=function(t){return String(t).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}.call(this),function(){var t;t=r.isClient?n.TEST_METADATA:process.env.TEST_METADATA;var e=JSON.parse(t||"{}"),o=e.driverPackage;r.isTest=!!e.isTest,r.isAppTest=!!e.isAppTest,r.isPackageTest=!!o&&!r.isTest&&!r.isAppTest,"string"==typeof o&&r.startup(function(){var t=Package[o];if(!t)throw new Error("Can't find test driver package: "+o);if(r.isClient){if("function"!=typeof t.runTests)throw new Error("Test driver package "+o+" missing `runTests` export");t.runTests()}else"function"==typeof t.start&&t.start()})}.call(this),function(){var e=0,n=[];r.EnvironmentVariable=function(){this.slot=e++},t.extend(r.EnvironmentVariable.prototype,{get:function(){return n[this.slot]},getOrNullIfOutsideFiber:function(){return this.get()},withValue:function(t,e){var r=n[this.slot];try{n[this.slot]=t;var o=e()}finally{n[this.slot]=r}return o}}),r.bindEnvironment=function(e,o,i){var s=t.clone(n);if(!o||"string"==typeof o){var a=o||"callback of async function";o=function(t){r._debug("Exception in "+a+":",t&&t.stack||t)}}return function(){var r=n;try{n=s;var a=e.apply(i,t.toArray(arguments))}catch(u){o(u)}finally{n=r}return a}},r._nodeCodeMustBeInFiber=function(){}}.call(this),function(){r.absoluteUrl=function(e,n){n||"object"!=typeof e||(n=e,e=void 0),n=t.extend({},r.absoluteUrl.defaultOptions,n||{});var o=n.rootUrl;if(!o)throw new Error("Must pass options.rootUrl or set ROOT_URL in the server environment");return/^http[s]?:\/\//i.test(o)||(o="http://"+o),/\/$/.test(o)||(o+="/"),e&&(o+=e),n.secure&&/^http:/.test(o)&&!/http:\/\/localhost[:\/]/.test(o)&&!/http:\/\/127\.0\.0\.1[:\/]/.test(o)&&(o=o.replace(/^http:/,"https:")),n.replaceLocalhost&&(o=o.replace(/^http:\/\/localhost([:\/].*)/,"http://127.0.0.1$1")),o},r.absoluteUrl.defaultOptions={},"object"==typeof __meteor_runtime_config__&&__meteor_runtime_config__.ROOT_URL&&(r.absoluteUrl.defaultOptions.rootUrl=__meteor_runtime_config__.ROOT_URL),r._relativeToSiteRootUrl=function(t){return"object"==typeof __meteor_runtime_config__&&"/"===t.substr(0,1)&&(t=(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"")+t),t}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package.meteor={},{Meteor:r,global:e,meteorEnv:n})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["meteor-base"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["mobile-experience"]={}}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,t,o;t=function(e){function r(e,r){return o(e)&&(l(b,e,r),i(k)&&k(j)),j}function n(e){this.id=e,this.children=[]}function t(e,r){return x.call(e,r)&&e[r]}function o(e){return e&&"object"==typeof e}function i(e){return"function"==typeof e}function u(e){return"string"==typeof e}function f(e){function r(r){var n=m(e,r);if(n)return a(n,e.m);var t=new Error("Cannot find module '"+r+"'");if(i(g))return g(r,e.m.id,t);throw t}return r.resolve=function(r){var n=m(e,r);if(n)return n.m.id;var t=new Error("Cannot find module '"+r+"'");if(g&&i(g.resolve))return g.resolve(r,e.m.id,t);throw t},r}function c(e,r){var t=this;t.p=r=r||null,t.m=new n(e)}function a(e,r){var n=e&&e.c,t=e.m;if(!x.call(t,"exports")){if(r){t.parent=r;var o=r.children;Array.isArray(o)&&o.push(t)}i(t.useNode)&&t.useNode()||n(t.require=t.require||f(e),t.exports={},t,e.m.id,e.p.m.id),t.loaded=!0}return i(t.runModuleSetters)&&t.runModuleSetters(),t.exports}function s(e){return e&&o(e.c)}function l(e,r,n){if(Array.isArray(r)){var f=[];r.forEach(function(e){u(e)?f.push(e):i(e)&&(r=e)}),i(r)?r.d=f:r=null}else i(r)?r.d=r.d||[]:u(r)||o(r)||(r=null);r&&(e.c=e.c||(o(r)?{}:r),o(r)&&s(e)&&Object.keys(r).forEach(function(o){if(".."===o)i=e.p;else{var i=t(e.c,o);i||(i=e.c[o]=new c(e.m.id.replace(/\/*$/,"/")+o,e),i.o=n)}l(i,r[o],n)}))}function d(e){return e.o&&e.o.extensions||y}function p(e,r,n){for(;e&&!s(e);)e=e.p;if(!e||!r||"."===r)return e;if(".."===r)return e.p;var o=t(e.c,r);if(n&&(!o||s(o)))for(var i=0;i<n.length;++i){var u=t(e.c,r+n[i]);if(u)return u}return o}function v(e,r,n){var t=r.split("/");return t.every(function(r,o){return e=o<t.length-1?p(e,r):p(e,r,n)}),e}function m(e,r,n){var t=d(e);for(e="/"===r.charAt(0)?v(b,r,t):"."===r.charAt(0)?v(e,r,t):h(e,r,t);s(e);){if(n=n||[],n.indexOf(e)<0){n.push(e);var o=p(e,"package.json"),i=o&&a(o).main;if(u(i)&&(e=v(e,i,t)||m(e,i,n)))continue}e=p(e,"index.js")}return e&&u(e.c)&&(e=m(e,e.c,n)),e}function h(e,r,n){if(i(w)&&(r=w(r,e.m.id)),u(r)){for(var t;e&&!t;e=e.p)t=s(e)&&v(e,"node_modules/"+r,n);return t}}e=e||{};var y=e.extensions||[".js",".json"],k=e.onInstall,w=e.override,g=e.fallback,x={}.hasOwnProperty,b=new c("/",new c("/..")),j=f(b);return n.prototype.resolve=function(e){return this.require.resolve(e)},r.Module=n,r},"object"==typeof exports&&(exports.makeInstaller=t),function(){var r={},n=r.hasOwnProperty,i=/^[^.\/]/;r.fallback=function(e,r,n){if(i.test(e)&&"object"==typeof Npm&&"function"==typeof Npm.require)return Npm.require(e);throw n},r.fallback.resolve=function(r,n,t){if(e.isServer&&i.test(r))return r;throw t},o=t(r);var u=o.Module.prototype;e.isServer&&(u.useNode=function(){if("function"!=typeof npmRequire)return!1;var e=this.id.split("/"),r=0;if(""===e[r]&&++r,"node_modules"===e[r]&&"meteor"===e[r+1]&&(r+=2),e.indexOf("node_modules",r)<0)return!1;try{npmRequire.resolve(this.id)}catch(n){return!1}return this.exports=npmRequire(this.id),!0})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var n in r)n in e||(e[n]=r[n])}(Package["modules-runtime"]={},{meteorInstall:o})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,s=Package["modules-runtime"].meteorInstall,o,a,i=s({node_modules:{meteor:{modules:{"client.js":["./install-packages.js","./stubs.js","./buffer.js","./process.js","reify/lib/runtime","./css",function(e,t,r){e("./install-packages.js"),e("./stubs.js"),e("./buffer.js"),e("./process.js"),e("reify/lib/runtime").enable(r.constructor),t.addStyles=e("./css").addStyles}],"buffer.js":["buffer",function(e){try{o=t.Buffer||e("buffer").Buffer}catch(r){}}],"css.js":function(e,t){var r=document,n=r.getElementsByTagName("head").item(0);t.addStyles=function(e){var t=r.createElement("style");t.setAttribute("type","text/css");var s=t.sheet||t.styleSheet;return s?s.cssText=e:t.appendChild(r.createTextNode(e)),n.appendChild(t)}},"install-packages.js":function(e,t,r){function n(e,t){var r={};t?r[e+".js"]=[t,function(e,r,n){n.exports=e(t)}]:r[e+".js"]=function(t,r,n){n.exports=Package[e]},s({node_modules:{meteor:r}})}n("underscore"),n("meteor"),n("meteor-base"),n("mobile-experience"),n("modules-runtime"),n("modules","meteor/modules/client.js"),n("es5-shim","meteor/es5-shim/client.js"),n("promise","meteor/promise/client.js"),n("ecmascript-runtime","meteor/ecmascript-runtime/runtime.js"),n("babel-compiler"),n("ecmascript"),n("base64"),n("ejson"),n("id-map"),n("ordered-dict"),n("tracker"),n("babel-runtime"),n("random"),n("mongo-id"),n("diff-sequence"),n("geojson-utils","meteor/geojson-utils/main.js"),n("minimongo"),n("check","meteor/check/match.js"),n("retry"),n("ddp-common"),n("reload"),n("ddp-client"),n("ddp"),n("ddp-server"),n("allow-deny"),n("insecure"),n("mongo"),n("blaze-html-templates"),n("reactive-dict"),n("session"),n("jquery","meteor/jquery/main.js"),n("standard-minifiers"),n("natestrauser:animate-css"),n("fortawesome:fontawesome"),n("reactive-var"),n("kadira:flow-router"),n("deps"),n("htmljs"),n("observe-sequence"),n("blaze"),n("spacebars"),n("templating"),n("meteorhacks:flow-layout"),n("ddp-rate-limiter"),n("localstorage"),n("callback-hook"),n("accounts-base","meteor/accounts-base/client_main.js"),n("jparker:crypto-core"),n("jparker:crypto-md5"),n("url"),n("http"),n("fami:aliyun-sdk"),n("jparker:crypto-sha1"),n("nolimits4web:swiper"),n("autoupdate"),n("meteor-platform"),n("steeve:jquery-qrcode"),n("webapp"),n("logging"),n("livedata"),n("ui"),n("fastclick"),n("mobile-status-bar"),n("launch-screen"),n("khrone:img-qrcode"),n("coffeescript"),n("dandv:caret-position"),n("mizzao:autocomplete"),n("peerlibrary:blocking"),n("peerlibrary:xml2js"),n("markdown"),n("hot-code-push"),n("standard-minifier-css"),n("standard-minifier-js"),n("service-configuration")},"process.js":["process",function(o,i,c){try{a=t.process||o("process")}catch(u){a={}}e.isServer?s({node_modules:{"process.js":function(e,t,r){r.exports=a}}}):(a.platform="browser",a.nextTick=a.nextTick||e._setImmediate),"object"!=typeof a.env&&(a.env={}),n.extend(a.env,r)}],"stubs.js":["meteor-node-stubs",function(e){try{e("meteor-node-stubs")}catch(t){}}],node_modules:{reify:{lib:{"runtime.js":["./entry.js","./utils.js",function(e,t,r){var n=e("./entry.js").Entry,s=e("./utils.js");t.enable=function(t){function r(e){var t=e.exports;t&&"object"==typeof t&&(t.__esModule=!0)}var o=t.prototype;return"function"==typeof o["import"]&&"function"==typeof o["export"]?t:(o.resolve=o.resolve||function a(e){throw new Error("Module.prototype.resolve not implemented")},o.runModuleSetters=function i(e){var t=n.get(this.id);return t&&t.runModuleSetters(this),e},o["import"]=function(t,s){var a=this;r(a);var i=a.resolve(t);if(s&&"object"==typeof s){var c=n.getOrCreate(i);c.addSetters(a,s)}var u=c&&c.runCount,l="function"==typeof a.require?a.require(i):e(i);c&&c.runCount===u&&c.runModuleSetters({id:i,exports:l,getExportByName:o.getExportByName})},o["export"]=function(e){var t=this;r(t),s.isPlainObject(e)&&n.getOrCreate(t.id).addGetters(e),t.loaded&&t.runModuleSetters()},o.getExportByName=function(e){var t=this.exports;return"*"===e?t:"default"!==e||t&&"object"==typeof t&&t.__esModule&&"default"in t?t&&t[e]:t},t)}}],"entry.js":["./utils.js",function(e,t,r){function n(e){this.id=e,this.runCount=0,this.setters=Object.create(null),this.getters=Object.create(null)}function s(e){var t=i[e.id];t&&t.runModuleSetters(e)}function o(e){var t=i[e.id];return t?t.runModuleGetters(e):0}var a=Object.prototype.hasOwnProperty,i=Object.create(null),c=e("./utils.js"),u=n.prototype;n.get=function(e){return i[e]||null},n.getOrCreate=function(e){return i[e]=i[e]||new n(e)},u.addSetters=function(e,t){var r=this;Object.keys(t).forEach(function(n){var s=t[n];"function"==typeof s&&"__esModule"!==n&&(s.parent=e,(r.setters[n]=r.setters[n]||[]).push(s))})},u.addGetters=function(e){var t=this;Object.keys(e).forEach(function(r){var n=e[r];"function"==typeof n&&"__esModule"!==r&&(t.getters[r]=n)})},u.runModuleGetters=function(e){var t=this,r=0;return Object.keys(t.getters).forEach(function(n){t.runGetter(e,n)&&++r}),r},u.runGetter=function(e,t){if(!a.call(this.getters,t))return!1;var r=this.getters[t];try{var n=r.call(e)}catch(s){}var o=e.exports;return a.call(o,t)&&o[t]===n?!1:(o[t]=n,!0)},u.runModuleSetters=function(e){function t(t,s){function o(e,r,n){return"__esModule"!==n?(e.last=e.last||Object.create(null),a.call(e.last,n)&&e.last[n]===r?void 0:t.apply(s,arguments)):void 0}n.forEach(function(t){r.setters[t].forEach(function(r){var n=e.getExportByName(t);"*"===t?Object.keys(n).forEach(function(e){o(r,n[e],e)}):o(r,n,t)})})}var r=this,n=Object.keys(r.setters);r.runModuleGetters(e);var i=[],u,l;t(function(e,t,r){var n=e.parent;l=l||Object.create(null),a.call(l,n.id)||(u=u||Object.create(null),u[n.id]=n,c.isPlainObject(n.exports)?l[n.id]=c.assign({},n.exports):l[n.id]=n.exports),i.push(e,t,r)});for(var f=0;f<i.length;f+=3){var d=i[f],m=i[f+1],p=i[f+2];d.call(e,d.last[p]=m,p)}++r.runCount,u&&Object.keys(u).forEach(function(e){var t=u[e];if(o(t)>0)return s(t);var r=t.exports,n=l[t.id];c.shallowObjEqual(r,n)||s(t)})},t.Entry=n}],"utils.js":function(e,t){function r(e){return s.call(e)===o}var n=Object.prototype.hasOwnProperty,s=Object.prototype.toString,o=s.call({});t.isPlainObject=r,t.assign=Object.assign||function(e){for(var t=arguments.length,r=1;t>r;++r){var n=arguments[r];if(n&&"object"==typeof n)for(var s=Object.keys(n),o=0;o<s.length;++o){var a=s[o];e[a]=n[a]}}return e},t.shallowObjEqual=function(e,t){if(e===t)return!0;if(!r(e)||!r(t))return!1;var s=Object.keys(e),o=Object.keys(t);return s.length!==o.length?!1:s.every(function(r){return n.call(t,r)&&e[r]===t[r]})}}}}}}}}},{extensions:[".js",".json"]}),c=i("./node_modules/meteor/modules/client.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package.modules=c,{meteorInstall:s,Buffer:o,process:a})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.modules.meteorInstall,o=Package.modules.Buffer,i=Package.modules.process,a,c,u,s,f=n({node_modules:{meteor:{"es5-shim":{"client.js":["./import_globals.js","es5-shim/es5-shim.js","es5-shim/es5-sham.js","./console.js","./export_globals.js",function(t){t("./import_globals.js"),t("es5-shim/es5-shim.js"),t("es5-shim/es5-sham.js"),t("./console.js"),t("./export_globals.js")}],"console.js":function(){function t(t){var e=console[t];e&&"object"==typeof e&&(console[t]=function(){return Function.prototype.apply.call(e,console,arguments)})}var e=Object.prototype.hasOwnProperty;if("object"==typeof console&&"object"==typeof console.log)for(var r in console)e.call(console,r)&&t(r)},"export_globals.js":function(){e.Date!==a&&(e.Date=a),e.parseInt!==c&&(e.parseInt=c),e.parseFloat!==u&&(e.parseFloat=u);var t=String.prototype;t.replace!==s&&(t.replace=s)},"import_globals.js":function(){a=e.Date,c=e.parseInt,u=e.parseFloat,s=String.prototype.replace},node_modules:{"es5-shim":{"es5-shim.js":function(t,e,r){!function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof e?r.exports=n():t.returnExports=n()}(this,function(){var t=Array,e=t.prototype,r=Object,n=r.prototype,o=Function,i=o.prototype,s=String,f=s.prototype,l=Number,p=l.prototype,h=e.slice,y=e.splice,d=e.push,g=e.unshift,b=e.concat,v=e.join,m=i.call,w=i.apply,j=Math.max,O=Math.min,T=n.toString,E="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,x,_=Function.prototype.toString,S=/^\s*class /,P=function $e(t){try{var e=_.call(t),r=e.replace(/\/\/.*\n/g,""),n=r.replace(/\/\*[.\s\S]*\*\//g,""),o=n.replace(/\n/gm," ").replace(/ {2}/g," ");return S.test(o)}catch(i){return!1}},M=function ze(t){try{return P(t)?!1:(_.call(t),!0)}catch(e){return!1}},I="[object Function]",D="[object GeneratorFunction]",x=function Je(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if(E)return M(t);if(P(t))return!1;var e=T.call(t);return e===I||e===D},k,F=RegExp.prototype.exec,U=function Ge(t){try{return F.call(t),!0}catch(e){return!1}},N="[object RegExp]";k=function Ze(t){return"object"!=typeof t?!1:E?U(t):T.call(t)===N};var C,A=String.prototype.valueOf,R=function Ye(t){try{return A.call(t),!0}catch(e){return!1}},$="[object String]";C=function We(t){return"string"==typeof t?!0:"object"!=typeof t?!1:E?R(t):T.call(t)===$};var z=r.defineProperty&&function(){try{var t={};r.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(n){return!1}}(),J=function(t){var e;return e=z?function(t,e,n,o){!o&&e in t||r.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,r,n){!n&&e in t||(t[e]=r)},function n(r,o,i){for(var a in o)t.call(o,a)&&e(r,a,o[a],i)}}(n.hasOwnProperty),G=function Be(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e},Z=l.isNaN||function(t){return t!==t},Y={ToInteger:function Xe(t){var e=+t;return Z(e)?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},ToPrimitive:function He(t){var e,r,n;if(G(t))return t;if(r=t.valueOf,x(r)&&(e=r.call(t),G(e)))return e;if(n=t.toString,x(n)&&(e=n.call(t),G(e)))return e;throw new TypeError},ToObject:function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return r(t)},ToUint32:function Le(t){return t>>>0}},W=function qe(){};J(i,{bind:function Ke(t){var e=this;if(!x(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var n=h.call(arguments,1),i,a=function(){if(this instanceof i){var o=w.call(e,this,b.call(n,h.call(arguments)));return r(o)===o?o:this}return w.call(e,t,b.call(n,h.call(arguments)))},c=j(0,e.length-n.length),u=[],s=0;c>s;s++)d.call(u,"$"+s);return i=o("binder","return function ("+v.call(u,",")+"){ return binder.apply(this, arguments); }")(a),e.prototype&&(W.prototype=e.prototype,i.prototype=new W,W.prototype=null),i}});var B=m.bind(n.hasOwnProperty),X=m.bind(n.toString),H=m.bind(h),L=w.bind(h),q=m.bind(f.slice),K=m.bind(f.split),Q=m.bind(f.indexOf),V=m.bind(d),tt=m.bind(n.propertyIsEnumerable),et=m.bind(e.sort),rt=t.isArray||function Qe(t){return"[object Array]"===X(t)},nt=1!==[].unshift(0);J(e,{unshift:function(){return g.apply(this,arguments),this.length}},nt),J(t,{isArray:rt});var ot=r("a"),it="a"!==ot[0]||!(0 in ot),at=function Ve(t){var e=!0,r=!0,n=!1;if(t)try{t.call("foo",function(t,r,n){"object"!=typeof n&&(e=!1)}),t.call([1],function(){"use strict";r="string"==typeof this},"x")}catch(o){n=!0}return!!t&&!n&&e&&r};J(e,{forEach:function tr(t){var e=Y.ToObject(this),r=it&&C(this)?K(this,""):e,n=-1,o=Y.ToUint32(r.length),i;if(arguments.length>1&&(i=arguments[1]),!x(t))throw new TypeError("Array.prototype.forEach callback must be a function");for(;++n<o;)n in r&&("undefined"==typeof i?t(r[n],n,e):t.call(i,r[n],n,e))}},!at(e.forEach)),J(e,{map:function er(e){var r=Y.ToObject(this),n=it&&C(this)?K(this,""):r,o=Y.ToUint32(n.length),i=t(o),a;if(arguments.length>1&&(a=arguments[1]),!x(e))throw new TypeError("Array.prototype.map callback must be a function");for(var c=0;o>c;c++)c in n&&("undefined"==typeof a?i[c]=e(n[c],c,r):i[c]=e.call(a,n[c],c,r));return i}},!at(e.map)),J(e,{filter:function rr(t){var e=Y.ToObject(this),r=it&&C(this)?K(this,""):e,n=Y.ToUint32(r.length),o=[],i,a;if(arguments.length>1&&(a=arguments[1]),!x(t))throw new TypeError("Array.prototype.filter callback must be a function");for(var c=0;n>c;c++)c in r&&(i=r[c],("undefined"==typeof a?t(i,c,e):t.call(a,i,c,e))&&V(o,i));return o}},!at(e.filter)),J(e,{every:function nr(t){var e=Y.ToObject(this),r=it&&C(this)?K(this,""):e,n=Y.ToUint32(r.length),o;if(arguments.length>1&&(o=arguments[1]),!x(t))throw new TypeError("Array.prototype.every callback must be a function");for(var i=0;n>i;i++)if(i in r&&!("undefined"==typeof o?t(r[i],i,e):t.call(o,r[i],i,e)))return!1;return!0}},!at(e.every)),J(e,{some:function or(t){var e=Y.ToObject(this),r=it&&C(this)?K(this,""):e,n=Y.ToUint32(r.length),o;if(arguments.length>1&&(o=arguments[1]),!x(t))throw new TypeError("Array.prototype.some callback must be a function");for(var i=0;n>i;i++)if(i in r&&("undefined"==typeof o?t(r[i],i,e):t.call(o,r[i],i,e)))return!0;return!1}},!at(e.some));var ct=!1;e.reduce&&(ct="object"==typeof e.reduce.call("es5",function(t,e,r,n){return n})),J(e,{reduce:function ir(t){var e=Y.ToObject(this),r=it&&C(this)?K(this,""):e,n=Y.ToUint32(r.length);if(!x(t))throw new TypeError("Array.prototype.reduce callback must be a function");if(0===n&&1===arguments.length)throw new TypeError("reduce of empty array with no initial value");var o=0,i;if(arguments.length>=2)i=arguments[1];else for(;;){if(o in r){i=r[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;n>o;o++)o in r&&(i=t(i,r[o],o,e));return i}},!ct);var ut=!1;e.reduceRight&&(ut="object"==typeof e.reduceRight.call("es5",function(t,e,r,n){return n})),J(e,{reduceRight:function ar(t){var e=Y.ToObject(this),r=it&&C(this)?K(this,""):e,n=Y.ToUint32(r.length);if(!x(t))throw new TypeError("Array.prototype.reduceRight callback must be a function");if(0===n&&1===arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var o,i=n-1;if(arguments.length>=2)o=arguments[1];else for(;;){if(i in r){o=r[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>i)return o;do i in r&&(o=t(o,r[i],i,e));while(i--);return o}},!ut);var st=e.indexOf&&-1!==[0,1].indexOf(1,2);J(e,{indexOf:function cr(t){var e=it&&C(this)?K(this,""):Y.ToObject(this),r=Y.ToUint32(e.length);if(0===r)return-1;var n=0;for(arguments.length>1&&(n=Y.ToInteger(arguments[1])),n=n>=0?n:j(0,r+n);r>n;n++)if(n in e&&e[n]===t)return n;return-1}},st);var ft=e.lastIndexOf&&-1!==[0,1].lastIndexOf(0,-3);J(e,{lastIndexOf:function ur(t){var e=it&&C(this)?K(this,""):Y.ToObject(this),r=Y.ToUint32(e.length);if(0===r)return-1;var n=r-1;for(arguments.length>1&&(n=O(n,Y.ToInteger(arguments[1]))),n=n>=0?n:r-Math.abs(n);n>=0;n--)if(n in e&&t===e[n])return n;return-1}},ft);var lt=function(){var t=[1,2],e=t.splice();return 2===t.length&&rt(e)&&0===e.length}();J(e,{splice:function sr(t,e){return 0===arguments.length?[]:y.apply(this,arguments)}},!lt);var pt=function(){var t={};return e.splice.call(t,0,0,1),1===t.length}();J(e,{splice:function fr(t,e){if(0===arguments.length)return[];var r=arguments;return this.length=j(Y.ToInteger(this.length),0),arguments.length>0&&"number"!=typeof e&&(r=H(arguments),r.length<2?V(r,this.length-t):r[1]=Y.ToInteger(e)),y.apply(this,r)}},!pt);var ht=function(){var e=new t(1e5);return e[8]="x",e.splice(1,1),7===e.indexOf("x")}(),yt=function(){var t=256,e=[];return e[t]="a",e.splice(t+1,0,"b"),"a"===e[t]}();J(e,{splice:function lr(t,e){for(var r=Y.ToObject(this),n=[],o=Y.ToUint32(r.length),i=Y.ToInteger(t),a=0>i?j(o+i,0):O(i,o),c=O(j(Y.ToInteger(e),0),o-a),u=0,f;c>u;)f=s(a+u),B(r,f)&&(n[u]=r[f]),u+=1;var l=H(arguments,2),p=l.length,h;if(c>p){u=a;for(var y=o-c;y>u;)f=s(u+c),h=s(u+p),B(r,f)?r[h]=r[f]:delete r[h],u+=1;u=o;for(var d=o-c+p;u>d;)delete r[u-1],u-=1}else if(p>c)for(u=o-c;u>a;)f=s(u+c-1),h=s(u+p-1),B(r,f)?r[h]=r[f]:delete r[h],u-=1;u=a;for(var g=0;g<l.length;++g)r[u]=l[g],u+=1;return r.length=o-c+p,n}},!ht||!yt);var dt=e.join,gt;try{gt="1,2,3"!==Array.prototype.join.call("123",",")}catch(bt){gt=!0}gt&&J(e,{join:function pr(t){var e="undefined"==typeof t?",":t;return dt.call(C(this)?K(this,""):this,e)}},gt);var vt="1,2"!==[1,2].join(void 0);vt&&J(e,{join:function hr(t){var e="undefined"==typeof t?",":t;return dt.call(this,e)}},vt);var mt=function yr(t){for(var e=Y.ToObject(this),r=Y.ToUint32(e.length),n=0;n<arguments.length;)e[r+n]=arguments[n],n+=1;return e.length=r+n,r+n},wt=function(){var t={},e=Array.prototype.push.call(t,void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!B(t,0)}();J(e,{push:function dr(t){return rt(this)?d.apply(this,arguments):mt.apply(this,arguments)}},wt);var jt=function(){var t=[],e=t.push(void 0);return 1!==e||1!==t.length||"undefined"!=typeof t[0]||!B(t,0)}();J(e,{push:mt},jt),J(e,{slice:function(t,e){var r=C(this)?K(this,""):this;return L(r,arguments)}},it);var Ot=function(){try{return[1,2].sort(null),[1,2].sort({}),!0}catch(t){}return!1}(),Tt=function(){try{return[1,2].sort(/a/),!1}catch(t){}return!0}(),Et=function(){try{return[1,2].sort(void 0),!0}catch(t){}return!1}();J(e,{sort:function gr(t){if("undefined"==typeof t)return et(this);if(!x(t))throw new TypeError("Array.prototype.sort callback must be a function");return et(this,t)}},Ot||!Et||!Tt);var xt=!{toString:null}.propertyIsEnumerable("toString"),_t=function(){}.propertyIsEnumerable("prototype"),St=!B("x","0"),Pt=function(t){var e=t.constructor;return e&&e.prototype===t},Mt={$window:!0,$console:!0,$parent:!0,$self:!0,$frame:!0,$frames:!0,$frameElement:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$external:!0},It=function(){if("undefined"==typeof window)return!1;for(var t in window)try{!Mt["$"+t]&&B(window,t)&&null!==window[t]&&"object"==typeof window[t]&&Pt(window[t])}catch(e){return!0}return!1}(),Dt=function(t){if("undefined"==typeof window||!It)return Pt(t);try{return Pt(t)}catch(e){return!1}},kt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ft=kt.length,Ut=function br(t){return"[object Arguments]"===X(t)},Nt=function vr(t){return null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&!rt(t)&&x(t.callee)},Ct=Ut(arguments)?Ut:Nt;J(r,{keys:function mr(t){var e=x(t),r=Ct(t),n=null!==t&&"object"==typeof t,o=n&&C(t);if(!n&&!e&&!r)throw new TypeError("Object.keys called on a non-object");var i=[],a=_t&&e;if(o&&St||r)for(var c=0;c<t.length;++c)V(i,s(c));if(!r)for(var u in t)a&&"prototype"===u||!B(t,u)||V(i,s(u));if(xt)for(var f=Dt(t),l=0;Ft>l;l++){var p=kt[l];f&&"constructor"===p||!B(t,p)||V(i,p)}return i}});var At=r.keys&&function(){return 2===r.keys(arguments).length}(1,2),Rt=r.keys&&function(){var t=r.keys(arguments);return 1!==arguments.length||1!==t.length||1!==t[0]}(1),$t=r.keys;J(r,{keys:function wr(t){return $t(Ct(t)?H(t):t)}},!At||Rt);var zt=0!==new a(-0xc782b5b342b24).getUTCMonth(),Jt=new a(-0x55d318d56a724),Gt=new a(14496624e5),Zt="Mon, 01 Jan -45875 11:59:59 GMT"!==Jt.toUTCString(),Yt,Wt,Bt=Jt.getTimezoneOffset();-720>Bt?(Yt="Tue Jan 02 -45875"!==Jt.toDateString(),Wt=!/^Thu Dec 10 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Gt.toString())):(Yt="Mon Jan 01 -45875"!==Jt.toDateString(),Wt=!/^Wed Dec 09 2015 \d\d:\d\d:\d\d GMT[-\+]\d\d\d\d(?: |$)/.test(Gt.toString()));var Xt=m.bind(a.prototype.getFullYear),Ht=m.bind(a.prototype.getMonth),Lt=m.bind(a.prototype.getDate),qt=m.bind(a.prototype.getUTCFullYear),Kt=m.bind(a.prototype.getUTCMonth),Qt=m.bind(a.prototype.getUTCDate),Vt=m.bind(a.prototype.getUTCDay),te=m.bind(a.prototype.getUTCHours),ee=m.bind(a.prototype.getUTCMinutes),re=m.bind(a.prototype.getUTCSeconds),ne=m.bind(a.prototype.getUTCMilliseconds),oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ae=function jr(t,e){return Lt(new a(e,t,0))};J(a.prototype,{getFullYear:function Or(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var t=Xt(this);return 0>t&&Ht(this)>11?t+1:t},getMonth:function Tr(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var t=Xt(this),e=Ht(this);return 0>t&&e>11?0:e},getDate:function Er(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var t=Xt(this),e=Ht(this),r=Lt(this);if(0>t&&e>11){if(12===e)return r;var n=ae(0,t+1);return n-r+1}return r},getUTCFullYear:function xr(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var t=qt(this);return 0>t&&Kt(this)>11?t+1:t},getUTCMonth:function _r(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var t=qt(this),e=Kt(this);return 0>t&&e>11?0:e},getUTCDate:function Sr(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var t=qt(this),e=Kt(this),r=Qt(this);if(0>t&&e>11){if(12===e)return r;var n=ae(0,t+1);return n-r+1}return r}},zt),J(a.prototype,{toUTCString:function Pr(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var t=Vt(this),e=Qt(this),r=Kt(this),n=qt(this),o=te(this),i=ee(this),c=re(this);return oe[t]+", "+(10>e?"0"+e:e)+" "+ie[r]+" "+n+" "+(10>o?"0"+o:o)+":"+(10>i?"0"+i:i)+":"+(10>c?"0"+c:c)+" GMT"}},zt||Zt),J(a.prototype,{toDateString:function Mr(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),r=this.getMonth(),n=this.getFullYear();return oe[t]+" "+ie[r]+" "+(10>e?"0"+e:e)+" "+n}},zt||Yt),(zt||Wt)&&(a.prototype.toString=function Ir(){if(!(this&&this instanceof a))throw new TypeError("this is not a Date object.");var t=this.getDay(),e=this.getDate(),r=this.getMonth(),n=this.getFullYear(),o=this.getHours(),i=this.getMinutes(),c=this.getSeconds(),u=this.getTimezoneOffset(),s=Math.floor(Math.abs(u)/60),f=Math.floor(Math.abs(u)%60);return oe[t]+" "+ie[r]+" "+(10>e?"0"+e:e)+" "+n+" "+(10>o?"0"+o:o)+":"+(10>i?"0"+i:i)+":"+(10>c?"0"+c:c)+" GMT"+(u>0?"-":"+")+(10>s?"0"+s:s)+(10>f?"0"+f:f)},z&&r.defineProperty(a.prototype,"toString",{configurable:!0,enumerable:!1,writable:!0}));var ce=-621987552e5,ue="-000001",se=a.prototype.toISOString&&-1===new a(ce).toISOString().indexOf(ue),fe=a.prototype.toISOString&&"1969-12-31T23:59:59.999Z"!==new a(-1).toISOString(),le=m.bind(a.prototype.getTime);J(a.prototype,{toISOString:function Dr(){if(!isFinite(this)||!isFinite(le(this)))throw new RangeError("Date.prototype.toISOString called on non-finite value.");var t=qt(this),e=Kt(this);t+=Math.floor(e/12),e=(e%12+12)%12;var r=[e+1,Qt(this),te(this),ee(this),re(this)];t=(0>t?"-":t>9999?"+":"")+q("00000"+Math.abs(t),t>=0&&9999>=t?-4:-6);for(var n=0;n<r.length;++n)r[n]=q("00"+r[n],-2);return t+"-"+H(r,0,2).join("-")+"T"+H(r,2).join(":")+"."+q("000"+ne(this),-3)+"Z"}},se||fe);var pe=function(){try{return a.prototype.toJSON&&null===new a(0/0).toJSON()&&-1!==new a(ce).toJSON().indexOf(ue)&&a.prototype.toJSON.call({toISOString:function(){return!0}})}catch(t){return!1}}();pe||(a.prototype.toJSON=function kr(t){var e=r(this),n=Y.ToPrimitive(e);if("number"==typeof n&&!isFinite(n))return null;var o=e.toISOString;if(!x(o))throw new TypeError("toISOString property is not callable");return o.call(e)});var he=1e15===a.parse("+033658-09-27T01:46:40.000Z"),ye=!isNaN(a.parse("2012-04-04T24:00:00.500Z"))||!isNaN(a.parse("2012-11-31T23:59:59.000Z"))||!isNaN(a.parse("2012-12-31T23:59:60.000Z")),de=isNaN(a.parse("2000-01-01T00:00:00.000Z"));if(de||ye||!he){var ge=Math.pow(2,31)-1,be=Z(new a(1970,0,1,0,0,0,ge+1).getTime());a=function(t){var e=function u(r,n,o,i,a,c,f){var l=arguments.length,p;if(this instanceof t){var h=c,y=f;if(be&&l>=7&&f>ge){var d=Math.floor(f/ge)*ge,g=Math.floor(d/1e3);h+=g,y-=1e3*g}p=1===l&&s(r)===r?new t(e.parse(r)):l>=7?new t(r,n,o,i,a,h,y):l>=6?new t(r,n,o,i,a,h):l>=5?new t(r,n,o,i,a):l>=4?new t(r,n,o,i):l>=3?new t(r,n,o):l>=2?new t(r,n):l>=1?new t(r instanceof t?+r:r):new t}else p=t.apply(this,arguments);return G(p)||J(p,{constructor:e},!0),p},r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),n=[0,31,59,90,120,151,181,212,243,273,304,334,365],o=function f(t,e){var r=e>1?1:0;return n[e]+Math.floor((t-1969+r)/4)-Math.floor((t-1901+r)/100)+Math.floor((t-1601+r)/400)+365*(t-1970)},i=function p(e){var r=0,n=e;if(be&&n>ge){var o=Math.floor(n/ge)*ge,i=Math.floor(o/1e3);r+=i,n-=1e3*i}return l(new t(1970,0,1,0,0,r,n))};for(var a in t)B(t,a)&&(e[a]=t[a]);J(e,{now:t.now,UTC:t.UTC},!0),e.prototype=t.prototype,J(e.prototype,{constructor:e},!0);var c=function h(e){var n=r.exec(e);if(n){var a=l(n[1]),c=l(n[2]||1)-1,u=l(n[3]||1)-1,s=l(n[4]||0),f=l(n[5]||0),p=l(n[6]||0),h=Math.floor(1e3*l(n[7]||0)),y=Boolean(n[4]&&!n[8]),d="-"===n[9]?1:-1,g=l(n[10]||0),b=l(n[11]||0),v,m=f>0||p>0||h>0;return(m?24:25)>s&&60>f&&60>p&&1e3>h&&c>-1&&12>c&&24>g&&60>b&&u>-1&&u<o(a,c+1)-o(a,c)&&(v=60*(24*(o(a,c)+u)+s+g*d),v=1e3*(60*(v+f+b*d)+p)+h,y&&(v=i(v)),v>=-864e13&&864e13>=v)?v:0/0}return t.parse.apply(this,arguments)};return J(e,{parse:c}),e}(a)}a.now||(a.now=function Fr(){return(new a).getTime()});var ve=p.toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0)),me={base:1e7,size:6,data:[0,0,0,0,0,0],multiply:function Ur(t,e){for(var r=-1,n=e;++r<me.size;)n+=t*me.data[r],me.data[r]=n%me.base,n=Math.floor(n/me.base)},divide:function Nr(t){for(var e=me.size,r=0;--e>=0;)r+=me.data[e],me.data[e]=Math.floor(r/t),r=r%t*me.base},numToString:function Cr(){for(var t=me.size,e="";--t>=0;)if(""!==e||0===t||0!==me.data[t]){var r=s(me.data[t]);""===e?e=r:e+=q("0000000",0,7-r.length)+r}return e},pow:function Ar(t,e,r){return 0===e?r:e%2===1?Ar(t,e-1,r*t):Ar(t*t,e/2,r)},log:function Rr(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}},we=function $r(t){var e,r,n,o,i,a,c,u;if(e=l(t),e=Z(e)?0:Math.floor(e),0>e||e>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(r=l(this),Z(r))return"NaN";if(-1e21>=r||r>=1e21)return s(r);if(n="",0>r&&(n="-",r=-r),o="0",r>1e-21)if(i=me.log(r*me.pow(2,69,1))-69,a=0>i?r*me.pow(2,-i,1):r/me.pow(2,i,1),a*=4503599627370496,i=52-i,i>0){for(me.multiply(0,a),c=e;c>=7;)me.multiply(1e7,0),c-=7;for(me.multiply(me.pow(10,c,1),0),c=i-1;c>=23;)me.divide(1<<23),c-=23;me.divide(1<<c),me.multiply(1,1),me.divide(2),o=me.numToString()}else me.multiply(0,a),me.multiply(1<<-i,0),o=me.numToString()+q("0.00000000000000000000",2,2+e);return e>0?(u=o.length,o=e>=u?n+q("0.0000000000000000000",0,e-u+2)+o:n+q(o,0,u-e)+"."+q(o,u-e)):o=n+o,o};J(p,{toFixed:we},ve);var je=function(){try{return"1"===1..toPrecision(void 0)}catch(t){return!0}}(),Oe=p.toPrecision;J(p,{toPrecision:function zr(t){return"undefined"==typeof t?Oe.call(this):Oe.call(this,t)}},je),2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t="undefined"==typeof/()??/.exec("")[1],e=Math.pow(2,32)-1;f.split=function(r,n){var o=String(this);if("undefined"==typeof r&&0===n)return[];if(!k(r))return K(this,r,n);var i=[],a=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(r.sticky?"y":""),c=0,u,s,f,l,p=new RegExp(r.source,a+"g");t||(u=new RegExp("^"+p.source+"$(?!\\s)",a));var h="undefined"==typeof n?e:Y.ToUint32(n);for(s=p.exec(o);s&&(f=s.index+s[0].length,!(f>c&&(V(i,q(o,c,s.index)),!t&&s.length>1&&s[0].replace(u,function(){for(var t=1;t<arguments.length-2;t++)"undefined"==typeof arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<o.length&&d.apply(i,H(s,1)),l=s[0].length,c=f,i.length>=h)));)p.lastIndex===s.index&&p.lastIndex++,s=p.exec(o);return c===o.length?(l||!p.test(""))&&V(i,""):V(i,q(o,c)),i.length>h?H(i,0,h):i}}():"0".split(void 0,0).length&&(f.split=function Jr(t,e){return"undefined"==typeof t&&0===e?[]:K(this,t,e)});var Te=f.replace,Ee=function(){var t=[];return"x".replace(/x(.)?/g,function(e,r){V(t,r)}),1===t.length&&"undefined"==typeof t[0]}();Ee||(f.replace=function Gr(t,e){var r=x(e),n=k(t)&&/\)[*?]/.test(t.source);if(r&&n){var o=function(r){var n=arguments.length,o=t.lastIndex;t.lastIndex=0;var i=t.exec(r)||[];return t.lastIndex=o,V(i,arguments[n-2],arguments[n-1]),e.apply(this,i)};return Te.call(this,t,o)}return Te.call(this,t,e)});var xe=f.substr,_e="".substr&&"b"!=="0b".substr(-1);J(f,{substr:function Zr(t,e){var r=t;return 0>t&&(r=j(this.length+t,0)),xe.call(this,r,e)}},_e);var Se="	\n\f\r   ᠎             　\u2028\u2029\ufeff",Pe="​",Me="["+Se+"]",Ie=new RegExp("^"+Me+Me+"*"),De=new RegExp(Me+Me+"*$"),ke=f.trim&&(Se.trim()||!Pe.trim());J(f,{trim:function Yr(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return s(this).replace(Ie,"").replace(De,"")}},ke);var Fe=m.bind(String.prototype.trim),Ue=f.lastIndexOf&&-1!=="abcあい".lastIndexOf("あい",2);J(f,{lastIndexOf:function Wr(t){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");for(var e=s(this),r=s(t),n=arguments.length>1?l(arguments[1]):0/0,o=Z(n)?1/0:Y.ToInteger(n),i=O(j(o,0),e.length),a=r.length,c=i+a;c>0;){c=j(0,c-a);var u=Q(q(e,c,i+a),r);if(-1!==u)return c+u}return-1}},Ue);var Ne=f.lastIndexOf;if(J(f,{lastIndexOf:function Br(t){return Ne.apply(this,arguments)}},1!==f.lastIndexOf.length),(8!==c(Se+"08")||22!==c(Se+"0x16"))&&(c=function(t){var e=/^[\-+]?0[xX]/;return function r(n,o){var i=Fe(n),a=l(o)||(e.test(i)?16:10);return t(i,a)}}(c)),1/u("-0")!==-(1/0)&&(u=function(t){return function e(r){var n=Fe(r),o=t(n);return 0===o&&"-"===q(n,0,1)?-0:o}}(u)),"RangeError: test"!==String(new RangeError("test"))){var Ce=function Xr(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");var t=this.name;"undefined"==typeof t?t="Error":"string"!=typeof t&&(t=s(t));var e=this.message;return"undefined"==typeof e?e="":"string"!=typeof e&&(e=s(e)),t?e?t+": "+e:t:e};Error.prototype.toString=Ce}if(z){var Ae=function(t,e){if(tt(t,e)){var r=Object.getOwnPropertyDescriptor(t,e);r.enumerable=!1,Object.defineProperty(t,e,r)}};Ae(Error.prototype,"message"),""!==Error.prototype.message&&(Error.prototype.message=""),Ae(Error.prototype,"name")}if("/a/gim"!==String(/a/gim)){var Re=function Hr(){var t="/"+this.source+"/";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),t};RegExp.prototype.toString=Re}})},"es5-sham.js":function(t,e,r){!function(t,n){"use strict";"function"==typeof define&&define.amd?define(n):"object"==typeof e?r.exports=n():t.returnExports=n()}(this,function(){var t=Function.call,e=Object.prototype,r=t.bind(e.hasOwnProperty),n=t.bind(e.propertyIsEnumerable),o=t.bind(e.toString),i,a,c,u,s=r(e,"__defineGetter__");s&&(i=t.bind(e.__defineGetter__),a=t.bind(e.__defineSetter__),c=t.bind(e.__lookupGetter__),u=t.bind(e.__lookupSetter__)),Object.getPrototypeOf||(Object.getPrototypeOf=function M(t){var r=t.__proto__;return r||null===r?r:"[object Function]"===o(t.constructor)?t.constructor.prototype:t instanceof Object?e:null});var f=function I(t){try{return t.sentinel=0,0===Object.getOwnPropertyDescriptor(t,"sentinel").value}catch(e){return!1}};if(Object.defineProperty){var l=f({}),p="undefined"==typeof document||f(document.createElement("div"));if(!p||!l)var h=Object.getOwnPropertyDescriptor}if(!Object.getOwnPropertyDescriptor||h){var y="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function D(t,o){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(y+t);if(h)try{return h.call(Object,t,o)}catch(i){}var a;if(!r(t,o))return a;if(a={enumerable:n(t,o),configurable:!0},s){var f=t.__proto__,l=t!==e;l&&(t.__proto__=e);var p=c(t,o),d=u(t,o);if(l&&(t.__proto__=f),p||d)return p&&(a.get=p),d&&(a.set=d),a}return a.value=t[o],a.writable=!0,a}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function k(t){return Object.keys(t)}),!Object.create){var d,g=!({__proto__:null}instanceof Object),b=function F(){if(!document.domain)return!1;try{return!!new ActiveXObject("htmlfile")}catch(t){return!1}},v=function U(){var t,e;return e=new ActiveXObject("htmlfile"),e.write("<script></script>"),e.close(),t=e.parentWindow.Object.prototype,e=null,t},m=function N(){var t=document.createElement("iframe"),e=document.body||document.documentElement,r;return t.style.display="none",e.appendChild(t),t.src="javascript:",r=t.contentWindow.Object.prototype,e.removeChild(t),t=null,r};d=g||"undefined"==typeof document?function(){return{__proto__:null}}:function(){var t=b()?v():m();delete t.constructor,delete t.hasOwnProperty,delete t.propertyIsEnumerable,delete t.isPrototypeOf,delete t.toLocaleString,delete t.toString,delete t.valueOf;var e=function r(){};return e.prototype=t,d=function(){return new e},new e},Object.create=function C(t,e){var r,n=function o(){};if(null===t)r=d();else{if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object or null");n.prototype=t,r=new n,r.__proto__=t}return void 0!==e&&Object.defineProperties(r,e),r}}var w=function A(t){try{return Object.defineProperty(t,"sentinel",{}),"sentinel"in t}catch(e){return!1}};if(Object.defineProperty){var j=w({}),O="undefined"==typeof document||w(document.createElement("div"));if(!j||!O)var T=Object.defineProperty,E=Object.defineProperties}if(!Object.defineProperty||T){var x="Property description must be an object: ",_="Object.defineProperty called on non-object: ",S="getters & setters can not be defined on this javascript engine";Object.defineProperty=function R(t,r,n){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError(_+t);if("object"!=typeof n&&"function"!=typeof n||null===n)throw new TypeError(x+n);if(T)try{return T.call(Object,t,r,n)}catch(o){}if("value"in n)if(s&&(c(t,r)||u(t,r))){var f=t.__proto__;t.__proto__=e,delete t[r],t[r]=n.value,t.__proto__=f}else t[r]=n.value;else{if(!s&&("get"in n||"set"in n))throw new TypeError(S);"get"in n&&i(t,r,n.get),"set"in n&&a(t,r,n.set)}return t}}(!Object.defineProperties||E)&&(Object.defineProperties=function $(t,e){if(E)try{return E.call(Object,t,e)}catch(r){}return Object.keys(e).forEach(function(r){"__proto__"!==r&&Object.defineProperty(t,r,e[r])}),t}),Object.seal||(Object.seal=function z(t){if(Object(t)!==t)throw new TypeError("Object.seal can only be called on Objects.");return t}),Object.freeze||(Object.freeze=function J(t){if(Object(t)!==t)throw new TypeError("Object.freeze can only be called on Objects.");return t});try{Object.freeze(function(){})}catch(P){Object.freeze=function(t){return function e(r){return"function"==typeof r?r:t(r)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function G(t){if(Object(t)!==t)throw new TypeError("Object.preventExtensions can only be called on Objects.");return t}),Object.isSealed||(Object.isSealed=function Z(t){if(Object(t)!==t)throw new TypeError("Object.isSealed can only be called on Objects.");return!1}),Object.isFrozen||(Object.isFrozen=function Y(t){if(Object(t)!==t)throw new TypeError("Object.isFrozen can only be called on Objects.");return!1}),Object.isExtensible||(Object.isExtensible=function W(t){if(Object(t)!==t)throw new TypeError("Object.isExtensible can only be called on Objects.");for(var e="";r(t,e);)e+="?";t[e]=!0;var n=r(t,e);return delete t[e],n})})}}}}}}},{extensions:[".js",".json"]}),l=f("./node_modules/meteor/es5-shim/client.js");"undefined"==typeof Package&&(Package={}),Package["es5-shim"]=l}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.modules.meteorInstall,r=Package.modules.Buffer,i=Package.modules.process,u,c=o({node_modules:{meteor:{promise:{"client.js":["meteor-promise","./common.js",function(n,e){n("meteor-promise").makeCompatible(e.Promise=n("./common.js").Promise)}],"common.js":["promise/lib/es6-extensions",function(e,t){var o=this;"function"==typeof o.Promise?t.Promise=o.Promise:t.Promise=e("promise/lib/es6-extensions"),t.Promise.prototype.done=function(e,t){var o=this;arguments.length>0&&(o=this.then.apply(this,arguments)),o.then(null,function(e){n._setImmediate(function(){throw e})})}}],node_modules:{"meteor-promise":{"package.json":function(n,e){e.name="meteor-promise",e.version="0.7.2",e.main="promise_client.js"},"promise_client.js":function(e,t){function o(n){throw n}t.makeCompatible=function(e){var t=e.prototype.then;e.prototype.then=function(e,r){return"object"==typeof n&&"function"==typeof n.bindEnvironment?t.call(this,e&&n.bindEnvironment(e,o),r&&n.bindEnvironment(r,o)):t.call(this,e,r)}}}},promise:{lib:{"es6-extensions.js":["./core.js",function(n,e,t){"use strict";function o(n){var e=new r(r._61);return e._81=1,e._65=n,e}var r=n("./core.js");t.exports=r;var i=o(!0),u=o(!1),c=o(null),f=o(void 0),s=o(0),a=o("");r.resolve=function(n){if(n instanceof r)return n;if(null===n)return c;if(void 0===n)return f;if(n===!0)return i;if(n===!1)return u;if(0===n)return s;if(""===n)return a;if("object"==typeof n||"function"==typeof n)try{var e=n.then;if("function"==typeof e)return new r(e.bind(n))}catch(t){return new r(function(n,e){e(t)})}return o(n)},r.all=function(n){var e=Array.prototype.slice.call(n);return new r(function(n,t){function o(u,c){if(c&&("object"==typeof c||"function"==typeof c)){if(c instanceof r&&c.then===r.prototype.then){for(;3===c._81;)c=c._65;return 1===c._81?o(u,c._65):(2===c._81&&t(c._65),void c.then(function(n){o(u,n)},t))}var f=c.then;if("function"==typeof f){var s=new r(f.bind(c));return void s.then(function(n){o(u,n)},t)}}e[u]=c,0===--i&&n(e)}if(0===e.length)return n([]);for(var i=e.length,u=0;u<e.length;u++)o(u,e[u])})},r.reject=function(n){return new r(function(e,t){t(n)})},r.race=function(n){return new r(function(e,t){n.forEach(function(n){r.resolve(n).then(e,t)})})},r.prototype["catch"]=function(n){return this.then(null,n)}}],"core.js":["asap/raw",function(n,e,t){"use strict";function o(){}function r(n){try{return n.then}catch(e){return d=e,y}}function i(n,e){try{return n(e)}catch(t){return d=t,y}}function u(n,e,t){try{n(e,t)}catch(o){return d=o,y}}function c(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._45=0,this._81=0,this._65=null,this._54=null,n!==o&&_(n,this)}function f(n,e,t){return new n.constructor(function(r,i){var u=new c(o);u.then(r,i),s(n,new h(e,t,u))})}function s(n,e){for(;3===n._81;)n=n._65;return c._10&&c._10(n),0===n._81?0===n._45?(n._45=1,void(n._54=e)):1===n._45?(n._45=2,void(n._54=[n._54,e])):void n._54.push(e):void a(n,e)}function a(n,e){v(function(){var t=1===n._81?e.onFulfilled:e.onRejected;if(null===t)return void(1===n._81?l(e.promise,n._65):m(e.promise,n._65));var o=i(t,n._65);o===y?m(e.promise,d):l(e.promise,o)})}function l(n,e){if(e===n)return m(n,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var t=r(e);if(t===y)return m(n,d);if(t===n.then&&e instanceof c)return n._81=3,n._65=e,void p(n);if("function"==typeof t)return void _(t.bind(e),n)}n._81=1,n._65=e,p(n)}function m(n,e){n._81=2,n._65=e,c._97&&c._97(n,e),p(n)}function p(n){if(1===n._45&&(s(n,n._54),n._54=null),2===n._45){for(var e=0;e<n._54.length;e++)s(n,n._54[e]);n._54=null}}function h(n,e,t){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.promise=t}function _(n,e){var t=!1,o=u(n,function(n){t||(t=!0,l(e,n))},function(n){t||(t=!0,m(e,n))});t||o!==y||(t=!0,m(e,d))}var v=n("asap/raw"),d=null,y={};t.exports=c,c._10=null,c._97=null,c._61=o,c.prototype.then=function(n,e){if(this.constructor!==c)return f(this,n,e);var t=new c(o);return s(this,new h(n,e,t)),t}}]},node_modules:{asap:{"raw.js":["domain",function(n,e,t){"use strict";function o(n){s.length||(u(),a=!0),s[s.length]=n}function r(){for(;l<s.length;){var n=l;if(l+=1,s[n].call(),l>m){for(var e=0,t=s.length-l;t>e;e++)s[e]=s[e+l];s.length-=l,l=0}}s.length=0,l=0,a=!1}function u(){var e=i.domain;e&&(c||(c=n("domain")),c.active=i.domain=null),a&&f?setImmediate(r):i.nextTick(r),e&&(c.active=i.domain=e)}var c,f="function"==typeof setImmediate;t.exports=o;var s=[],a=!1,l=0,m=1024;o.requestFlush=u}]}}}}}}}},{extensions:[".js",".json"]}),f=c("./node_modules/meteor/promise/client.js");"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package.promise=f,{Promise:u})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.modules.meteorInstall,o=Package.modules.Buffer,s=Package.modules.process,i=Package.promise.Promise,c,u,a,f,$,l=n({node_modules:{meteor:{"ecmascript-runtime":{"runtime.js":["meteor-ecmascript-runtime",function(e,t,r){r.exports=e("meteor-ecmascript-runtime")}],node_modules:{"meteor-ecmascript-runtime":{"package.json":function(e,t){t.name="meteor-ecmascript-runtime",t.version="0.2.8",t.main="index.js"},"index.js":["core-js/es6/object","core-js/es6/array","core-js/es6/string","core-js/es6/function","core-js/es6/symbol","core-js/es6/map","core-js/es6/set",function(e,r){e("core-js/es6/object"),e("core-js/es6/array"),e("core-js/es6/string"),e("core-js/es6/function"),c=r.Symbol=t.Symbol||e("core-js/es6/symbol"),u=r.Map=e("core-js/es6/map"),a=r.Set=e("core-js/es6/set")}]},"core-js":{es6:{"object.js":["../modules/es6.symbol","../modules/es6.object.assign","../modules/es6.object.is","../modules/es6.object.set-prototype-of","../modules/es6.object.to-string","../modules/es6.object.freeze","../modules/es6.object.seal","../modules/es6.object.prevent-extensions","../modules/es6.object.is-frozen","../modules/es6.object.is-sealed","../modules/es6.object.is-extensible","../modules/es6.object.get-own-property-descriptor","../modules/es6.object.get-prototype-of","../modules/es6.object.keys","../modules/es6.object.get-own-property-names","../modules/$.core",function(e,t,r){e("../modules/es6.symbol"),e("../modules/es6.object.assign"),e("../modules/es6.object.is"),e("../modules/es6.object.set-prototype-of"),e("../modules/es6.object.to-string"),e("../modules/es6.object.freeze"),e("../modules/es6.object.seal"),e("../modules/es6.object.prevent-extensions"),e("../modules/es6.object.is-frozen"),e("../modules/es6.object.is-sealed"),e("../modules/es6.object.is-extensible"),e("../modules/es6.object.get-own-property-descriptor"),e("../modules/es6.object.get-prototype-of"),e("../modules/es6.object.keys"),e("../modules/es6.object.get-own-property-names"),r.exports=e("../modules/$.core").Object}],"array.js":["../modules/es6.string.iterator","../modules/es6.array.from","../modules/es6.array.of","../modules/es6.array.species","../modules/es6.array.iterator","../modules/es6.array.copy-within","../modules/es6.array.fill","../modules/es6.array.find","../modules/es6.array.find-index","../modules/$.core",function(e,t,r){e("../modules/es6.string.iterator"),e("../modules/es6.array.from"),e("../modules/es6.array.of"),e("../modules/es6.array.species"),e("../modules/es6.array.iterator"),e("../modules/es6.array.copy-within"),e("../modules/es6.array.fill"),e("../modules/es6.array.find"),e("../modules/es6.array.find-index"),r.exports=e("../modules/$.core").Array}],"string.js":["../modules/es6.string.from-code-point","../modules/es6.string.raw","../modules/es6.string.trim","../modules/es6.string.iterator","../modules/es6.string.code-point-at","../modules/es6.string.ends-with","../modules/es6.string.includes","../modules/es6.string.repeat","../modules/es6.string.starts-with","../modules/es6.regexp.match","../modules/es6.regexp.replace","../modules/es6.regexp.search","../modules/es6.regexp.split","../modules/$.core",function(e,t,r){e("../modules/es6.string.from-code-point"),e("../modules/es6.string.raw"),e("../modules/es6.string.trim"),e("../modules/es6.string.iterator"),e("../modules/es6.string.code-point-at"),e("../modules/es6.string.ends-with"),e("../modules/es6.string.includes"),e("../modules/es6.string.repeat"),e("../modules/es6.string.starts-with"),e("../modules/es6.regexp.match"),e("../modules/es6.regexp.replace"),e("../modules/es6.regexp.search"),e("../modules/es6.regexp.split"),r.exports=e("../modules/$.core").String}],"function.js":["../modules/es6.function.name","../modules/es6.function.has-instance","../modules/$.core",function(e,t,r){e("../modules/es6.function.name"),e("../modules/es6.function.has-instance"),r.exports=e("../modules/$.core").Function}],"symbol.js":["../modules/es6.symbol","../modules/$.core",function(e,t,r){e("../modules/es6.symbol"),r.exports=e("../modules/$.core").Symbol}],"map.js":["../modules/es6.object.to-string","../modules/es6.string.iterator","../modules/web.dom.iterable","../modules/es6.map","../modules/$.core",function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.map"),r.exports=e("../modules/$.core").Map}],"set.js":["../modules/es6.object.to-string","../modules/es6.string.iterator","../modules/web.dom.iterable","../modules/es6.set","../modules/$.core",function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.set"),r.exports=e("../modules/$.core").Set}]},modules:{"es6.symbol.js":["./$","./$.global","./$.has","./$.support-desc","./$.def","./$.redef","./$.fails","./$.shared","./$.tag","./$.uid","./$.wks","./$.keyof","./$.get-names","./$.enum-keys","./$.is-array","./$.is-object","./$.an-object","./$.to-iobject","./$.property-desc","./$.library",function(e){"use strict";var t=e("./$"),r=e("./$.global"),n=e("./$.has"),o=e("./$.support-desc"),s=e("./$.def"),i=e("./$.redef"),c=e("./$.fails"),u=e("./$.shared"),a=e("./$.tag"),f=e("./$.uid"),$=e("./$.wks"),l=e("./$.keyof"),d=e("./$.get-names"),p=e("./$.enum-keys"),g=e("./$.is-array"),m=e("./$.is-object"),j=e("./$.an-object"),h=e("./$.to-iobject"),y=e("./$.property-desc"),b=t.getDesc,v=t.setDesc,x=t.create,w=d.get,k=r.Symbol,S=r.JSON,_=S&&S.stringify,P=!1,O=$("_hidden"),A=t.isEnum,E=u("symbol-registry"),F=u("symbols"),M="function"==typeof k,D=Object.prototype,N=o&&c(function(){return 7!=x(v({},"a",{get:function(){return v(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=b(D,t);n&&delete D[t],v(e,t,r),n&&e!==D&&v(D,t,n)}:v,T=function(e){var t=F[e]=x(k.prototype);return t._k=e,o&&P&&N(D,e,{configurable:!0,set:function(t){n(this,O)&&n(this[O],e)&&(this[O][e]=!1),N(this,e,y(1,t))}}),t},z=function(e){return"symbol"==typeof e},C=function q(e,t,r){return r&&n(F,t)?(r.enumerable?(n(e,O)&&e[O][t]&&(e[O][t]=!1),r=x(r,{enumerable:y(0,!1)})):(n(e,O)||v(e,O,y(1,{})),e[O][t]=!0),N(e,t,r)):v(e,t,r)},W=function U(e,t){j(e);for(var r=p(t=h(t)),n=0,o=r.length,s;o>n;)C(e,s=r[n++],t[s]);return e},I=function Q(e,t){return void 0===t?x(e):W(x(e),t)},R=function V(e){var t=A.call(this,e);return t||!n(this,e)||!n(F,e)||n(this,O)&&this[O][e]?t:!0},G=function X(e,t){var r=b(e=h(e),t);return!r||!n(F,t)||n(e,O)&&e[O][t]||(r.enumerable=!0),r},J=function Y(e){for(var t=w(h(e)),r=[],o=0,s;t.length>o;)n(F,s=t[o++])||s==O||r.push(s);return r},L=function Z(e){for(var t=w(h(e)),r=[],o=0,s;t.length>o;)n(F,s=t[o++])&&r.push(F[s]);return r},B=function ee(e){for(var t=[e],r=1,n,o;arguments.length>r;)t.push(arguments[r++]);return n=t[1],"function"==typeof n&&(o=n),(o||!g(n))&&(n=function(e,t){return o&&(t=o.call(this,e,t)),z(t)?void 0:t}),t[1]=n,_.apply(S,t)},K=c(function(){var e=k();return"[null]"!=_([e])||"{}"!=_({a:e})||"{}"!=_(Object(e))});M||(k=function te(){if(z(this))throw TypeError("Symbol is not a constructor");return T(f(arguments[0]))},i(k.prototype,"toString",function re(){return this._k}),z=function(e){return e instanceof k},t.create=I,t.isEnum=R,t.getDesc=G,t.setDesc=C,t.setDescs=W,t.getNames=d.get=J,t.getSymbols=L,o&&!e("./$.library")&&i(D,"propertyIsEnumerable",R,!0));var H={"for":function(e){return n(E,e+="")?E[e]:E[e]=k(e)},keyFor:function ne(e){return l(E,e)},useSetter:function(){P=!0},useSimple:function(){P=!1}};t.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(e){var t=$(e);H[e]=M?t:T(t)}),P=!0,s(s.G+s.W,{Symbol:k}),s(s.S,"Symbol",H),s(s.S+s.F*!M,"Object",{create:I,defineProperty:C,defineProperties:W,getOwnPropertyDescriptor:G,getOwnPropertyNames:J,getOwnPropertySymbols:L}),S&&s(s.S+s.F*(!M||K),"JSON",{stringify:B}),a(k,"Symbol"),a(Math,"Math",!0),a(r.JSON,"JSON",!0)}],"$.js":function(e,t,r){var n=Object;r.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},"$.global.js":function(e,t,r){var n="undefined",o=r.exports=typeof window!=n&&window.Math==Math?window:typeof self!=n&&self.Math==Math?self:Function("return this")();"number"==typeof f&&(f=o)},"$.has.js":function(e,t,r){var n={}.hasOwnProperty;r.exports=function(e,t){return n.call(e,t)}},"$.support-desc.js":["./$.fails",function(e,t,r){r.exports=!e("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}],"$.fails.js":function(e,t,r){r.exports=function(e){try{return!!e()}catch(t){return!0}}},"$.def.js":["./$.global","./$.core","./$.hide","./$.redef",function(e,t,r){var n=e("./$.global"),o=e("./$.core"),s=e("./$.hide"),i=e("./$.redef"),c="prototype",u=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t,r){var f,$,l,d,p=e&a.G,g=e&a.P,m=p?n:e&a.S?n[t]||(n[t]={}):(n[t]||{})[c],j=p?o:o[t]||(o[t]={});p&&(r=t);for(f in r)$=!(e&a.F)&&m&&f in m,l=($?m:r)[f],d=e&a.B&&$?u(l,n):g&&"function"==typeof l?u(Function.call,l):l,m&&!$&&i(m,f,l),j[f]!=l&&s(j,f,d),g&&((j[c]||(j[c]={}))[f]=l)};n.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,r.exports=a}],"$.core.js":function(e,t,r){var n=r.exports={version:"1.2.1"};"number"==typeof $&&($=n)},"$.hide.js":["./$","./$.property-desc","./$.support-desc",function(e,t,r){var n=e("./$"),o=e("./$.property-desc");r.exports=e("./$.support-desc")?function(e,t,r){return n.setDesc(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}}],"$.property-desc.js":function(e,t,r){r.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"$.redef.js":["./$.global","./$.hide","./$.uid","./$.core",function(e,t,r){var n=e("./$.global"),o=e("./$.hide"),s=e("./$.uid")("src"),i="toString",c=Function[i],u=(""+c).split(i);e("./$.core").inspectSource=function(e){return c.call(e)},(r.exports=function(e,t,r,i){"function"==typeof r&&(o(r,s,e[t]?""+e[t]:u.join(String(t))),"name"in r||(r.name=t)),e===n?e[t]=r:(i||delete e[t],o(e,t,r))})(Function.prototype,i,function a(){return"function"==typeof this&&this[s]||c.call(this)})}],"$.uid.js":function(e,t,r){var n=0,o=Math.random();r.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},"$.shared.js":["./$.global",function(e,t,r){var n=e("./$.global"),o="__core-js_shared__",s=n[o]||(n[o]={});r.exports=function(e){return s[e]||(s[e]={})}}],"$.tag.js":["./$.has","./$.hide","./$.wks",function(e,t,r){var n=e("./$.has"),o=e("./$.hide"),s=e("./$.wks")("toStringTag");r.exports=function(e,t,r){e&&!n(e=r?e:e.prototype,s)&&o(e,s,t)}}],"$.wks.js":["./$.shared","./$.global","./$.uid",function(e,t,r){var n=e("./$.shared")("wks"),o=e("./$.global").Symbol;r.exports=function(t){return n[t]||(n[t]=o&&o[t]||(o||e("./$.uid"))("Symbol."+t))}}],"$.keyof.js":["./$","./$.to-iobject",function(e,t,r){var n=e("./$"),o=e("./$.to-iobject");r.exports=function(e,t){for(var r=o(e),s=n.getKeys(r),i=s.length,c=0,u;i>c;)if(r[u=s[c++]]===t)return u}}],"$.to-iobject.js":["./$.iobject","./$.defined",function(e,t,r){var n=e("./$.iobject"),o=e("./$.defined");r.exports=function(e){return n(o(e))}}],"$.iobject.js":["./$.cof",function(e,t,r){var n=e("./$.cof");r.exports=0 in Object("z")?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}}],"$.cof.js":function(e,t,r){var n={}.toString;r.exports=function(e){return n.call(e).slice(8,-1)}},"$.defined.js":function(e,t,r){r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},"$.get-names.js":["./$.to-iobject","./$",function(e,t,r){var n={}.toString,o=e("./$.to-iobject"),s=e("./$").getNames,i="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return s(e)}catch(t){return i.slice()}};r.exports.get=function u(e){return i&&"[object Window]"==n.call(e)?c(e):s(o(e))}}],"$.enum-keys.js":["./$",function(e,t,r){var n=e("./$");r.exports=function(e){var t=n.getKeys(e),r=n.getSymbols;if(r)for(var o=r(e),s=n.isEnum,i=0,c;o.length>i;)s.call(e,c=o[i++])&&t.push(c);return t}}],"$.is-array.js":["./$.cof",function(e,t,r){var n=e("./$.cof");r.exports=Array.isArray||function(e){return"Array"==n(e)}}],"$.is-object.js":function(e,t,r){r.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"$.an-object.js":["./$.is-object",function(e,t,r){var n=e("./$.is-object");r.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}}],"$.library.js":function(e,t,r){r.exports=!1},"es6.object.assign.js":["./$.def","./$.assign",function(e){var t=e("./$.def");t(t.S+t.F,"Object",{assign:e("./$.assign")})}],"$.assign.js":["./$.to-object","./$.iobject","./$.enum-keys","./$.has","./$.fails",function(e,t,r){var n=e("./$.to-object"),o=e("./$.iobject"),s=e("./$.enum-keys"),i=e("./$.has");r.exports=e("./$.fails")(function(){var e=Object.assign,t={},r={},n=c(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(e){r[e]=e}),7!=e({},t)[n]||Object.keys(e({},r)).join("")!=o})?function u(e,t){for(var r=n(e),c=arguments.length,u=1;c>u;)for(var a=o(arguments[u++]),f=s(a),$=f.length,l=0,d;$>l;)i(a,d=f[l++])&&(r[d]=a[d]);return r}:Object.assign}],"$.to-object.js":["./$.defined",function(e,t,r){var n=e("./$.defined");r.exports=function(e){return Object(n(e))}}],"es6.object.is.js":["./$.def","./$.same",function(e){var t=e("./$.def");t(t.S,"Object",{is:e("./$.same")})}],"$.same.js":function(e,t,r){r.exports=Object.is||function n(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"es6.object.set-prototype-of.js":["./$.def","./$.set-proto",function(e){var t=e("./$.def");t(t.S,"Object",{setPrototypeOf:e("./$.set-proto").set})}],"$.set-proto.js":["./$","./$.is-object","./$.an-object","./$.ctx",function(e,t,r){var n=e("./$").getDesc,o=e("./$.is-object"),s=e("./$.an-object"),i=function(e,t){if(s(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};r.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,o){try{o=e("./$.ctx")(Function.call,n(Object.prototype,"__proto__").set,2),o(t,[]),r=!(t instanceof Array)}catch(s){r=!0}return function c(e,t){return i(e,t),r?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:i}}],"$.ctx.js":["./$.a-function",function(e,t,r){var n=e("./$.a-function");r.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}}],"$.a-function.js":function(e,t,r){r.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"es6.object.to-string.js":["./$.classof","./$.wks","./$.redef",function(e){"use strict";var t=e("./$.classof"),r={};r[e("./$.wks")("toStringTag")]="z",r+""!="[object z]"&&e("./$.redef")(Object.prototype,"toString",function n(){return"[object "+t(this)+"]"},!0)}],"$.classof.js":["./$.cof","./$.wks",function(e,t,r){var n=e("./$.cof"),o=e("./$.wks")("toStringTag"),s="Arguments"==n(function(){return arguments}());r.exports=function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[o])?r:s?n(t):"Object"==(i=n(t))&&"function"==typeof t.callee?"Arguments":i}}],"es6.object.freeze.js":["./$.is-object","./$.object-sap",function(e){var t=e("./$.is-object");e("./$.object-sap")("freeze",function(e){return function r(n){return e&&t(n)?e(n):n}})}],"$.object-sap.js":["./$.def","./$.core","./$.fails",function(e,t,r){r.exports=function(t,r){var n=e("./$.def"),o=(e("./$.core").Object||{})[t]||Object[t],s={};s[t]=r(o),n(n.S+n.F*e("./$.fails")(function(){o(1)}),"Object",s)}}],"es6.object.seal.js":["./$.is-object","./$.object-sap",function(e){var t=e("./$.is-object");e("./$.object-sap")("seal",function(e){return function r(n){return e&&t(n)?e(n):n}})}],"es6.object.prevent-extensions.js":["./$.is-object","./$.object-sap",function(e){var t=e("./$.is-object");e("./$.object-sap")("preventExtensions",function(e){return function r(n){return e&&t(n)?e(n):n}})}],"es6.object.is-frozen.js":["./$.is-object","./$.object-sap",function(e){var t=e("./$.is-object");e("./$.object-sap")("isFrozen",function(e){return function r(n){return t(n)?e?e(n):!1:!0}})}],"es6.object.is-sealed.js":["./$.is-object","./$.object-sap",function(e){var t=e("./$.is-object");e("./$.object-sap")("isSealed",function(e){return function r(n){return t(n)?e?e(n):!1:!0}})}],"es6.object.is-extensible.js":["./$.is-object","./$.object-sap",function(e){var t=e("./$.is-object");e("./$.object-sap")("isExtensible",function(e){return function r(n){return t(n)?e?e(n):!0:!1}})}],"es6.object.get-own-property-descriptor.js":["./$.to-iobject","./$.object-sap",function(e){var t=e("./$.to-iobject");e("./$.object-sap")("getOwnPropertyDescriptor",function(e){return function r(n,o){return e(t(n),o)}})}],"es6.object.get-prototype-of.js":["./$.to-object","./$.object-sap",function(e){var t=e("./$.to-object");e("./$.object-sap")("getPrototypeOf",function(e){return function r(n){return e(t(n))}})}],"es6.object.keys.js":["./$.to-object","./$.object-sap",function(e){var t=e("./$.to-object");e("./$.object-sap")("keys",function(e){return function r(n){return e(t(n))}})}],"es6.object.get-own-property-names.js":["./$.object-sap","./$.get-names",function(e){e("./$.object-sap")("getOwnPropertyNames",function(){return e("./$.get-names").get})}],"es6.string.iterator.js":["./$.string-at","./$.iter-define",function(e){"use strict";var t=e("./$.string-at")(!0);e("./$.iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e=this._t,r=this._i,n;return r>=e.length?{value:void 0,done:!0}:(n=t(e,r),this._i+=n.length,{value:n,done:!1})})}],"$.string-at.js":["./$.to-integer","./$.defined",function(e,t,r){var n=e("./$.to-integer"),o=e("./$.defined");r.exports=function(e){return function(t,r){var s=String(o(t)),i=n(r),c=s.length,u,a;return 0>i||i>=c?e?"":void 0:(u=s.charCodeAt(i),55296>u||u>56319||i+1===c||(a=s.charCodeAt(i+1))<56320||a>57343?e?s.charAt(i):u:e?s.slice(i,i+2):(u-55296<<10)+(a-56320)+65536)}}}],"$.to-integer.js":function(e,t,r){var n=Math.ceil,o=Math.floor;r.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},"$.iter-define.js":["./$.library","./$.def","./$.redef","./$.hide","./$.has","./$.wks","./$.iterators","./$.iter-create","./$","./$.tag",function(e,t,r){"use strict";var n=e("./$.library"),o=e("./$.def"),s=e("./$.redef"),i=e("./$.hide"),c=e("./$.has"),u=e("./$.wks")("iterator"),a=e("./$.iterators"),f=!([].keys&&"next"in[].keys()),$="@@iterator",l="keys",d="values",p=function(){return this};r.exports=function(t,r,g,m,j,h,y){e("./$.iter-create")(g,r,m);var b=function(e){switch(e){case l:return function t(){return new g(this,e)};case d:return function r(){return new g(this,e)}}return function n(){return new g(this,e)}},v=r+" Iterator",x=t.prototype,w=x[u]||x[$]||j&&x[j],k=w||b(j),S,_;if(w){var P=e("./$").getProto(k.call(new t));e("./$.tag")(P,v,!0),!n&&c(x,$)&&i(P,u,p)}if((!n||y)&&i(x,u,k),a[r]=k,a[v]=p,j)if(S={keys:h?k:b(l),values:j==d?k:b(d),entries:j!=d?k:b("entries")},y)for(_ in S)_ in x||s(x,_,S[_]);else o(o.P+o.F*f,r,S)}}],"$.iterators.js":function(e,t,r){r.exports={}},"$.iter-create.js":["./$","./$.hide","./$.wks","./$.property-desc","./$.tag",function(e,t,r){"use strict";var n=e("./$"),o={};e("./$.hide")(o,e("./$.wks")("iterator"),function(){return this}),r.exports=function(t,r,s){t.prototype=n.create(o,{next:e("./$.property-desc")(1,s)}),e("./$.tag")(t,r+" Iterator")}}],"es6.array.from.js":["./$.ctx","./$.def","./$.to-object","./$.iter-call","./$.is-array-iter","./$.to-length","./core.get-iterator-method","./$.iter-detect",function(e){"use strict";var t=e("./$.ctx"),r=e("./$.def"),n=e("./$.to-object"),o=e("./$.iter-call"),s=e("./$.is-array-iter"),i=e("./$.to-length"),c=e("./core.get-iterator-method");r(r.S+r.F*!e("./$.iter-detect")(function(e){Array.from(e)}),"Array",{from:function u(e){var r=n(e),u="function"==typeof this?this:Array,a=arguments[1],f=void 0!==a,$=0,l=c(r),d,p,g,m;if(f&&(a=t(a,arguments[2],2)),void 0==l||u==Array&&s(l))for(d=i(r.length),p=new u(d);d>$;$++)p[$]=f?a(r[$],$):r[$];else for(m=l.call(r),p=new u;!(g=m.next()).done;$++)p[$]=f?o(m,a,[g.value,$],!0):g.value;return p.length=$,p}})}],"$.iter-call.js":["./$.an-object",function(e,t,r){var n=e("./$.an-object");r.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(s){var i=e["return"];throw void 0!==i&&n(i.call(e)),s}}}],"$.is-array-iter.js":["./$.iterators","./$.wks",function(e,t,r){var n=e("./$.iterators"),o=e("./$.wks")("iterator");r.exports=function(e){return(n.Array||Array.prototype[o])===e}}],"$.to-length.js":["./$.to-integer",function(e,t,r){var n=e("./$.to-integer"),o=Math.min;r.exports=function(e){return e>0?o(n(e),9007199254740991):0}}],"core.get-iterator-method.js":["./$.classof","./$.wks","./$.iterators","./$.core",function(e,t,r){var n=e("./$.classof"),o=e("./$.wks")("iterator"),s=e("./$.iterators");r.exports=e("./$.core").getIteratorMethod=function(e){return void 0!=e?e[o]||e["@@iterator"]||s[n(e)]:void 0}}],"$.iter-detect.js":["./$.wks",function(e,t,r){var n=e("./$.wks")("iterator"),o=!1;try{var s=[7][n]();s["return"]=function(){o=!0},Array.from(s,function(){throw 2})}catch(i){}r.exports=function(e){if(!o)return!1;var t=!1;try{var r=[7],s=r[n]();s.next=function(){t=!0},r[n]=function(){return s},e(r)}catch(i){}return t}}],"es6.array.of.js":["./$.def","./$.fails",function(e){"use strict";var t=e("./$.def");t(t.S+t.F*e("./$.fails")(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function r(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)r[e]=arguments[e++];return r.length=t,r}})}],"es6.array.species.js":["./$.species",function(e){e("./$.species")(Array)}],"$.species.js":["./$","./$.wks","./$.support-desc",function(e,t,r){"use strict";var n=e("./$"),o=e("./$.wks")("species");r.exports=function(t){!e("./$.support-desc")||o in t||n.setDesc(t,o,{configurable:!0,get:function(){return this}})}}],"es6.array.iterator.js":["./$.unscope","./$.iter-step","./$.iterators","./$.to-iobject","./$.iter-define",function(e){"use strict";var t=e("./$.unscope"),r=e("./$.iter-step"),n=e("./$.iterators"),o=e("./$.to-iobject");e("./$.iter-define")(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),n.Arguments=n.Array,t("keys"),t("values"),t("entries")}],"$.unscope.js":["./$.wks","./$.hide",function(e,t,r){var n=e("./$.wks")("unscopables");void 0==[][n]&&e("./$.hide")(Array.prototype,n,{}),r.exports=function(e){[][n][e]=!0}}],"$.iter-step.js":function(e,t,r){r.exports=function(e,t){return{value:t,done:!!e}}},"es6.array.copy-within.js":["./$.def","./$.array-copy-within","./$.unscope",function(e){"use strict";var t=e("./$.def");t(t.P,"Array",{copyWithin:e("./$.array-copy-within")}),e("./$.unscope")("copyWithin")}],"$.array-copy-within.js":["./$.to-object","./$.to-index","./$.to-length",function(e,t,r){"use strict";var n=e("./$.to-object"),o=e("./$.to-index"),s=e("./$.to-length");r.exports=[].copyWithin||function i(e,t){var r=n(this),i=s(r.length),c=o(e,i),u=o(t,i),a=arguments[2],f=Math.min((void 0===a?i:o(a,i))-u,i-c),$=1;for(c>u&&u+f>c&&($=-1,u+=f-1,c+=f-1);f-->0;)u in r?r[c]=r[u]:delete r[c],c+=$,u+=$;return r}}],"$.to-index.js":["./$.to-integer",function(e,t,r){var n=e("./$.to-integer"),o=Math.max,s=Math.min;r.exports=function(e,t){return e=n(e),0>e?o(e+t,0):s(e,t)}}],"es6.array.fill.js":["./$.def","./$.array-fill","./$.unscope",function(e){var t=e("./$.def");t(t.P,"Array",{fill:e("./$.array-fill")}),e("./$.unscope")("fill")}],"$.array-fill.js":["./$.to-object","./$.to-index","./$.to-length",function(e,t,r){"use strict";var n=e("./$.to-object"),o=e("./$.to-index"),s=e("./$.to-length");r.exports=[].fill||function i(e){for(var t=n(this,!0),r=s(t.length),i=o(arguments[1],r),c=arguments[2],u=void 0===c?r:o(c,r);u>i;)t[i++]=e;return t}}],"es6.array.find.js":["./$.def","./$.array-methods","./$.unscope",function(e){"use strict";var t="find",r=e("./$.def"),n=!0,o=e("./$.array-methods")(5);t in[]&&Array(1)[t](function(){n=!1}),r(r.P+r.F*n,"Array",{find:function s(e){return o(this,e,arguments[1])}}),e("./$.unscope")(t)}],"$.array-methods.js":["./$.ctx","./$.is-object","./$.iobject","./$.to-object","./$.to-length","./$.is-array","./$.wks",function(e,t,r){var n=e("./$.ctx"),o=e("./$.is-object"),s=e("./$.iobject"),i=e("./$.to-object"),c=e("./$.to-length"),u=e("./$.is-array"),a=e("./$.wks")("species"),f=function(e,t){var r;return u(e)&&o(r=e.constructor)&&(r=r[a],null===r&&(r=void 0)),new(void 0===r?Array:r)(t)};r.exports=function(e){var t=1==e,r=2==e,o=3==e,u=4==e,a=6==e,$=5==e||a;return function(l,d,p){for(var g=i(l),m=s(g),j=n(d,p,3),h=c(m.length),y=0,b=t?f(l,h):r?f(l,0):void 0,v,x;h>y;y++)if(($||y in m)&&(v=m[y],x=j(v,y,g),e))if(t)b[y]=x;else if(x)switch(e){case 3:return!0;case 5:return v;case 6:return y;case 2:b.push(v)}else if(u)return!1;return a?-1:o||u?u:b}}}],"es6.array.find-index.js":["./$.def","./$.array-methods","./$.unscope",function(e){"use strict";var t="findIndex",r=e("./$.def"),n=!0,o=e("./$.array-methods")(6);t in[]&&Array(1)[t](function(){n=!1}),r(r.P+r.F*n,"Array",{findIndex:function s(e){return o(this,e,arguments[1])}}),e("./$.unscope")(t)}],"es6.string.from-code-point.js":["./$.def","./$.to-index",function(e){var t=e("./$.def"),r=e("./$.to-index"),n=String.fromCharCode,o=String.fromCodePoint;t(t.S+t.F*(!!o&&1!=o.length),"String",{fromCodePoint:function s(e){for(var t=[],o=arguments.length,s=0,i;o>s;){if(i=+arguments[s++],r(i,1114111)!==i)throw RangeError(i+" is not a valid code point");t.push(65536>i?n(i):n(((i-=65536)>>10)+55296,i%1024+56320))}return t.join("")}})}],"es6.string.raw.js":["./$.def","./$.to-iobject","./$.to-length",function(e){var t=e("./$.def"),r=e("./$.to-iobject"),n=e("./$.to-length");t(t.S,"String",{raw:function o(e){for(var t=r(e.raw),o=n(t.length),s=arguments.length,i=[],c=0;o>c;)i.push(String(t[c++])),s>c&&i.push(String(arguments[c]));return i.join("")}})}],"es6.string.trim.js":["./$.string-trim",function(e){"use strict";e("./$.string-trim")("trim",function(e){return function t(){return e(this,3)}})}],"$.string-trim.js":["./$.def","./$.defined","./$.fails",function(e,t,r){var n=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(f,"")),e},o=e("./$.def"),s=e("./$.defined"),i="	\n\f\r   ᠎             　\u2028\u2029\ufeff",c="["+i+"]",u="​",a=RegExp("^"+c+c+"*"),f=RegExp(c+c+"*$");r.exports=function(t,r){var s={};s[t]=r(n),o(o.P+o.F*e("./$.fails")(function(){return!!i[t]()||u[t]()!=u}),"String",s)}}],"es6.string.code-point-at.js":["./$.def","./$.string-at",function(e){"use strict";var t=e("./$.def"),r=e("./$.string-at")(!1);t(t.P,"String",{codePointAt:function n(e){return r(this,e)}})}],"es6.string.ends-with.js":["./$.def","./$.to-length","./$.string-context","./$.fails-is-regexp",function(e){"use strict";var t=e("./$.def"),r=e("./$.to-length"),n=e("./$.string-context"),o="endsWith",s=""[o];t(t.P+t.F*e("./$.fails-is-regexp")(o),"String",{endsWith:function i(e){var t=n(this,e,o),i=arguments[1],c=r(t.length),u=void 0===i?c:Math.min(r(i),c),a=String(e);return s?s.call(t,a,u):t.slice(u-a.length,u)===a}})}],"$.string-context.js":["./$.is-regexp","./$.defined",function(e,t,r){var n=e("./$.is-regexp"),o=e("./$.defined");r.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(e))}}],"$.is-regexp.js":["./$.is-object","./$.cof","./$.wks",function(e,t,r){var n=e("./$.is-object"),o=e("./$.cof"),s=e("./$.wks")("match");r.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==o(e))}}],"$.fails-is-regexp.js":["./$.wks",function(e,t,r){r.exports=function(t){var r=/./;try{"/./"[t](r)}catch(n){try{return r[e("./$.wks")("match")]=!1,!"/./"[t](r)}catch(n){}}return!0}}],"es6.string.includes.js":["./$.def","./$.string-context","./$.fails-is-regexp",function(e){"use strict";var t=e("./$.def"),r=e("./$.string-context"),n="includes";t(t.P+t.F*e("./$.fails-is-regexp")(n),"String",{includes:function o(e){return!!~r(this,e,n).indexOf(e,arguments[1])}})}],"es6.string.repeat.js":["./$.def","./$.string-repeat",function(e){var t=e("./$.def");t(t.P,"String",{repeat:e("./$.string-repeat")})}],"$.string-repeat.js":["./$.to-integer","./$.defined",function(e,t,r){"use strict";var n=e("./$.to-integer"),o=e("./$.defined");r.exports=function s(e){var t=String(o(this)),r="",s=n(e);if(0>s||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}}],"es6.string.starts-with.js":["./$.def","./$.to-length","./$.string-context","./$.fails-is-regexp",function(e){"use strict";var t=e("./$.def"),r=e("./$.to-length"),n=e("./$.string-context"),o="startsWith",s=""[o];t(t.P+t.F*e("./$.fails-is-regexp")(o),"String",{startsWith:function i(e){var t=n(this,e,o),i=r(Math.min(arguments[1],t.length)),c=String(e);return s?s.call(t,c,i):t.slice(i,i+c.length)===c}})}],"es6.regexp.match.js":["./$.fix-re-wks",function(e){e("./$.fix-re-wks")("match",1,function(e,t){return function r(n){"use strict";var o=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,o):new RegExp(n)[t](String(o))}})}],"$.fix-re-wks.js":["./$.defined","./$.wks","./$.fails","./$.redef","./$.hide",function(e,t,r){"use strict";r.exports=function(t,r,n){var o=e("./$.defined"),s=e("./$.wks")(t),i=""[t];e("./$.fails")(function(){var e={};return e[s]=function(){return 7},7!=""[t](e)})&&(e("./$.redef")(String.prototype,t,n(o,s,i)),e("./$.hide")(RegExp.prototype,s,2==r?function(e,t){return i.call(e,this,t)}:function(e){return i.call(e,this)}))}}],"es6.regexp.replace.js":["./$.fix-re-wks",function(e){e("./$.fix-re-wks")("replace",2,function(e,t,r){return function n(o,s){"use strict";var i=e(this),c=void 0==o?void 0:o[t];return void 0!==c?c.call(o,i,s):r.call(String(i),o,s)}})}],"es6.regexp.search.js":["./$.fix-re-wks",function(e){e("./$.fix-re-wks")("search",1,function(e,t){return function r(n){"use strict";var o=e(this),s=void 0==n?void 0:n[t];return void 0!==s?s.call(n,o):new RegExp(n)[t](String(o))}})}],"es6.regexp.split.js":["./$.fix-re-wks",function(e){e("./$.fix-re-wks")("split",2,function(e,t,r){return function n(o,s){"use strict";var i=e(this),c=void 0==o?void 0:o[t];return void 0!==c?c.call(o,i,s):r.call(String(i),o,s)}})}],"es6.function.name.js":["./$","./$.property-desc","./$.has","./$.support-desc",function(e){var t=e("./$").setDesc,r=e("./$.property-desc"),n=e("./$.has"),o=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in o||e("./$.support-desc")&&t(o,i,{configurable:!0,get:function(){var e=(""+this).match(s),o=e?e[1]:"";return n(this,i)||t(this,i,r(5,o)),o}})}],"es6.function.has-instance.js":["./$","./$.is-object","./$.wks",function(e){"use strict";var t=e("./$"),r=e("./$.is-object"),n=e("./$.wks")("hasInstance"),o=Function.prototype;n in o||t.setDesc(o,n,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=t.getProto(e);)if(this.prototype===e)return!0;return!1}})}],"web.dom.iterable.js":["./es6.array.iterator","./$.global","./$.hide","./$.iterators","./$.wks",function(e){e("./es6.array.iterator");var t=e("./$.global"),r=e("./$.hide"),n=e("./$.iterators"),o=e("./$.wks")("iterator"),s=t.NodeList,i=t.HTMLCollection,c=s&&s.prototype,u=i&&i.prototype,a=n.NodeList=n.HTMLCollection=n.Array;!s||o in c||r(c,o,a),!i||o in u||r(u,o,a)}],"es6.map.js":["./$.collection-strong","./$.collection",function(e){"use strict";var t=e("./$.collection-strong");e("./$.collection")("Map",function(e){return function t(){return e(this,arguments[0])}},{get:function r(e){var r=t.getEntry(this,e);return r&&r.v;

},set:function n(e,r){return t.def(this,0===e?0:e,r)}},t,!0)}],"$.collection-strong.js":["./$","./$.hide","./$.ctx","./$.species","./$.strict-new","./$.defined","./$.for-of","./$.iter-step","./$.uid","./$.has","./$.is-object","./$.support-desc","./$.mix","./$.iter-define","./$.core",function(e,t,r){"use strict";var n=e("./$"),o=e("./$.hide"),s=e("./$.ctx"),i=e("./$.species"),c=e("./$.strict-new"),u=e("./$.defined"),a=e("./$.for-of"),f=e("./$.iter-step"),$=e("./$.uid")("id"),l=e("./$.has"),d=e("./$.is-object"),p=Object.isExtensible||d,g=e("./$.support-desc"),m=g?"_s":"size",j=0,h=function(e,t){if(!d(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,$)){if(!p(e))return"F";if(!t)return"E";o(e,$,++j)}return"O"+e[$]},y=function(e,t){var r=h(t),n;if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};r.exports={getConstructor:function(t,r,o,i){var f=t(function(e,t){c(e,f,r),e._i=n.create(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=t&&a(t,o,e[i],e)});return e("./$.mix")(f.prototype,{clear:function $(){for(var e=this,t=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete t[r.i];e._f=e._l=void 0,e[m]=0},"delete":function(e){var t=this,r=y(t,e);if(r){var n=r.n,o=r.p;delete t._i[r.i],r.r=!0,o&&(o.n=n),n&&(n.p=o),t._f==r&&(t._f=n),t._l==r&&(t._l=o),t[m]--}return!!r},forEach:function l(e){for(var t=s(e,arguments[1],3),r;r=r?r.n:this._f;)for(t(r.v,r.k,this);r&&r.r;)r=r.p},has:function d(e){return!!y(this,e)}}),g&&n.setDesc(f.prototype,"size",{get:function(){return u(this[m])}}),f},def:function(e,t,r){var n=y(e,t),o,s;return n?n.v=r:(e._l=n={i:s=h(t,!0),k:t,v:r,p:o=e._l,n:void 0,r:!1},e._f||(e._f=n),o&&(o.n=n),e[m]++,"F"!==s&&(e._i[s]=n)),e},getEntry:y,setStrong:function(t,r,n){e("./$.iter-define")(t,r,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?"keys"==t?f(0,r.k):"values"==t?f(0,r.v):f(0,[r.k,r.v]):(e._t=void 0,f(1))},n?"entries":"values",!n,!0),i(t),i(e("./$.core")[r])}}}],"$.strict-new.js":function(e,t,r){r.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e}},"$.for-of.js":["./$.ctx","./$.iter-call","./$.is-array-iter","./$.an-object","./$.to-length","./core.get-iterator-method",function(e,t,r){var n=e("./$.ctx"),o=e("./$.iter-call"),s=e("./$.is-array-iter"),i=e("./$.an-object"),c=e("./$.to-length"),u=e("./core.get-iterator-method");r.exports=function(e,t,r,a){var f=u(e),$=n(r,a,t?2:1),l=0,d,p,g;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(s(f))for(d=c(e.length);d>l;l++)t?$(i(p=e[l])[0],p[1]):$(e[l]);else for(g=f.call(e);!(p=g.next()).done;)o(g,$,p.value,t)}}],"$.mix.js":["./$.redef",function(e,t,r){var n=e("./$.redef");r.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e}}],"$.collection.js":["./$.global","./$.def","./$.for-of","./$.strict-new","./$.redef","./$.fails","./$.mix","./$.iter-detect","./$.tag",function(e,t,r){"use strict";var n=e("./$.global"),o=e("./$.def"),s=e("./$.for-of"),i=e("./$.strict-new");r.exports=function(t,r,c,u,a,f){var $=n[t],l=$,d=a?"set":"add",p=l&&l.prototype,g={},m=function(t){var r=p[t];e("./$.redef")(p,t,"delete"==t?function(e){return r.call(this,0===e?0:e)}:"has"==t?function n(e){return r.call(this,0===e?0:e)}:"get"==t?function o(e){return r.call(this,0===e?0:e)}:"add"==t?function s(e){return r.call(this,0===e?0:e),this}:function i(e,t){return r.call(this,0===e?0:e,t),this})};if("function"==typeof l&&(f||p.forEach&&!e("./$.fails")(function(){(new l).entries().next()}))){var j=new l,h=j[d](f?{}:-0,1),y;e("./$.iter-detect")(function(e){new l(e)})||(l=r(function(e,r){i(e,l,t);var n=new $;return void 0!=r&&s(r,a,n[d],n),n}),l.prototype=p,p.constructor=l),f||j.forEach(function(e,t){y=1/t===-(1/0)}),y&&(m("delete"),m("has"),a&&m("get")),(y||h!==j)&&m(d),f&&p.clear&&delete p.clear}else l=u.getConstructor(r,t,a,d),e("./$.mix")(l.prototype,c);return e("./$.tag")(l,t),g[t]=l,o(o.G+o.W+o.F*(l!=$),g),f||u.setStrong(l,t,a),l}}],"es6.set.js":["./$.collection-strong","./$.collection",function(e){"use strict";var t=e("./$.collection-strong");e("./$.collection")("Set",function(e){return function t(){return e(this,arguments[0])}},{add:function r(e){return t.def(this,e=0===e?0:e,e)}},t)}]}}}}}}},{extensions:[".js",".json"]}),d=l("./node_modules/meteor/ecmascript-runtime/runtime.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package["ecmascript-runtime"]=d,{Symbol:c,Map:u,Set:a})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,t=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set;"undefined"==typeof Package&&(Package={}),Package["babel-compiler"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package.ecmascript={}}();

!function(){var n=Package.meteor.Meteor,r=Package.meteor.global,e=Package.meteor.meteorEnv,a;(function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={},e=0;e<n.length;e++)r[n.charAt(e)]=e;a={},a.encode=function(n){if("string"==typeof n){var r=n;n=a.newBinary(r.length);for(var e=0;e<r.length;e++){var l=r.charCodeAt(e);if(l>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");n[e]=l}}for(var u=[],i=null,o=null,c=null,f=null,e=0;e<n.length;e++)switch(e%3){case 0:i=n[e]>>2&63,o=(3&n[e])<<4;break;case 1:o|=n[e]>>4&15,c=(15&n[e])<<2;break;case 2:c|=n[e]>>6&3,f=63&n[e],u.push(t(i)),u.push(t(o)),u.push(t(c)),u.push(t(f)),i=null,o=null,c=null,f=null}return null!=i&&(u.push(t(i)),u.push(t(o)),u.push(null==c?"=":t(c)),null==f&&u.push("=")),u.join("")};var t=function(r){return n.charAt(r)},l=function(n){return"="===n?-1:r[n]};a.newBinary=function(n){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var r=[],e=0;n>e;e++)r.push(0);return r.$Uint8ArrayPolyfill=!0,r}return new Uint8Array(new ArrayBuffer(n))},a.decode=function(n){var r=Math.floor(3*n.length/4);"="==n.charAt(n.length-1)&&(r--,"="==n.charAt(n.length-2)&&r--);for(var e=a.newBinary(r),t=null,u=null,i=null,o=0,c=0;c<n.length;c++){var f=n.charAt(c),s=l(f);switch(c%4){case 0:if(0>s)throw new Error("invalid base64 string");t=s<<2;break;case 1:if(0>s)throw new Error("invalid base64 string");t|=s>>4,e[o++]=t,u=(15&s)<<4;break;case 2:s>=0&&(u|=s>>2,e[o++]=u,i=(3&s)<<6);break;case 3:s>=0&&(e[o++]=i|s)}}return e}}).call(this),"undefined"==typeof Package&&(Package={}),function(n,r){for(var e in r)e in n||(n[e]=r[e])}(Package.base64={},{Base64:a})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package.underscore._,u=Package.base64.Base64,a,i;(function(){a={},i={};var e={};a.addType=function(n,t){if(r.has(e,n))throw new Error("Type "+n+" already present");e[n]=t};var t=function(n){return r.isNaN(n)||n===1/0||n===-(1/0)},o=[{matchJSONValue:function(n){return r.has(n,"$date")&&1===r.size(n)},matchObject:function(n){return n instanceof Date},toJSONValue:function(n){return{$date:n.getTime()}},fromJSONValue:function(n){return new Date(n.$date)}},{matchJSONValue:function(n){return r.has(n,"$InfNaN")&&1===r.size(n)},matchObject:t,toJSONValue:function(n){var e;return e=r.isNaN(n)?0:n===1/0?1:-1,{$InfNaN:e}},fromJSONValue:function(n){return n.$InfNaN/0}},{matchJSONValue:function(n){return r.has(n,"$binary")&&1===r.size(n)},matchObject:function(n){return"undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&r.has(n,"$Uint8ArrayPolyfill")},toJSONValue:function(n){return{$binary:u.encode(n)}},fromJSONValue:function(n){return u.decode(n.$binary)}},{matchJSONValue:function(n){return r.has(n,"$escape")&&1===r.size(n)},matchObject:function(n){return r.isEmpty(n)||r.size(n)>2?!1:r.any(o,function(e){return e.matchJSONValue(n)})},toJSONValue:function(n){var e={};return r.each(n,function(n,t){e[t]=a.toJSONValue(n)}),{$escape:e}},fromJSONValue:function(n){var e={};return r.each(n.$escape,function(n,t){e[t]=a.fromJSONValue(n)}),e}},{matchJSONValue:function(n){return r.has(n,"$type")&&r.has(n,"$value")&&2===r.size(n)},matchObject:function(n){return a._isCustomType(n)},toJSONValue:function(e){var t=n._noYieldsAllowed(function(){return e.toJSONValue()});return{$type:e.typeName(),$value:t}},fromJSONValue:function(t){var u=t.$type;if(!r.has(e,u))throw new Error("Custom EJSON type "+u+" is not defined");var a=e[u];return n._noYieldsAllowed(function(){return a(t.$value)})}}];a._isCustomType=function(n){return n&&"function"==typeof n.toJSONValue&&"function"==typeof n.typeName&&r.has(e,n.typeName())},a._getTypes=function(){return e},a._getConverters=function(){return o};var f=a._adjustTypesToJSONValue=function(n){if(null===n)return null;var e=c(n);return void 0!==e?e:"object"!=typeof n?n:(r.each(n,function(e,r){if("object"==typeof e||void 0===e||t(e)){var u=c(e);return u?void(n[r]=u):void f(e)}}),n)},c=function(n){for(var e=0;e<o.length;e++){var t=o[e];if(t.matchObject(n))return t.toJSONValue(n)}return void 0};a.toJSONValue=function(n){var e=c(n);return void 0!==e?e:("object"==typeof n&&(n=a.clone(n),f(n)),n)};var l=a._adjustTypesFromJSONValue=function(n){if(null===n)return null;var e=s(n);return e!==n?e:"object"!=typeof n?n:(r.each(n,function(e,t){if("object"==typeof e){var r=s(e);if(e!==r)return void(n[t]=r);l(e)}}),n)},s=function(n){if("object"==typeof n&&null!==n&&r.size(n)<=2&&r.all(n,function(n,e){return"string"==typeof e&&"$"===e.substr(0,1)}))for(var e=0;e<o.length;e++){var t=o[e];if(t.matchJSONValue(n))return t.fromJSONValue(n)}return n};a.fromJSONValue=function(n){var e=s(n);return e===n&&"object"==typeof n?(n=a.clone(n),l(n),n):e},a.stringify=function(n,e){var t=a.toJSONValue(n);return e&&(e.canonical||e.indent)?a._canonicalStringify(t,e):JSON.stringify(t)},a.parse=function(n){if("string"!=typeof n)throw new Error("EJSON.parse argument should be a string");return a.fromJSONValue(JSON.parse(n))},a.isBinary=function(n){return!!("undefined"!=typeof Uint8Array&&n instanceof Uint8Array||n&&n.$Uint8ArrayPolyfill)},a.equals=function(n,e,t){var u,i=!(!t||!t.keyOrderSensitive);if(n===e)return!0;if(r.isNaN(n)&&r.isNaN(e))return!0;if(!n||!e)return!1;if("object"!=typeof n||"object"!=typeof e)return!1;if(n instanceof Date&&e instanceof Date)return n.valueOf()===e.valueOf();if(a.isBinary(n)&&a.isBinary(e)){if(n.length!==e.length)return!1;for(u=0;u<n.length;u++)if(n[u]!==e[u])return!1;return!0}if("function"==typeof n.equals)return n.equals(e,t);if("function"==typeof e.equals)return e.equals(n,t);if(n instanceof Array){if(!(e instanceof Array))return!1;if(n.length!==e.length)return!1;for(u=0;u<n.length;u++)if(!a.equals(n[u],e[u],t))return!1;return!0}switch(a._isCustomType(n)+a._isCustomType(e)){case 1:return!1;case 2:return a.equals(a.toJSONValue(n),a.toJSONValue(e))}var o;if(i){var f=[];return r.each(e,function(n,e){f.push(e)}),u=0,o=r.all(n,function(n,r){return u>=f.length?!1:r!==f[u]?!1:a.equals(n,e[f[u]],t)?(u++,!0):!1}),o&&u===f.length}return u=0,o=r.all(n,function(n,i){return r.has(e,i)&&a.equals(n,e[i],t)?(u++,!0):!1}),o&&r.size(e)===u},a.clone=function(n){var e;if("object"!=typeof n)return n;if(null===n)return null;if(n instanceof Date)return new Date(n.getTime());if(n instanceof RegExp)return n;if(a.isBinary(n)){e=a.newBinary(n.length);for(var t=0;t<n.length;t++)e[t]=n[t];return e}if(r.isArray(n)||r.isArguments(n)){for(e=[],t=0;t<n.length;t++)e[t]=a.clone(n[t]);return e}return"function"==typeof n.clone?n.clone():a._isCustomType(n)?a.fromJSONValue(a.clone(a.toJSONValue(n)),!0):(e={},r.each(n,function(n,t){e[t]=a.clone(n)}),e)},a.newBinary=u.newBinary}).call(this),function(){function n(n){return JSON.stringify(n)}var e=function(t,u,a,i,o){var f,c,l,s,y=i,h,N=u[t];switch(typeof N){case"string":return n(N);case"number":return isFinite(N)?String(N):"null";case"boolean":return String(N);case"object":if(!N)return"null";if(y=i+a,h=[],r.isArray(N)||r.isArguments(N)){for(s=N.length,f=0;s>f;f+=1)h[f]=e(f,N,a,y,o)||"null";return l=0===h.length?"[]":y?"[\n"+y+h.join(",\n"+y)+"\n"+i+"]":"["+h.join(",")+"]"}var p=r.keys(N);return o&&(p=p.sort()),r.each(p,function(t){l=e(t,N,a,y,o),l&&h.push(n(t)+(y?": ":":")+l)}),l=0===h.length?"{}":y?"{\n"+y+h.join(",\n"+y)+"\n"+i+"}":"{"+h.join(",")+"}"}};a._canonicalStringify=function(n,t){if(t=r.extend({indent:"",canonical:!1},t),t.indent===!0)t.indent="  ";else if("number"==typeof t.indent){for(var u="",a=0;a<t.indent;a++)u+=" ";t.indent=u}return e("",{"":n},t.indent,"",t.canonical)}}.call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package.ejson={},{EJSON:a,EJSONTest:i})}();

!function(){var i=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.underscore._,e=Package.ejson.EJSON,r;(function(){r=function(i,t){var a=this;a._map={},a._idStringify=i||JSON.stringify,a._idParse=t||JSON.parse},n.extend(r.prototype,{get:function(i){var t=this,a=t._idStringify(i);return t._map[a]},set:function(i,t){var a=this,n=a._idStringify(i);a._map[n]=t},remove:function(i){var t=this,a=t._idStringify(i);delete t._map[a]},has:function(i){var t=this,a=t._idStringify(i);return n.has(t._map,a)},empty:function(){var i=this;return n.isEmpty(i._map)},clear:function(){var i=this;i._map={}},forEach:function(i){for(var t=this,a=n.keys(t._map),e=0;e<a.length;e++){var r=i.call(null,t._map[a[e]],t._idParse(a[e]));if(r===!1)return}},size:function(){var i=this;return n.size(i._map)},setDefault:function(i,t){var a=this,e=a._idStringify(i);return n.has(a._map,e)?a._map[e]:(a._map[e]=t,t)},clone:function(){var i=this,t=new r(i._idStringify,i._idParse);return i.forEach(function(i,a){t.set(a,e.clone(i))}),t}})}).call(this),"undefined"==typeof Package&&(Package={}),function(i,t){for(var a in t)a in i||(i[a]=t[a])}(Package["id-map"]={},{IdMap:r})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,i;(function(){var t=function(t,e,r,n){return{key:t,value:e,next:r,prev:n}};i=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var e=n.toArray(arguments);t._stringify=function(t){return t},"function"==typeof e[0]&&(t._stringify=e.shift()),n.each(e,function(e){t.putBefore(e[0],e[1],null)})},n.extend(i.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){var t=this;return!t._first},size:function(){var t=this;return t._size},_linkEltIn:function(t){var e=this;t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=e._last,e._last&&(e._last.next=t),e._last=t),(null===e._first||e._first===t.next)&&(e._first=t)},_linkEltOut:function(t){var e=this;t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===e._last&&(e._last=t.prev),t===e._first&&(e._first=t.next)},putBefore:function(e,r,n){var i=this;if(i._dict[i._k(e)])throw new Error("Item "+e+" already present in OrderedDict");var o=n?t(e,r,i._dict[i._k(n)]):t(e,r,null);if(void 0===o.next)throw new Error("could not find item to put this one before");i._linkEltIn(o),i._dict[i._k(e)]=o,i._size++},append:function(t,e){var r=this;r.putBefore(t,e,null)},remove:function(t){var e=this,r=e._dict[e._k(t)];if(void 0===r)throw new Error("Item "+t+" not present in OrderedDict");return e._linkEltOut(r),e._size--,delete e._dict[e._k(t)],r.value},get:function(t){var e=this;return e.has(t)?e._dict[e._k(t)].value:void 0},has:function(t){var e=this;return n.has(e._dict,e._k(t))},forEach:function(t){for(var e=this,r=0,n=e._first;null!==n;){var o=t(n.value,n.key,r);if(o===i.BREAK)return;n=n.next,r++}},first:function(){var t=this;return t.empty()?void 0:t._first.key},firstValue:function(){var t=this;return t.empty()?void 0:t._first.value},last:function(){var t=this;return t.empty()?void 0:t._last.key},lastValue:function(){var t=this;return t.empty()?void 0:t._last.value},prev:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.prev)return r.prev.key}return null},next:function(t){var e=this;if(e.has(t)){var r=e._dict[e._k(t)];if(r.next)return r.next.key}return null},moveBefore:function(t,e){var r=this,n=r._dict[r._k(t)],i=e?r._dict[r._k(e)]:null;if(void 0===n)throw new Error("Item to move is not present");if(void 0===i)throw new Error("Could not find element to move this one before");i!==n.next&&(r._linkEltOut(n),n.next=i,r._linkEltIn(n))},indexOf:function(t){var e=this,r=null;return e.forEach(function(n,o,a){return e._k(o)===e._k(t)?(r=a,i.BREAK):void 0}),r},_checkRep:function(){var t=this;n.each(t._dict,function(t,e){if(e.next===e)throw new Error("Next is a loop");if(e.prev===e)throw new Error("Prev is a loop")})}}),i.BREAK={"break":!0}}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["ordered-dict"]={},{OrderedDict:i})}();

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,e=Package.meteor.meteorEnv,o,r;(function(){o={},o.active=!1,o.currentComputation=null;var t=function(n){o.currentComputation=n,o.active=!!n},e=function(){return"undefined"!=typeof n?n._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},r=function(t){"undefined"!=typeof n&&n._suppressed_log_expected()&&n._suppress_log(t-1)},i=function(n,t){if(l)throw t;var o=["Exception from Tracker "+n+" function:"];if(t.stack&&t.message&&t.name){var i=t.stack.indexOf(t.message);if(0>i||i>t.name.length+2){var a=t.name+": "+t.message;o.push(a)}}o.push(t.stack),r(o.length);for(var u=0;u<o.length;u++)e()(o[u])},a=function(t){return"undefined"==typeof n||n.isClient?t:function(){var e=arguments;n._noYieldsAllowed(function(){t.apply(null,e)})}},u=1,c=[],s=!1,p=!1,f=!1,l=!1,d=[],h=function(){s||("undefined"!=typeof n?n._setImmediate(o._runFlush):setTimeout(o._runFlush,0),s=!0)},v=!1;o.Computation=function(n,t,e){if(!v)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");v=!1;var o=this;o.stopped=!1,o.invalidated=!1,o.firstRun=!0,o._id=u++,o._onInvalidateCallbacks=[],o._onStopCallbacks=[],o._parent=t,o._func=n,o._onError=e,o._recomputing=!1;var r=!0;try{o._compute(),r=!1}finally{o.firstRun=!1,r&&o.stop()}},o.Computation.prototype.onInvalidate=function(n){var t=this;if("function"!=typeof n)throw new Error("onInvalidate requires a function");t.invalidated?o.nonreactive(function(){a(n)(t)}):t._onInvalidateCallbacks.push(n)},o.Computation.prototype.onStop=function(n){var t=this;if("function"!=typeof n)throw new Error("onStop requires a function");t.stopped?o.nonreactive(function(){a(n)(t)}):t._onStopCallbacks.push(n)},o.Computation.prototype.invalidate=function(){var n=this;if(!n.invalidated){n._recomputing||n.stopped||(h(),c.push(this)),n.invalidated=!0;for(var t=0,e;e=n._onInvalidateCallbacks[t];t++)o.nonreactive(function(){a(e)(n)});n._onInvalidateCallbacks=[]}},o.Computation.prototype.stop=function(){var n=this;if(!n.stopped){n.stopped=!0,n.invalidate();for(var t=0,e;e=n._onStopCallbacks[t];t++)o.nonreactive(function(){a(e)(n)});n._onStopCallbacks=[]}},o.Computation.prototype._compute=function(){var n=this;n.invalidated=!1;var e=o.currentComputation;t(n);var r=f;f=!0;try{a(n._func)(n)}finally{t(e),f=r}},o.Computation.prototype._needsRecompute=function(){var n=this;return n.invalidated&&!n.stopped},o.Computation.prototype._recompute=function(){var n=this;n._recomputing=!0;try{if(n._needsRecompute())try{n._compute()}catch(t){n._onError?n._onError(t):i("recompute",t)}}finally{n._recomputing=!1}},o.Computation.prototype.flush=function(){var n=this;n._recomputing||n._recompute()},o.Computation.prototype.run=function(){var n=this;n.invalidate(),n.flush()},o.Dependency=function(){this._dependentsById={}},o.Dependency.prototype.depend=function(n){if(!n){if(!o.active)return!1;n=o.currentComputation}var t=this,e=n._id;return e in t._dependentsById?!1:(t._dependentsById[e]=n,n.onInvalidate(function(){delete t._dependentsById[e]}),!0)},o.Dependency.prototype.changed=function(){var n=this;for(var t in n._dependentsById)n._dependentsById[t].invalidate()},o.Dependency.prototype.hasDependents=function(){var n=this;for(var t in n._dependentsById)return!0;return!1},o.flush=function(n){o._runFlush({finishSynchronously:!0,throwFirstError:n&&n._throwFirstError})},o._runFlush=function(n){if(p)throw new Error("Can't call Tracker.flush while flushing");if(f)throw new Error("Can't flush inside Tracker.autorun");n=n||{},p=!0,s=!0,l=!!n.throwFirstError;var t=0,e=!1;try{for(;c.length||d.length;){for(;c.length;){var r=c.shift();if(r._recompute(),r._needsRecompute()&&c.unshift(r),!n.finishSynchronously&&++t>1e3)return void(e=!0)}if(d.length){var a=d.shift();try{a()}catch(u){i("afterFlush",u)}}}e=!0}finally{if(e||(p=!1,o._runFlush({finishSynchronously:n.finishSynchronously,throwFirstError:!1})),s=!1,p=!1,c.length||d.length){if(n.finishSynchronously)throw new Error("still have more to do?");setTimeout(h,10)}}},o.autorun=function(n,t){if("function"!=typeof n)throw new Error("Tracker.autorun requires a function argument");t=t||{},v=!0;var e=new o.Computation(n,o.currentComputation,t.onError);return o.active&&o.onInvalidate(function(){e.stop()}),e},o.nonreactive=function(n){var e=o.currentComputation;t(null);try{return n()}finally{t(e)}},o.onInvalidate=function(n){if(!o.active)throw new Error("Tracker.onInvalidate requires a currentComputation");o.currentComputation.onInvalidate(n)},o.afterFlush=function(n){d.push(n),h()}}).call(this),function(){n.flush=o.flush,n.autorun=o.autorun,n.autosubscribe=o.autorun,o.depend=function(n){return n.depend()},r=o}.call(this),"undefined"==typeof Package&&(Package={}),function(n,t){for(var e in t)e in n||(n[e]=t[e])}(Package.tracker={},{Tracker:o,Deps:r})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.modules.meteorInstall,o=Package.modules.Buffer,i=Package.modules.process,a=Package.promise.Promise,u,c=n({node_modules:{meteor:{"babel-runtime":{"babel-runtime.js":["meteor-babel-helpers","regenerator-runtime",function(t,e,r){var o=Object.prototype.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator";u=t("meteor-babel-helpers");var f={taggedTemplateLiteralLoose:function(t,e){return t.raw=e,t},classCallCheck:function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},inherits:function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);if(e){if(Object.create)t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}});else{var r=function(){this.constructor=t};r.prototype=e.prototype,t.prototype=new r}Object.getOwnPropertyNames(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);if(n&&"object"==typeof n){if(Object.getOwnPropertyDescriptor(t,r))return;Object.defineProperty(t,r,n)}})}},createClass:function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e=!1;try{Object.defineProperty({},"x",{}),e=!0}catch(r){}return function(r,n,o){if(!e)throw new Error("Your browser does not support this type of class property.  For example, Internet Explorer 8 does not support getters and setters.");return n&&t(r.prototype,n),o&&t(r,o),r}}(),"typeof":function(t){return t&&t.constructor===Symbol?"symbol":typeof t},possibleConstructorReturn:function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");var r=typeof e;return e&&"function"===r||"object"===r?e:t},interopRequireDefault:function(t){return t&&t.__esModule?t:{"default":t}},interopRequireWildcard:function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)o.call(t,r)&&(e[r]=t[r]);return e["default"]=t,e},interopExportWildcard:function(t,e){var r=e({},t);return delete r["default"],r},defaults:function(t,e){return Object.getOwnPropertyNames(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);n&&n.configurable&&"undefined"==typeof t[r]&&Object.defineProperty(t,r,n)}),t},"extends":Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)o.call(r,n)&&(t[n]=r[n])}return t},objectWithoutProperties:function(t,e){var r={};t:for(var n in t)if(o.call(t,n)){for(var i=0;i<e.length;i++)if(e[i]===n)continue t;r[n]=t[n]}return r},objectDestructuringEmpty:function(t){if(null==t)throw new TypeError("Cannot destructure undefined")},bind:Function.prototype.bind||function(){var t=function(t){return"function"==typeof t},e=Object,r=Object.prototype.toString,n=Array.prototype.slice,o=Array.prototype.concat,i=Array.prototype.push,a=Math.max,u=function c(){};return function f(r){var c=this;if(!t(c))throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var f=n.call(arguments,1),l,s=function(){if(this instanceof l){var t=c.apply(this,o.call(f,n.call(arguments)));return e(t)===t?t:this}return c.apply(r,o.call(f,n.call(arguments)))},p=a(0,c.length-f.length),y=[],h=0;p>h;h++)i.call(y,"$"+h);return l=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this, arguments); }")(s),c.prototype&&(u.prototype=c.prototype,l.prototype=new u,u.prototype=null),l}}(),toConsumableArray:function(t){if(Array.isArray(t)){for(var e=t.length-1,r=Array(e+1);e>=0;--e)r[e]=t[e];return r}return Array.from(t)},toArray:function(t){return Array.isArray(t)?t:Array.from(t)},slicedToArray:function(t,e){if(Array.isArray(t))return t;if(t){var r=t[c](),n=[],o;for("number"!=typeof e&&(e=1/0);n.length<e&&!(o=r.next()).done;)n.push(o.value);return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},slice:Array.prototype.slice};Object.keys(f).forEach(function(t){var e={};e[t+".js"]=function(e,r,n){n.exports=f[t]},n({node_modules:{"babel-runtime":{helpers:e}}})}),n({node_modules:{"babel-runtime":{"regenerator.js":function(e,r,n){var o=t("regenerator-runtime");if("function"==typeof a&&"function"==typeof a.asyncApply){var i=o.async;o.async=function(){return a.asyncApply(i,o,arguments)}}n.exports=o}}}})}],node_modules:{"meteor-babel-helpers":{"package.json":function(t,e){e.name="meteor-babel-helpers",e.version="0.0.3",e.main="index.js"},"index.js":function(t,e,r){function n(){var t={},e="t";try{Object.defineProperty(t,e,{enumerable:!1,value:t});for(var r in t)if(r===e)return!1}catch(n){return!1}return t[e]===t}function o(t){return t}function i(t){if(Array.isArray(t)){for(var e={},r=Object.keys(t),n=r.length,o=0;n>o;++o){var i=r[o];e[i]=t[i]}return e}return t}u=r.exports={sanitizeForInObject:n()?o:i,_sanitizeForInObjectHard:i}}},"regenerator-runtime":{"package.json":function(t,e,r){e.name="regenerator-runtime",e.version="0.9.5",e.main="runtime-module.js"},"runtime-module.js":["./runtime",function(t,r,n){var o="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,i=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf("regeneratorRuntime")>=0,a=i&&o.regeneratorRuntime;if(o.regeneratorRuntime=void 0,n.exports=t("./runtime"),i)o.regeneratorRuntime=a;else try{delete o.regeneratorRuntime}catch(u){o.regeneratorRuntime=void 0}}],"runtime.js":function(t,r,n){!function(t){"use strict";function e(t,e,r,n){var i=Object.create((e||o).prototype),a=new m(n||[]);return i._invoke=p(t,r,a),i}function r(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(n){return{type:"throw",arg:n}}}function o(){}function u(){}function c(){}function f(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){this.arg=t}function s(t){function e(n,o,i,u){var c=r(t[n],t,o);if("throw"!==c.type){var f=c.arg,s=f.value;return s instanceof l?a.resolve(s.arg).then(function(t){e("next",t,i,u)},function(t){e("throw",t,i,u)}):a.resolve(s).then(function(t){f.value=t,i(f)},u)}u(c.arg)}function n(t,r){function n(){return new a(function(n,o){e(t,r,n,o)})}return o=o?o.then(n,n):n()}"object"==typeof i&&i.domain&&(e=i.domain.bind(e));var o;this._invoke=n}function p(t,e,n){var o=L;return function i(a,u){if(o===k)throw new Error("Generator is already running");if(o===A){if("throw"===a)throw u;return d()}for(;;){var c=n.delegate;if(c){if("return"===a||"throw"===a&&c.iterator[a]===b){n.delegate=null;var f=c.iterator["return"];if(f){var l=r(f,c.iterator,u);if("throw"===l.type){a="throw",u=l.arg;continue}}if("return"===a)continue}var l=r(c.iterator[a],c.iterator,u);if("throw"===l.type){n.delegate=null,a="throw",u=l.arg;continue}a="next",u=b;var s=l.arg;if(!s.done)return o=P,s;n[c.resultName]=s.value,n.next=c.nextLoc,n.delegate=null}if("next"===a)n.sent=n._sent=u;else if("throw"===a){if(o===L)throw o=A,u;n.dispatchException(u)&&(a="next",u=b)}else"return"===a&&n.abrupt("return",u);o=k;var l=r(t,e,n);if("normal"===l.type){o=n.done?A:P;var s={value:l.arg,done:n.done};if(l.arg!==_)return s;n.delegate&&"next"===a&&(u=b)}else"throw"===l.type&&(o=A,a="throw",u=l.arg)}}}function y(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function m(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(y,this),this.reset(!0)}function v(t){if(t){var e=t[j];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function o(){for(;++r<t.length;)if(g.call(t,r))return o.value=t[r],o.done=!1,o;return o.value=b,o.done=!0,o};return n.next=n}}return{next:d}}function d(){return{value:b,done:!0}}var g=Object.prototype.hasOwnProperty,b,w="function"==typeof Symbol?Symbol:{},j=w.iterator||"@@iterator",x=w.toStringTag||"@@toStringTag",O="object"==typeof n,E=t.regeneratorRuntime;if(E)return void(O&&(n.exports=E));E=t.regeneratorRuntime=O?n.exports:{},E.wrap=e;var L="suspendedStart",P="suspendedYield",k="executing",A="completed",_={},R=c.prototype=o.prototype;u.prototype=R.constructor=c,c.constructor=u,c[x]=u.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return e?e===u||"GeneratorFunction"===(e.displayName||e.name):!1},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(R),t},E.awrap=function(t){return new l(t)},f(s.prototype),E.async=function(t,r,n,o){var i=new s(e(t,r,n,o));return E.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},f(R),R[j]=function(){return this},R[x]="Generator",R.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},E.values=v,m.prototype={constructor:m,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=b)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return i.type="throw",i.arg=t,r.next=e,!!n}if(this.done)throw t;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?this.next=o.finallyLoc:this.complete(i),_},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),h(r),_}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;h(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:v(t),resultName:e,nextLoc:r},_}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}}}}}}},{extensions:[".js",".json"]});c("./node_modules/meteor/babel-runtime/babel-runtime.js"),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["babel-runtime"]={},{meteorBabelHelpers:u})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.underscore._,o=Package.modules.meteorInstall,a=Package.modules.Buffer,i=Package.modules.process,d=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,c=Package["ecmascript-runtime"].Set,s=Package["babel-runtime"].meteorBabelHelpers,m=Package.promise.Promise,f,p=o({node_modules:{meteor:{random:{"random.js":function(n){function r(){return new d(d.Type.ALEA,{seeds:[new Date,u,c,s,Math.random()]})}if(e.isServer)var t=Npm.require("crypto");var o=function m(){function e(){var e=4022871197,n=function r(n){n=n.toString();for(var r=0;r<n.length;r++){e+=n.charCodeAt(r);var t=.02519603282416938*e;e=t>>>0,t-=e,t*=e,e=t>>>0,t-=e,e+=4294967296*t}return 2.3283064365386963e-10*(e>>>0)};return n.version="Mash 0.9",n}return function(n){var r=0,t=0,o=0,a=1;0==n.length&&(n=[+new Date]);var i=e();r=i(" "),t=i(" "),o=i(" ");for(var d=0;d<n.length;d++)r-=i(n[d]),0>r&&(r+=1),t-=i(n[d]),0>t&&(t+=1),o-=i(n[d]),0>o&&(o+=1);i=null;var u=function c(){var e=2091639*r+2.3283064365386963e-10*a;return r=t,t=o,o=e-(a=0|e)};return u.uint32=function(){return 4294967296*u()},u.fract53=function(){return u()+1.1102230246251565e-16*(2097152*u()|0)},u.version="Alea 0.9",u.args=n,u}(Array.prototype.slice.call(arguments))},a="23456789ABCDEFGHJKLMNPQRSTWXYZabcdefghijkmnopqrstuvwxyz",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_",d=function p(e,n){var r=this;if(r.type=e,!p.Type[e])throw new Error("Unknown random generator type: "+e);if(e===p.Type.ALEA){if(!n.seeds)throw new Error("No seeds were provided for Alea PRNG");r.alea=o.apply(null,n.seeds)}};d.Type={NODE_CRYPTO:"NODE_CRYPTO",BROWSER_CRYPTO:"BROWSER_CRYPTO",ALEA:"ALEA"},d.prototype.fraction=function(){var e=this;if(e.type===d.Type.ALEA)return e.alea();if(e.type===d.Type.NODE_CRYPTO){var n=parseInt(e.hexString(8),16);return 2.3283064365386963e-10*n}if(e.type===d.Type.BROWSER_CRYPTO){var r=new Uint32Array(1);return window.crypto.getRandomValues(r),2.3283064365386963e-10*r[0]}throw new Error("Unknown random generator type: "+e.type)},d.prototype.hexString=function(e){var n=this;if(n.type===d.Type.NODE_CRYPTO){var r=Math.ceil(e/2),o;try{o=t.randomBytes(r)}catch(a){o=t.pseudoRandomBytes(r)}var i=o.toString("hex");return i.substring(0,e)}return this._randomString(e,"0123456789abcdef")},d.prototype._randomString=function(e,n){for(var r=this,t=[],o=0;e>o;o++)t[o]=r.choice(n);return t.join("")},d.prototype.id=function(e){var n=this;return void 0===e&&(e=17),n._randomString(e,a)},d.prototype.secret=function(e){var n=this;return void 0===e&&(e=43),n._randomString(e,i)},d.prototype.choice=function(e){var n=Math.floor(this.fraction()*e.length);return"string"==typeof e?e.substr(n,1):e[n]};var u="undefined"!=typeof window&&window.innerHeight||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientHeight||"undefined"!=typeof document&&document.body&&document.body.clientHeight||1,c="undefined"!=typeof window&&window.innerWidth||"undefined"!=typeof document&&document.documentElement&&document.documentElement.clientWidth||"undefined"!=typeof document&&document.body&&document.body.clientWidth||1,s="undefined"!=typeof navigator&&navigator.userAgent||"";f=e.isServer?new d(d.Type.NODE_CRYPTO):"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues?new d(d.Type.BROWSER_CRYPTO):r(),f.createWithSeeds=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];if(0===n.length)throw new Error("No seeds were provided");return new d(d.Type.ALEA,{seeds:n})},f.insecure=r()},"deprecated.js":function(){e.uuid=function(){for(var e="0123456789abcdef",n=[],r=0;36>r;r++)n[r]=f.choice(e);n[14]="4",n[19]=e.substr(3&parseInt(n[19],16)|8,1),n[8]=n[13]=n[18]=n[23]="-";var t=n.join("");return t}}}}}},{extensions:[".js",".json"]});p("./node_modules/meteor/random/random.js"),p("./node_modules/meteor/random/deprecated.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package.random={},{Random:f})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,o=Package.ejson.EJSON,n=Package["id-map"].IdMap,i=Package.random.Random,a;(function(){a={},a._looksLikeObjectID=function(t){return 24===t.length&&t.match(/^[0-9a-f]*$/)},a.ObjectID=function(t){var e=this;if(t){if(t=t.toLowerCase(),!a._looksLikeObjectID(t))throw new Error("Invalid hexadecimal string for creating an ObjectID");e._str=t}else e._str=i.hexString(24)},a.ObjectID.prototype.toString=function(){var t=this;return'ObjectID("'+t._str+'")'},a.ObjectID.prototype.equals=function(t){var e=this;return t instanceof a.ObjectID&&e.valueOf()===t.valueOf()},a.ObjectID.prototype.clone=function(){var t=this;return new a.ObjectID(t._str)},a.ObjectID.prototype.typeName=function(){return"oid"},a.ObjectID.prototype.getTimestamp=function(){var t=this;return parseInt(t._str.substr(0,8),16)},a.ObjectID.prototype.valueOf=a.ObjectID.prototype.toJSONValue=a.ObjectID.prototype.toHexString=function(){return this._str},o.addType("oid",function(t){return new a.ObjectID(t)}),a.idStringify=function(t){if(t instanceof a.ObjectID)return t.valueOf();if("string"==typeof t)return""===t?t:"-"===t.substr(0,1)||"~"===t.substr(0,1)||a._looksLikeObjectID(t)||"{"===t.substr(0,1)?"-"+t:t;if(void 0===t)return"-";if("object"==typeof t&&null!==t)throw new Error("Meteor does not currently support objects other than ObjectID as ids");return"~"+JSON.stringify(t)},a.idParse=function(t){return""===t?t:"-"===t?void 0:"-"===t.substr(0,1)?t.substr(1):"~"===t.substr(0,1)?JSON.parse(t.substr(1)):a._looksLikeObjectID(t)?new a.ObjectID(t):t}}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["mongo-id"]={},{MongoID:a})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,d=Package.meteor.meteorEnv,i=Package.underscore._,a=Package.ejson.EJSON,r;(function(){r={},r.diffQueryChanges=function(e,n,d,i,a){e?r.diffQueryOrderedChanges(n,d,i,a):r.diffQueryUnorderedChanges(n,d,i,a)},r.diffQueryUnorderedChanges=function(e,n,d,o){o=o||{};var f=o.projectionFn||a.clone;if(d.movedBefore)throw new Error("_diffQueryUnordered called with a movedBefore observer!");n.forEach(function(n,o){var t=e.get(o);if(t){if(d.changed&&!a.equals(t,n)){var c=f(n),u=f(t),h=r.makeChangedFields(c,u);i.isEmpty(h)||d.changed(o,h)}}else if(d.added){var l=f(n);delete l._id,d.added(n._id,l)}}),d.removed&&e.forEach(function(e,i){n.has(i)||d.removed(i)})},r.diffQueryOrderedChanges=function(n,d,o,f){f=f||{};var t=f.projectionFn||a.clone,c={};i.each(d,function(n){c[n._id]&&e._debug("Duplicate _id in new_results"),c[n._id]=!0});var u={};i.each(n,function(n,d){n._id in u&&e._debug("Duplicate _id in old_results"),u[n._id]=d});for(var h=[],l=0,s=d.length,g=new Array(s),v=new Array(s),_=function(e){return u[d[e]._id]},m=0;s>m;m++)if(void 0!==u[d[m]._id]){for(var y=l;y>0&&!(_(g[y-1])<_(m));)y--;v[m]=0===y?-1:g[y-1],g[y]=m,y+1>l&&(l=y+1)}for(var k=0===l?-1:g[l-1];k>=0;)h.push(k),k=v[k];h.reverse(),h.push(d.length),i.each(n,function(e){c[e._id]||o.removed&&o.removed(e._id)});var p=0;i.each(h,function(e){for(var a=d[e]?d[e]._id:null,f,c,h,l,s,g=p;e>g;g++)c=d[g],i.has(u,c._id)?(f=n[u[c._id]],l=t(c),s=t(f),h=r.makeChangedFields(l,s),i.isEmpty(h)||o.changed&&o.changed(c._id,h),o.movedBefore&&o.movedBefore(c._id,a)):(h=t(c),delete h._id,o.addedBefore&&o.addedBefore(c._id,h,a),o.added&&o.added(c._id,h));a&&(c=d[e],f=n[u[c._id]],l=t(c),s=t(f),h=r.makeChangedFields(l,s),i.isEmpty(h)||o.changed&&o.changed(c._id,h)),p=e+1})},r.diffObjects=function(e,n,d){i.each(e,function(e,a){i.has(n,a)?d.both&&d.both(a,e,n[a]):d.leftOnly&&d.leftOnly(a,e)}),d.rightOnly&&i.each(n,function(n,a){i.has(e,a)||d.rightOnly(a,n)})},r.makeChangedFields=function(e,n){var d={};return r.diffObjects(n,e,{leftOnly:function(e,n){d[e]=void 0},rightOnly:function(e,n){d[e]=n},both:function(e,n,i){a.equals(n,i)||(d[e]=i)}}),d},r.applyChanges=function(e,n){i.each(n,function(n,d){void 0===n?delete e[d]:e[d]=n})}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var d in n)d in e||(e[d]=n[d])}(Package["diff-sequence"]={},{DiffSequence:r})}();

!function(){var n=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,e=Package.modules.meteorInstall,a=Package.modules.Buffer,r=Package.modules.process,i,s=e({node_modules:{meteor:{"geojson-utils":{"main.js":["./geojson-utils.js",function(n,t){t.GeoJSON=n("./geojson-utils.js")}],"geojson-utils.js":function(n,t,o){!function(){function n(n){for(var t=[],o=[],e=0;e<n[0].length;e++)t.push(n[0][e][1]),o.push(n[0][e][0]);return t=t.sort(function(n,t){return n-t}),o=o.sort(function(n,t){return n-t}),[[t[0],o[0]],[t[t.length-1],o[o.length-1]]]}function t(n,t,o){for(var e=[[0,0]],a=0;a<o.length;a++){for(var r=0;r<o[a].length;r++)e.push(o[a][r]);e.push([0,0])}for(var i=!1,a=0,r=e.length-1;a<e.length;r=a++)e[a][0]>t!=e[r][0]>t&&n<(e[r][1]-e[a][1])*(t-e[a][0])/(e[r][0]-e[a][0])+e[a][1]&&(i=!i);return i}var e={};"undefined"!=typeof o&&o.exports&&(o.exports=e),e.lineStringsIntersect=function(n,t){for(var o=[],e=0;e<=n.coordinates.length-2;++e)for(var a=0;a<=t.coordinates.length-2;++a){var r={x:n.coordinates[e][1],y:n.coordinates[e][0]},i={x:n.coordinates[e+1][1],y:n.coordinates[e+1][0]},s={x:t.coordinates[a][1],y:t.coordinates[a][0]},c={x:t.coordinates[a+1][1],y:t.coordinates[a+1][0]},u=(c.x-s.x)*(r.y-s.y)-(c.y-s.y)*(r.x-s.x),h=(i.x-r.x)*(r.y-s.y)-(i.y-r.y)*(r.x-s.x),d=(c.y-s.y)*(i.x-r.x)-(c.x-s.x)*(i.y-r.y);if(0!=d){var l=u/d,g=h/d;l>=0&&1>=l&&g>=0&&1>=g&&o.push({type:"Point",coordinates:[r.x+l*(i.x-r.x),r.y+l*(i.y-r.y)]})}}return 0==o.length&&(o=!1),o},e.pointInBoundingBox=function(n,t){return!(n.coordinates[1]<t[0][0]||n.coordinates[1]>t[1][0]||n.coordinates[0]<t[0][1]||n.coordinates[0]>t[1][1])},e.pointInPolygon=function(o,a){for(var r="Polygon"==a.type?[a.coordinates]:a.coordinates,i=!1,s=0;s<r.length;s++)e.pointInBoundingBox(o,n(r[s]))&&(i=!0);if(!i)return!1;for(var c=!1,s=0;s<r.length;s++)t(o.coordinates[1],o.coordinates[0],r[s])&&(c=!0);return c},e.numberToRadius=function(n){return n*Math.PI/180},e.numberToDegree=function(n){return 180*n/Math.PI},e.drawCircle=function(n,t,o){for(var a=[t.coordinates[1],t.coordinates[0]],r=n/1e3/6371,i=[e.numberToRadius(a[0]),e.numberToRadius(a[1])],o=o||15,s=[[a[0],a[1]]],c=0;o>c;c++){var u=2*Math.PI*c/o,h=Math.asin(Math.sin(i[0])*Math.cos(r)+Math.cos(i[0])*Math.sin(r)*Math.cos(u)),d=i[1]+Math.atan2(Math.sin(u)*Math.sin(r)*Math.cos(i[0]),Math.cos(r)-Math.sin(i[0])*Math.sin(h));s[c]=[],s[c][1]=e.numberToDegree(h),s[c][0]=e.numberToDegree(d)}return{type:"Polygon",coordinates:[s]}},e.rectangleCentroid=function(n){var t=n.coordinates[0],o=t[0][0],e=t[0][1],a=t[2][0],r=t[2][1],i=a-o,s=r-e;return{type:"Point",coordinates:[o+i/2,e+s/2]}},e.pointDistance=function(n,t){var o=n.coordinates[0],a=n.coordinates[1],r=t.coordinates[0],i=t.coordinates[1],s=e.numberToRadius(i-a),c=e.numberToRadius(r-o),u=Math.pow(Math.sin(s/2),2)+Math.cos(e.numberToRadius(a))*Math.cos(e.numberToRadius(i))*Math.pow(Math.sin(c/2),2),h=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));return 6371*h*1e3},e.geometryWithinRadius=function(n,t,o){if("Point"==n.type)return e.pointDistance(n,t)<=o;if("LineString"==n.type||"Polygon"==n.type){var a={},r;r="Polygon"==n.type?n.coordinates[0]:n.coordinates;for(var i in r)if(a.coordinates=r[i],e.pointDistance(a,t)>o)return!1}return!0},e.area=function(n){for(var t=0,o=n.coordinates[0],e=o.length-1,a,r,i=0;i<o.length;e=i++){var a={x:o[i][1],y:o[i][0]},r={x:o[e][1],y:o[e][0]};t+=a.x*r.y,t-=a.y*r.x}return t/=2},e.centroid=function(n){for(var t,o=0,a=0,r=n.coordinates[0],i=r.length-1,s,c,u=0;u<r.length;i=u++){var s={x:r[u][1],y:r[u][0]},c={x:r[i][1],y:r[i][0]};t=s.x*c.y-c.x*s.y,o+=(s.x+c.x)*t,a+=(s.y+c.y)*t}return t=6*e.area(n),{type:"Point",coordinates:[a/t,o/t]}},e.simplify=function(n,t){t=t||20,n=n.map(function(n){return{lng:n.coordinates[0],lat:n.coordinates[1]}});var o,e,a,r,i,s,c,u,h,d,l,g,f,y,M,x,m,p,P,v=Math.PI/180*.5,b=new Array,T=new Array,j=new Array;if(n.length<3)return n;for(o=n.length,d=360*t/(2*Math.PI*6378137),d*=d,a=0,T[0]=0,j[0]=o-1,e=1;e>0;)if(r=T[e-1],i=j[e-1],e--,i-r>1){for(l=n[i].lng()-n[r].lng(),g=n[i].lat()-n[r].lat(),Math.abs(l)>180&&(l=360-Math.abs(l)),l*=Math.cos(v*(n[i].lat()+n[r].lat())),f=l*l+g*g,s=r+1,c=r,h=-1;i>s;s++)y=n[s].lng()-n[r].lng(),M=n[s].lat()-n[r].lat(),Math.abs(y)>180&&(y=360-Math.abs(y)),y*=Math.cos(v*(n[s].lat()+n[r].lat())),x=y*y+M*M,m=n[s].lng()-n[i].lng(),p=n[s].lat()-n[i].lat(),Math.abs(m)>180&&(m=360-Math.abs(m)),m*=Math.cos(v*(n[s].lat()+n[i].lat())),P=m*m+p*p,u=x>=f+P?P:P>=f+x?x:(y*g-M*l)*(y*g-M*l)/f,u>h&&(c=s,h=u);d>h?(b[a]=r,a++):(e++,T[e-1]=c,j[e-1]=i,e++,T[e-1]=r,j[e-1]=c)}else b[a]=r,a++;b[a]=o-1,a++;for(var I=new Array,s=0;a>s;s++)I.push(n[b[s]]);return I.map(function(n){return{type:"Point",coordinates:[n.lng,n.lat]}})},e.destinationPoint=function(n,t,o){o/=6371,t=e.numberToRadius(t);var a=e.numberToRadius(n.coordinates[0]),r=e.numberToRadius(n.coordinates[1]),i=Math.asin(Math.sin(a)*Math.cos(o)+Math.cos(a)*Math.sin(o)*Math.cos(t)),s=r+Math.atan2(Math.sin(t)*Math.sin(o)*Math.cos(a),Math.cos(o)-Math.sin(a)*Math.sin(i));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,{type:"Point",coordinates:[e.numberToDegree(i),e.numberToDegree(s)]}}}()}}}}},{extensions:[".js",".json"]}),c=s("./node_modules/meteor/geojson-utils/main.js");"undefined"==typeof Package&&(Package={}),function(n,t){for(var o in t)o in n||(n[o]=t[o])}(Package["geojson-utils"]=c,{GeoJSON:i})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,t=Package.meteor.meteorEnv,n=Package.underscore._,o=Package.ejson.EJSON,i=Package["id-map"].IdMap,a=Package["ordered-dict"].OrderedDict,s=Package.tracker.Tracker,c=Package.tracker.Deps,u=Package["mongo-id"].MongoID,d=Package.random.Random,f=Package["diff-sequence"].DiffSequence,l=Package["geojson-utils"].GeoJSON,h,p,v,_,m,y,g,w,$,b,E,I,C,k,O,S;(function(){h=function(r){var t=this;t.name=r,t._docs=new h._IdMap,t._observeQueue=new e._SynchronousQueue,t.next_qid=1,t.queries={},t._savedOriginals=null,t.paused=!1},p={},v={},_=function(e){var r=new Error(e);return r.name="MinimongoError",r},h.prototype.find=function(e,r){return 0===arguments.length&&(e={}),new h.Cursor(this,e,r)},h.Cursor=function(e,r,t){var n=this;t||(t={}),n.collection=e,n.sorter=null,n.matcher=new p.Matcher(r),h._selectorIsId(r)?n._selectorId=r:h._selectorIsIdPerhapsAsObject(r)?n._selectorId=r._id:(n._selectorId=void 0,(n.matcher.hasGeoQuery()||t.sort)&&(n.sorter=new p.Sorter(t.sort||[],{matcher:n.matcher}))),n.skip=t.skip,n.limit=t.limit,n.fields=t.fields,n._projectionFn=h._compileProjection(n.fields||{}),n._transform=h.wrapTransform(t.transform),"undefined"!=typeof s&&(n.reactive=void 0===t.reactive?!0:t.reactive)},h.Cursor.prototype.rewind=function(){},h.prototype.findOne=function(e,r){return 0===arguments.length&&(e={}),r=r||{},r.limit=1,this.find(e,r).fetch()[0]},h.Cursor.prototype.forEach=function(e,r){var t=this,o=t._getRawObjects({ordered:!0});t.reactive&&t._depend({addedBefore:!0,removed:!0,changed:!0,movedBefore:!0}),n.each(o,function(n,o){n=t._projectionFn(n),t._transform&&(n=t._transform(n)),e.call(r,n,o,t)})},h.Cursor.prototype.getTransform=function(){return this._transform},h.Cursor.prototype.map=function(e,r){var t=this,n=[];return t.forEach(function(o,i){n.push(e.call(r,o,i,t))}),n},h.Cursor.prototype.fetch=function(){var e=this,r=[];return e.forEach(function(e){r.push(e)}),r},h.Cursor.prototype.count=function(){var e=this;return e.reactive&&e._depend({added:!0,removed:!0},!0),e._getRawObjects({ordered:!0}).length},h.Cursor.prototype._publishCursor=function(e){var r=this;if(!r.collection.name)throw new Error("Can't publish a cursor from a collection without a name.");var t=r.collection.name;if(!Package.mongo)throw new Error("Can't publish from Minimongo without the `mongo` package.");return Package.mongo.Mongo.Collection._publishCursor(r,e,t)},h.Cursor.prototype._getCollectionName=function(){var e=this;return e.collection.name},h._observeChangesCallbacksAreOrdered=function(e){if(e.added&&e.addedBefore)throw new Error("Please specify only one of added() and addedBefore()");return!(!e.addedBefore&&!e.movedBefore)},h._observeCallbacksAreOrdered=function(e){if(e.addedAt&&e.added)throw new Error("Please specify only one of added() and addedAt()");if(e.changedAt&&e.changed)throw new Error("Please specify only one of changed() and changedAt()");if(e.removed&&e.removedAt)throw new Error("Please specify only one of removed() and removedAt()");return!!(e.addedAt||e.movedTo||e.changedAt||e.removedAt)},h.ObserveHandle=function(){},n.extend(h.Cursor.prototype,{observe:function(e){var r=this;return h._observeFromObserveChanges(r,e)},observeChanges:function(e){var r=this,t=h._observeChangesCallbacksAreOrdered(e);if(!e._allow_unordered&&!t&&(r.skip||r.limit))throw new Error("must use ordered observe (ie, 'addedBefore' instead of 'added') with skip or limit");if(r.fields&&(0===r.fields._id||r.fields._id===!1))throw Error("You may not observe a cursor with {fields: {_id: 0}}");var i={dirty:!1,matcher:r.matcher,sorter:t&&r.sorter,distances:r.matcher.hasGeoQuery()&&t&&new h._IdMap,resultsSnapshot:null,ordered:t,cursor:r,projectionFn:r._projectionFn},a;r.reactive&&(a=r.collection.next_qid++,r.collection.queries[a]=i),i.results=r._getRawObjects({ordered:t,distances:i.distances}),r.collection.paused&&(i.resultsSnapshot=t?[]:new h._IdMap);var c=function(e){return e?function(){var t=this,n=arguments;r.collection.paused||r.collection._observeQueue.queueTask(function(){e.apply(t,n)})}:function(){}};if(i.added=c(e.added),i.changed=c(e.changed),i.removed=c(e.removed),t&&(i.addedBefore=c(e.addedBefore),i.movedBefore=c(e.movedBefore)),!e._suppress_initial&&!r.collection.paused){var u=t?n.bind(n.each,null,i.results):n.bind(i.results.forEach,i.results);u(function(e){var n=o.clone(e);delete n._id,t&&i.addedBefore(e._id,r._projectionFn(n),null),i.added(e._id,r._projectionFn(n))})}var d=new h.ObserveHandle;return n.extend(d,{collection:r.collection,stop:function(){r.reactive&&delete r.collection.queries[a]}}),r.reactive&&s.active&&s.onInvalidate(function(){d.stop()}),r.collection._observeQueue.drain(),d}}),h.Cursor.prototype._getRawObjects=function(e){var r=this;e=e||{};var t=e.ordered?[]:new h._IdMap;if(void 0!==r._selectorId){if(r.skip)return t;var n=r.collection._docs.get(r._selectorId);return n&&(e.ordered?t.push(n):t.set(r._selectorId,n)),t}var o;if(r.matcher.hasGeoQuery()&&e.ordered&&(e.distances?(o=e.distances,o.clear()):o=new h._IdMap),r.collection._docs.forEach(function(n,i){var a=r.matcher.documentMatches(n);return a.result&&(e.ordered?(t.push(n),o&&void 0!==a.distance&&o.set(i,a.distance)):t.set(i,n)),!r.limit||r.skip||r.sorter||t.length!==r.limit?!0:!1}),!e.ordered)return t;if(r.sorter){var i=r.sorter.getComparator({distances:o});t.sort(i)}var a=r.skip||0,s=r.limit?r.limit+a:t.length;return t.slice(a,s)},h.Cursor.prototype._depend=function(e,r){var t=this;if(s.active){var o=new s.Dependency;o.depend();var i=n.bind(o.changed,o),a={_suppress_initial:!0,_allow_unordered:r};n.each(["added","changed","removed","addedBefore","movedBefore"],function(r){e[r]&&(a[r]=i)}),t.observeChanges(a)}},h.prototype.insert=function(r,t){var i=this;r=o.clone(r),n.has(r,"_id")||(r._id=h._useOID?new u.ObjectID:d.id());var a=r._id;if(i._docs.has(a))throw _("Duplicate _id '"+a+"'");i._saveOriginal(a,void 0),i._docs.set(a,r);var s=[];for(var c in i.queries){var f=i.queries[c];if(!f.dirty){var l=f.matcher.documentMatches(r);l.result&&(f.distances&&void 0!==l.distance&&f.distances.set(a,l.distance),f.cursor.skip||f.cursor.limit?s.push(c):h._insertInResults(f,r))}}return n.each(s,function(e){i.queries[e]&&i._recomputeResults(i.queries[e])}),i._observeQueue.drain(),t&&e.defer(function(){t(null,a)}),a},h.prototype._eachPossiblyMatchingDoc=function(e,r){var t=this,n=h._idsMatchedBySelector(e);if(n)for(var o=0;o<n.length;++o){var i=n[o],a=t._docs.get(i);if(a){var s=r(a,i);if(s===!1)break}}else t._docs.forEach(r)},h.prototype.remove=function(r,t){var i=this;if(i.paused&&!i._savedOriginals&&o.equals(r,{})){var a=i._docs.size();return i._docs.clear(),n.each(i.queries,function(e){e.ordered?e.results=[]:e.results.clear()}),t&&e.defer(function(){t(null,a)}),a}var s=new p.Matcher(r),c=[];i._eachPossiblyMatchingDoc(r,function(e,r){s.documentMatches(e).result&&c.push(r)});for(var u=[],d=[],f=0;f<c.length;f++){var l=c[f],v=i._docs.get(l);n.each(i.queries,function(e,r){e.dirty||e.matcher.documentMatches(v).result&&(e.cursor.skip||e.cursor.limit?u.push(r):d.push({qid:r,doc:v}))}),i._saveOriginal(l,v),i._docs.remove(l)}return n.each(d,function(e){var r=i.queries[e.qid];r&&(r.distances&&r.distances.remove(e.doc._id),h._removeFromResults(r,e.doc))}),n.each(u,function(e){var r=i.queries[e];r&&i._recomputeResults(r)}),i._observeQueue.drain(),a=c.length,t&&e.defer(function(){t(null,a)}),a},h.prototype.update=function(r,t,i,a){var s=this;!a&&i instanceof Function&&(a=i,i=null),i||(i={});var c=new p.Matcher(r),u={},d=new h._IdMap,f=h._idsMatchedBySelector(r);n.each(s.queries,function(e,r){if((e.cursor.skip||e.cursor.limit)&&!s.paused){if(e.results instanceof h._IdMap)return void(u[r]=e.results.clone());if(!(e.results instanceof Array))throw new Error("Assertion failed: query.results not an array");var t=function(e){if(d.has(e._id))return d.get(e._id);var r;return r=f&&!n.any(f,function(r){return o.equals(r,e._id)})?e:o.clone(e),d.set(e._id,r),r};u[r]=e.results.map(t)}});var l={},v=0;s._eachPossiblyMatchingDoc(r,function(e,r){var n=c.documentMatches(e);return n.result&&(s._saveOriginal(r,e),s._modifyAndNotify(e,t,l,n.arrayIndices),++v,!i.multi)?!1:!0}),n.each(l,function(e,r){var t=s.queries[r];t&&s._recomputeResults(t,u[r])}),s._observeQueue.drain();var _;if(0===v&&i.upsert){var m=h._removeDollarOperators(r);h._modify(m,t,{isInsert:!0}),!m._id&&i.insertedId&&(m._id=i.insertedId),_=s.insert(m),v=1}var y;return i._returnObject?(y={numberAffected:v},void 0!==_&&(y.insertedId=_)):y=v,a&&e.defer(function(){a(null,y)}),y},h.prototype.upsert=function(e,r,t,o){var i=this;return o||"function"!=typeof t||(o=t,t={}),i.update(e,r,n.extend({},t,{upsert:!0,_returnObject:!0}),o)},h.prototype._modifyAndNotify=function(e,r,t,n){var i=this,a={};for(var s in i.queries){var c=i.queries[s];c.dirty||(c.ordered?a[s]=c.matcher.documentMatches(e).result:a[s]=c.results.has(e._id))}var u=o.clone(e);h._modify(e,r,{arrayIndices:n});for(s in i.queries)if(c=i.queries[s],!c.dirty){var d=a[s],f=c.matcher.documentMatches(e),l=f.result;l&&c.distances&&void 0!==f.distance&&c.distances.set(e._id,f.distance),c.cursor.skip||c.cursor.limit?(d||l)&&(t[s]=!0):d&&!l?h._removeFromResults(c,e):!d&&l?h._insertInResults(c,e):d&&l&&h._updateInResults(c,e,u)}},h._insertInResults=function(e,r){var t=o.clone(r);if(delete t._id,e.ordered){if(e.sorter){var n=h._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r),i=e.results[n+1];i=i?i._id:null,e.addedBefore(r._id,e.projectionFn(t),i)}else e.addedBefore(r._id,e.projectionFn(t),null),e.results.push(r);e.added(r._id,e.projectionFn(t))}else e.added(r._id,e.projectionFn(t)),e.results.set(r._id,r)},h._removeFromResults=function(e,r){if(e.ordered){var t=h._findInOrderedResults(e,r);e.removed(r._id),e.results.splice(t,1)}else{var n=r._id;e.removed(r._id),e.results.remove(n)}},h._updateInResults=function(e,r,t){if(!o.equals(r._id,t._id))throw new Error("Can't change a doc's _id while updating");var i=e.projectionFn,a=f.makeChangedFields(i(r),i(t));if(!e.ordered)return void(n.isEmpty(a)||(e.changed(r._id,a),e.results.set(r._id,r)));var s=h._findInOrderedResults(e,r);if(n.isEmpty(a)||e.changed(r._id,a),e.sorter){e.results.splice(s,1);var c=h._insertInSortedList(e.sorter.getComparator({distances:e.distances}),e.results,r);if(s!==c){var u=e.results[c+1];u=u?u._id:null,e.movedBefore&&e.movedBefore(r._id,u)}}},h.prototype._recomputeResults=function(e,r){var t=this;return t.paused?void(e.dirty=!0):(t.paused||r||(r=e.results),e.distances&&e.distances.clear(),e.results=e.cursor._getRawObjects({ordered:e.ordered,distances:e.distances}),void(t.paused||h._diffQueryChanges(e.ordered,r,e.results,e,{projectionFn:e.projectionFn})))},h._findInOrderedResults=function(e,r){if(!e.ordered)throw new Error("Can't call _findInOrderedResults on unordered query");for(var t=0;t<e.results.length;t++)if(e.results[t]===r)return t;throw Error("object missing from query")},h._binarySearch=function(e,r,t){for(var n=0,o=r.length;o>0;){var i=Math.floor(o/2);e(t,r[n+i])>=0?(n+=i+1,o-=i+1):o=i}return n},h._insertInSortedList=function(e,r,t){if(0===r.length)return r.push(t),0;var n=h._binarySearch(e,r,t);return r.splice(n,0,t),n},h.prototype.saveOriginals=function(){var e=this;if(e._savedOriginals)throw new Error("Called saveOriginals twice without retrieveOriginals");e._savedOriginals=new h._IdMap},h.prototype.retrieveOriginals=function(){var e=this;if(!e._savedOriginals)throw new Error("Called retrieveOriginals without saveOriginals");var r=e._savedOriginals;return e._savedOriginals=null,r},h.prototype._saveOriginal=function(e,r){var t=this;t._savedOriginals&&(t._savedOriginals.has(e)||t._savedOriginals.set(e,o.clone(r)))},h.prototype.pauseObservers=function(){if(!this.paused){this.paused=!0;for(var e in this.queries){var r=this.queries[e];r.resultsSnapshot=o.clone(r.results)}}},h.prototype.resumeObservers=function(){var e=this;if(this.paused){this.paused=!1;for(var r in this.queries){var t=e.queries[r];t.dirty?(t.dirty=!1,e._recomputeResults(t,t.resultsSnapshot)):h._diffQueryChanges(t.ordered,t.resultsSnapshot,t.results,t,{projectionFn:t.projectionFn}),t.resultsSnapshot=null}e._observeQueue.drain()}}}).call(this),function(){h.wrapTransform=function(e){if(!e)return null;if(e.__wrappedTransform__)return e;var r=function(r){if(!n.has(r,"_id"))throw new Error("can only transform documents with _id");var t=r._id,i=s.nonreactive(function(){return e(r)});if(!y(i))throw new Error("transform must return object");if(n.has(i,"_id")){if(!o.equals(i._id,t))throw new Error("transformed document can't have different _id")}else i._id=t;return i};return r.__wrappedTransform__=!0,r}}.call(this),function(){m=function(e){return n.isArray(e)&&!o.isBinary(e)},y=h._isPlainObject=function(e){return e&&3===h._f._type(e)},g=function(e){return m(e)||y(e)},w=function(e,r){if(!y(e))return!1;var t=void 0;return n.each(e,function(n,o){var i="$"===o.substr(0,1);if(void 0===t)t=i;else if(t!==i){if(!r)throw new Error("Inconsistent operator: "+JSON.stringify(e));t=!1}}),!!t},$=function(e){return/^[0-9]+$/.test(e)}}.call(this),function(){p.Matcher=function(e){var r=this;r._paths={},r._hasGeoQuery=!1,r._hasWhere=!1,r._isSimple=!0,r._matchingDocument=void 0,r._selector=null,r._docMatcher=r._compileSelector(e)},n.extend(p.Matcher.prototype,{documentMatches:function(e){if(!e||"object"!=typeof e)throw Error("documentMatches needs a document");return this._docMatcher(e)},hasGeoQuery:function(){return this._hasGeoQuery},hasWhere:function(){return this._hasWhere},isSimple:function(){return this._isSimple},_compileSelector:function(r){var t=this;if(r instanceof Function)return t._isSimple=!1,t._selector=r,t._recordPathUsed(""),function(e){return{result:!!r.call(e)}};if(h._selectorIsId(r))return t._selector={_id:r},t._recordPathUsed("_id"),function(e){return{result:o.equals(e._id,r)}};if(!r||"_id"in r&&!r._id)return t._isSimple=!1,S;if("boolean"==typeof r||m(r)||o.isBinary(r))throw new Error("Invalid selector: "+r);return t._selector=o.clone(r),e(r,t,{isRoot:!0})},_recordPathUsed:function(e){this._paths[e]=!0},_getPaths:function(){return n.keys(this._paths)}});var e=function(e,t,o){o=o||{};var i=[];return n.each(e,function(e,a){if("$"===a.substr(0,1)){if(!n.has(s,a))throw new Error("Unrecognized logical operator: "+a);t._isSimple=!1,i.push(s[a](e,t,o.inElemMatch))}else{o.inElemMatch||t._recordPathUsed(a);var c=C(a),u=r(e,t,o.isRoot);i.push(function(e){var r=c(e);return u(r)})}}),j(i)},r=function(e,r,n){return e instanceof RegExp?(r._isSimple=!1,t(b(e))):w(e)?i(e,r,n):t(E(e))},t=function(e,r){return r=r||{},function(t){var o=t;r.dontExpandLeafArrays||(o=k(t,r.dontIncludeLeafArrays));var i={};return i.result=n.any(o,function(r){var t=e(r.value);return"number"==typeof t&&(r.arrayIndices||(r.arrayIndices=[t]),t=!0),t&&r.arrayIndices&&(i.arrayIndices=r.arrayIndices),t}),i}};b=function(e){return function(r){return r instanceof RegExp?n.isEqual(r,e):"string"!=typeof r?!1:(e.lastIndex=0,e.test(r))}},E=function(e){if(w(e))throw Error("Can't create equalityValueSelector for operator object");return null==e?function(e){return null==e}:function(r){return h._f._equal(e,r)}};var i=function(e,r,o){var i=[];return n.each(e,function(a,s){var c=n.contains(["$lt","$lte","$gt","$gte"],s)&&n.isNumber(a),u=n.contains(["$ne","$eq"],s)&&!n.isObject(a),f=n.contains(["$in","$nin"],s)&&n.isArray(a)&&!n.any(a,n.isObject);if(c||f||u||(r._isSimple=!1),n.has(d,s))i.push(d[s](a,e,r,o));else{if(!n.has(I,s))throw new Error("Unrecognized operator: "+s);var l=I[s];i.push(t(l.compileElementSelector(a,e,r),l))}}),P(i)},a=function(r,t,o){if(!m(r)||n.isEmpty(r))throw Error("$and/$or/$nor must be nonempty array");return n.map(r,function(r){if(!y(r))throw Error("$or/$and/$nor entries need to be full objects");return e(r,t,{inElemMatch:o})})},s={$and:function(e,r,t){var n=a(e,r,t);return j(n)},$or:function(e,r,t){var o=a(e,r,t);return 1===o.length?o[0]:function(e){var r=n.any(o,function(r){return r(e).result});return{result:r}}},$nor:function(e,r,t){var o=a(e,r,t);return function(e){var r=n.all(o,function(r){return!r(e).result});return{result:r}}},$where:function(e,r){return r._recordPathUsed(""),r._hasWhere=!0,e instanceof Function||(e=Function("obj","return "+e)),function(r){return{result:e.call(r,r)}}},$comment:function(){return function(){return{result:!0}}}},c=function(e){return function(r){var t=e(r);return{result:!t.result}}},d={$eq:function(e){return t(E(e))},$not:function(e,t,n){return c(r(e,n))},$ne:function(e){return c(t(E(e)))},$nin:function(e){return c(t(I.$in.compileElementSelector(e)))},$exists:function(e){var r=t(function(e){return void 0!==e});return e?r:c(r)},$options:function(e,r){if(!n.has(r,"$regex"))throw Error("$options needs a $regex");return A},$maxDistance:function(e,r){if(!r.$near)throw Error("$maxDistance needs a $near");return A},$all:function(e,t,o){if(!m(e))throw Error("$all requires array");if(n.isEmpty(e))return S;var i=[];return n.each(e,function(e){if(w(e))throw Error("no $ expressions in $all");i.push(r(e,o))}),P(i)},$near:function(e,r,t,o){if(!o)throw Error("$near can't be inside another $ operator");t._hasGeoQuery=!0;var i,a,s;if(y(e)&&n.has(e,"$geometry"))i=e.$maxDistance,a=e.$geometry,s=function(e){return e&&e.type?"Point"===e.type?l.pointDistance(a,e):l.geometryWithinRadius(e,a,i)?0:i+1:null};else{if(i=r.$maxDistance,!m(e)&&!y(e))throw Error("$near argument must be coordinate pair or GeoJSON");a=_(e),s=function(e){return m(e)||y(e)?f(a,e):null}}return function(e){e=k(e);var r={result:!1};return n.each(e,function(e){var t=s(e.value);null===t||t>i||void 0!==r.distance&&r.distance<=t||(r.result=!0,r.distance=t,e.arrayIndices?r.arrayIndices=e.arrayIndices:delete r.arrayIndices)}),r}}},f=function(e,r){e=_(e),r=_(r);var t=e[0]-r[0],o=e[1]-r[1];return n.isNaN(t)||n.isNaN(o)?null:Math.sqrt(t*t+o*o)},_=function(e){return n.map(e,n.identity)},O=function(e){return{compileElementSelector:function(r){if(m(r))return function(){return!1};void 0===r&&(r=null);var t=h._f._type(r);return function(n){return void 0===n&&(n=null),h._f._type(n)!==t?!1:e(h._f._cmp(n,r))}}}};I={$lt:O(function(e){return 0>e}),$gt:O(function(e){return e>0}),$lte:O(function(e){return 0>=e}),$gte:O(function(e){return e>=0}),$mod:{compileElementSelector:function(e){if(!m(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw Error("argument to $mod must be an array of two numbers");var r=e[0],t=e[1];return function(e){return"number"==typeof e&&e%r===t}}},$in:{compileElementSelector:function(e){if(!m(e))throw Error("$in needs an array");var r=[];return n.each(e,function(e){if(e instanceof RegExp)r.push(b(e));else{if(w(e))throw Error("cannot nest $ under $in");r.push(E(e))}}),function(e){return void 0===e&&(e=null),n.any(r,function(r){return r(e)})}}},$size:{dontExpandLeafArrays:!0,compileElementSelector:function(e){if("string"==typeof e)e=0;else if("number"!=typeof e)throw Error("$size needs a number");return function(r){return m(r)&&r.length===e}}},$type:{dontIncludeLeafArrays:!0,compileElementSelector:function(e){if("number"!=typeof e)throw Error("$type needs a number");return function(r){return void 0!==r&&h._f._type(r)===e}}},$regex:{compileElementSelector:function(e,r){if(!("string"==typeof e||e instanceof RegExp))throw Error("$regex has to be a string or RegExp");var t;if(void 0!==r.$options){if(/[^gim]/.test(r.$options))throw new Error("Only the i, m, and g regexp options are supported");var n=e instanceof RegExp?e.source:e;t=new RegExp(n,r.$options)}else t=e instanceof RegExp?e:new RegExp(e);return b(t)}},$elemMatch:{dontExpandLeafArrays:!0,compileElementSelector:function(t,o,i){if(!y(t))throw Error("$elemMatch need an object");var a,c;return w(n.omit(t,n.keys(s)),!0)?(a=r(t,i),c=!1):(a=e(t,i,{inElemMatch:!0}),c=!0),function(e){if(!m(e))return!1;for(var r=0;r<e.length;++r){var t=e[r],n;if(c){if(!y(t)&&!m(t))return!1;n=t}else n=[{value:t,dontIterate:!0}];if(a(n).result)return r}return!1}}}},C=function(e,r){r=r||{};var t=e.split("."),o=t.length?t[0]:"",i=$(o),a=t.length>=2&&$(t[1]),s;t.length>1&&(s=C(t.slice(1).join(".")));var c=function(e){return e.dontIterate||delete e.dontIterate,e.arrayIndices&&!e.arrayIndices.length&&delete e.arrayIndices,e};return function(e,t){if(t||(t=[]),m(e)){if(!(i&&o<e.length))return[];t=t.concat(+o,"x")}var u=e[o];if(!s)return[c({value:u,dontIterate:m(e)&&m(u),arrayIndices:t})];if(!g(u))return m(e)?[]:[c({value:void 0,arrayIndices:t})];var d=[],f=function(e){Array.prototype.push.apply(d,e)};return f(s(u,t)),!m(u)||a&&r.forSort||n.each(u,function(e,r){y(e)&&f(s(e,t.concat(r)))}),d}},v.makeLookupFunction=C,k=function(e,r){var t=[];return n.each(e,function(e){var o=m(e.value);r&&o&&!e.dontIterate||t.push({value:e.value,arrayIndices:e.arrayIndices}),o&&!e.dontIterate&&n.each(e.value,function(r,n){t.push({value:r,arrayIndices:(e.arrayIndices||[]).concat(n)})})}),t};var S=function(e){return{result:!1}},A=function(e){return{result:!0}},M=function(e){return 0===e.length?A:1===e.length?e[0]:function(r){var t={};return t.result=n.all(e,function(e){var n=e(r);return n.result&&void 0!==n.distance&&void 0===t.distance&&(t.distance=n.distance),n.result&&n.arrayIndices&&(t.arrayIndices=n.arrayIndices),n.result}),t.result||(delete t.distance,delete t.arrayIndices),t}},j=M,P=M;h._f={_type:function(e){return"number"==typeof e?1:"string"==typeof e?2:"boolean"==typeof e?8:m(e)?4:null===e?10:e instanceof RegExp?11:"function"==typeof e?13:e instanceof Date?9:o.isBinary(e)?5:e instanceof u.ObjectID?7:3},_equal:function(e,r){return o.equals(e,r,{keyOrderSensitive:!0})},_typeorder:function(e){return[-1,1,2,3,4,5,-1,6,7,8,0,9,-1,100,2,100,1,8,1][e]},_cmp:function(e,r){if(void 0===e)return void 0===r?0:-1;if(void 0===r)return 1;var t=h._f._type(e),n=h._f._type(r),o=h._f._typeorder(t),i=h._f._typeorder(n);if(o!==i)return i>o?-1:1;if(t!==n)throw Error("Missing type coercion logic in _cmp");if(7===t&&(t=n=2,e=e.toHexString(),r=r.toHexString()),9===t&&(t=n=1,e=e.getTime(),r=r.getTime()),1===t)return e-r;if(2===n)return r>e?-1:e===r?0:1;if(3===t){var a=function(e){var r=[];for(var t in e)r.push(t),r.push(e[t]);return r};return h._f._cmp(a(e),a(r))}if(4===t)for(var s=0;;s++){if(s===e.length)return s===r.length?0:-1;if(s===r.length)return 1;var c=h._f._cmp(e[s],r[s]);if(0!==c)return c}if(5===t){if(e.length!==r.length)return e.length-r.length;for(s=0;s<e.length;s++){if(e[s]<r[s])return-1;if(e[s]>r[s])return 1}return 0}if(8===t)return e?r?0:1:r?-1:0;if(10===t)return 0;if(11===t)throw Error("Sorting not supported on regular expression");if(13===t)throw Error("Sorting not supported on Javascript code");throw Error("Unknown type to sort")}},h._removeDollarOperators=function(e){var r={};for(var t in e)"$"!==t.substr(0,1)&&(r[t]=e[t]);return r}}.call(this),function(){p.Sorter=function(r,t){var o=this;t=t||{},o._sortSpecParts=[],o._sortFunction=null;var i=function(e,r){if(!e)throw Error("sort keys must be non-empty");if("$"===e.charAt(0))throw Error("unsupported sort key: "+e);o._sortSpecParts.push({path:e,lookup:C(e,{forSort:!0}),ascending:r})};if(r instanceof Array)for(var a=0;a<r.length;a++)"string"==typeof r[a]?i(r[a],!0):i(r[a][0],"desc"!==r[a][1]);else if("object"==typeof r)n.each(r,function(e,r){i(r,e>=0)});else{if("function"!=typeof r)throw Error("Bad sort specification: "+JSON.stringify(r));o._sortFunction=r}if(!o._sortFunction){if(o.affectedByModifier){var s={};n.each(o._sortSpecParts,function(e){s[e.path]=1}),o._selectorForAffectedByModifier=new p.Matcher(s)}o._keyComparator=e(n.map(o._sortSpecParts,function(e,r){return o._keyFieldComparator(r)})),o._keyFilter=null,t.matcher&&o._useWithMatcher(t.matcher)}},n.extend(p.Sorter.prototype,{getComparator:function(r){var t=this;if(!r||!r.distances)return t._getBaseComparator();var n=r.distances;return e([t._getBaseComparator(),function(e,r){if(!n.has(e._id))throw Error("Missing distance for "+e._id);if(!n.has(r._id))throw Error("Missing distance for "+r._id);return n.get(e._id)-n.get(r._id)}])},_getPaths:function(){var e=this;return n.pluck(e._sortSpecParts,"path")},_getMinKeyFromDoc:function(e){var r=this,t=null;if(r._generateKeysFromDoc(e,function(e){return r._keyCompatibleWithSelector(e)?null===t?void(t=e):void(r._compareKeys(e,t)<0&&(t=e)):void 0}),null===t)throw Error("sort selector found no keys in doc?");return t},_keyCompatibleWithSelector:function(e){var r=this;return!r._keyFilter||r._keyFilter(e)},_generateKeysFromDoc:function(e,r){var t=this;if(0===t._sortSpecParts.length)throw new Error("can't generate keys without a spec");var o=[],i=function(e){return e.join(",")+","},a=null;if(n.each(t._sortSpecParts,function(r,t){var s=k(r.lookup(e),!0);s.length||(s=[{value:null}]);var c=!1;if(o[t]={},n.each(s,function(e){if(!e.arrayIndices){if(s.length>1)throw Error("multiple branches but no array used?");return void(o[t][""]=e.value)}c=!0;var r=i(e.arrayIndices);if(n.has(o[t],r))throw Error("duplicate path: "+r);if(o[t][r]=e.value,a&&!n.has(a,r))throw Error("cannot index parallel arrays")}),a){if(!n.has(o[t],"")&&n.size(a)!==n.size(o[t]))throw Error("cannot index parallel arrays!")}else c&&(a={},n.each(o[t],function(e,r){a[r]=!0}))}),!a){var s=n.map(o,function(e){if(!n.has(e,""))throw Error("no value in sole key case?");return e[""]});return void r(s)}n.each(a,function(e,t){var i=n.map(o,function(e){if(n.has(e,""))return e[""];if(!n.has(e,t))throw Error("missing path?");return e[t]});r(i)})},_compareKeys:function(e,r){var t=this;if(e.length!==t._sortSpecParts.length||r.length!==t._sortSpecParts.length)throw Error("Key has wrong length");return t._keyComparator(e,r)},_keyFieldComparator:function(e){var r=this,t=!r._sortSpecParts[e].ascending;return function(r,n){var o=h._f._cmp(r[e],n[e]);return t&&(o=-o),o}},_getBaseComparator:function(){var e=this;return e._sortFunction?e._sortFunction:e._sortSpecParts.length?function(r,t){var n=e._getMinKeyFromDoc(r),o=e._getMinKeyFromDoc(t);return e._compareKeys(n,o)}:function(e,r){return 0}},_useWithMatcher:function(e){var r=this;if(r._keyFilter)throw Error("called _useWithMatcher twice?");if(!n.isEmpty(r._sortSpecParts)){var t=e._selector;if(!(t instanceof Function)){var o={};n.each(r._sortSpecParts,function(e,r){o[e.path]=[]}),n.each(t,function(e,r){var t=o[r];if(t){if(e instanceof RegExp){if(e.ignoreCase||e.multiline)return;return void t.push(b(e))}return w(e)?void n.each(e,function(r,o){n.contains(["$lt","$lte","$gt","$gte"],o)&&t.push(I[o].compileElementSelector(r)),"$regex"!==o||e.$options||t.push(I.$regex.compileElementSelector(r,e))}):void t.push(E(e))}}),n.isEmpty(o[r._sortSpecParts[0].path])||(r._keyFilter=function(e){return n.all(r._sortSpecParts,function(r,t){return n.all(o[r.path],function(r){return r(e[t])})})})}}}});var e=function(e){return function(r,t){for(var n=0;n<e.length;++n){var o=e[n](r,t);if(0!==o)return o}return 0}}}.call(this),function(){h._compileProjection=function(e){h._checkSupportedProjection(e);var r=n.isUndefined(e._id)?!0:e._id,t=O(e),i=function(e,r){if(n.isArray(e))return n.map(e,function(e){return i(e,r)});var a=t.including?{}:o.clone(e);return n.each(r,function(r,s){n.has(e,s)&&(n.isObject(r)?n.isObject(e[s])&&(a[s]=i(e[s],r)):t.including?a[s]=o.clone(e[s]):delete a[s])}),a};return function(e){var o=i(e,t.tree);return r&&n.has(e,"_id")&&(o._id=e._id),!r&&n.has(o,"_id")&&delete o._id,o}},O=function(e){var r=n.keys(e).sort();!(r.length>0)||1===r.length&&"_id"===r[0]||n.contains(r,"_id")&&e._id||(r=n.reject(r,function(e){return"_id"===e}));var t=null;n.each(r,function(r){var n=!!e[r];if(null===t&&(t=n),t!==n)throw _("You cannot currently mix including and excluding fields.")});var o=S(r,function(e){return t},function(e,r,t){var n=t,o=r;throw _("both "+n+" and "+o+" found in fields option, using both of them may trigger unexpected behavior. Did you mean to use only one of them?")});return{tree:o,including:t}},S=function(e,r,t,o){return o=o||{},n.each(e,function(e){var i=o,a=e.split("."),s=n.all(a.slice(0,-1),function(r,o){if(n.has(i,r)){if(!n.isObject(i[r])&&(i[r]=t(i[r],a.slice(0,o+1).join("."),e),!n.isObject(i[r])))return!1}else i[r]={};return i=i[r],!0});if(s){var c=n.last(a);n.has(i,c)?i[c]=t(i[c],e,e):i[c]=r(e)}}),o},h._checkSupportedProjection=function(e){if(!n.isObject(e)||n.isArray(e))throw _("fields option must be an object");n.each(e,function(e,r){if(n.contains(r.split("."),"$"))throw _("Minimongo doesn't support $ operator in projections yet.");if("object"==typeof e&&n.intersection(["$elemMatch","$meta","$slice"],n.keys(e)).length>0)throw _("Minimongo doesn't support operators in projections yet.");if(-1===n.indexOf([1,0,!0,!1],e))throw _("Projection values should be one of 1, 0, true, or false")})}}.call(this),function(){h._modify=function(i,a,s){if(s=s||{},!y(a))throw _("Modifier must be an object");a=o.clone(a);var c=w(a),u;if(c)u=o.clone(i),n.each(a,function(o,i){var a=t[i];if(s.isInsert&&"$setOnInsert"===i&&(a=t.$set),!a)throw _("Invalid modifier specified "+i);n.each(o,function(t,o){if(""===o)throw _("An empty update path is not valid.");if("_id"===o&&"$setOnInsert"!==i)throw _("Mod on _id not allowed");var c=o.split(".");if(!n.all(c,n.identity))throw _("The update path '"+o+"' contains an empty field name, which is not allowed.");var d=n.has(r,i),f="$rename"===i,l=e(u,c,{noCreate:r[i],forbidArray:"$rename"===i,arrayIndices:s.arrayIndices}),h=c.pop();a(l,h,t,o,u)})});else{if(a._id&&!o.equals(i._id,a._id))throw _("Cannot change the _id of a document");for(var d in a)if(/\./.test(d))throw _("When replacing document, field name may not contain '.'");u=a}n.each(n.keys(i),function(e){"_id"!==e&&delete i[e]}),n.each(u,function(e,r){i[r]=e})};var e=function(e,r,t){t=t||{};for(var n=!1,o=0;o<r.length;o++){var i=o===r.length-1,a=r[o],s=g(e);if(!s){if(t.noCreate)return void 0;var c=_("cannot use the part '"+a+"' to traverse "+e);throw c.setPropertyError=!0,c}if(e instanceof Array){if(t.forbidArray)return null;if("$"===a){if(n)throw _("Too many positional (i.e. '$') elements");if(!t.arrayIndices||!t.arrayIndices.length)throw _("The positional operator did not find the match needed from the query");a=t.arrayIndices[0],n=!0}else{if(!$(a)){if(t.noCreate)return void 0;throw _("can't append to array using string field name ["+a+"]")}a=parseInt(a)}if(i&&(r[o]=a),t.noCreate&&a>=e.length)return void 0;for(;e.length<a;)e.push(null);if(!i)if(e.length===a)e.push({});else if("object"!=typeof e[a])throw _("can't modify field '"+r[o+1]+"' of list value "+JSON.stringify(e[a]))}else{if(a.length&&"$"===a.substr(0,1))throw _("can't set field named "+a);if(!(a in e)){if(t.noCreate)return void 0;i||(e[a]={})}}if(i)return e;e=e[a]}},r={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},t={$inc:function(e,r,t){if("number"!=typeof t)throw _("Modifier $inc allowed for numbers only");if(r in e){if("number"!=typeof e[r])throw _("Cannot apply $inc modifier to non-number");e[r]+=t}else e[r]=t},$set:function(e,r,t){if(!n.isObject(e)){var o=_("Cannot set property on non-object field");throw o.setPropertyError=!0,o}if(null===e){var o=_("Cannot set property on null");throw o.setPropertyError=!0,o}e[r]=t},$setOnInsert:function(e,r,t){},$unset:function(e,r,t){void 0!==e&&(e instanceof Array?r in e&&(e[r]=null):delete e[r])},$push:function(e,r,t){if(void 0===e[r]&&(e[r]=[]),!(e[r]instanceof Array))throw _("Cannot apply $push modifier to non-array");if(!t||!t.$each)return void e[r].push(t);var n=t.$each;if(!(n instanceof Array))throw _("$each must be an array");var o=void 0;if("$position"in t){if("number"!=typeof t.$position)throw _("$position must be a numeric value");if(t.$position<0)throw _("$position in $push must be zero or positive");o=t.$position}var i=void 0;if("$slice"in t){if("number"!=typeof t.$slice)throw _("$slice must be a numeric value");if(t.$slice>0)throw _("$slice in $push must be zero or negative");i=t.$slice}var a=void 0;if(t.$sort){if(void 0===i)throw _("$sort requires $slice to be present");a=new p.Sorter(t.$sort).getComparator();for(var s=0;s<n.length;s++)if(3!==h._f._type(n[s]))throw _("$push like modifiers using $sort require all elements to be objects");

}if(void 0===o)for(var c=0;c<n.length;c++)e[r].push(n[c]);else{for(var u=[o,0],c=0;c<n.length;c++)u.push(n[c]);Array.prototype.splice.apply(e[r],u)}a&&e[r].sort(a),void 0!==i&&(0===i?e[r]=[]:e[r]=e[r].slice(i))},$pushAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only");var n=e[r];if(void 0===n)e[r]=t;else{if(!(n instanceof Array))throw _("Cannot apply $pushAll modifier to non-array");for(var o=0;o<t.length;o++)n.push(t[o])}},$addToSet:function(e,r,t){var o=!1;if("object"==typeof t)for(var i in t){"$each"===i&&(o=!0);break}var a=o?t.$each:[t],s=e[r];if(void 0===s)e[r]=a;else{if(!(s instanceof Array))throw _("Cannot apply $addToSet modifier to non-array");n.each(a,function(e){for(var r=0;r<s.length;r++)if(h._f._equal(e,s[r]))return;s.push(e)})}},$pop:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pop modifier to non-array");"number"==typeof t&&0>t?n.splice(0,1):n.pop()}}},$pull:function(e,r,t){if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array");var o=[];if(null==t||"object"!=typeof t||t instanceof Array)for(var i=0;i<n.length;i++)h._f._equal(n[i],t)||o.push(n[i]);else for(var a=new p.Matcher(t),i=0;i<n.length;i++)a.documentMatches(n[i]).result||o.push(n[i]);e[r]=o}}},$pullAll:function(e,r,t){if(!("object"==typeof t&&t instanceof Array))throw _("Modifier $pushAll/pullAll allowed for arrays only");if(void 0!==e){var n=e[r];if(void 0!==n){if(!(n instanceof Array))throw _("Cannot apply $pull/pullAll modifier to non-array");for(var o=[],i=0;i<n.length;i++){for(var a=!1,s=0;s<t.length;s++)if(h._f._equal(n[i],t[s])){a=!0;break}a||o.push(n[i])}e[r]=o}}},$rename:function(r,t,n,o,i){if(o===n)throw _("$rename source must differ from target");if(null===r)throw _("$rename source field invalid");if("string"!=typeof n)throw _("$rename target must be a string");if(void 0!==r){var a=r[t];delete r[t];var s=n.split("."),c=e(i,s,{forbidArray:!0});if(null===c)throw _("$rename target field invalid");var u=s.pop();c[u]=a}},$bit:function(e,r,t){throw _("$bit is not supported")}}}.call(this),function(){h._diffQueryChanges=function(e,r,t,n,o){return f.diffQueryChanges(e,r,t,n,o)},h._diffQueryUnorderedChanges=function(e,r,t,n){return f.diffQueryUnorderedChanges(e,r,t,n)},h._diffQueryOrderedChanges=function(e,r,t,n){return f.diffQueryOrderedChanges(e,r,t,n)},h._diffObjects=function(e,r,t){return f.diffObjects(e,r,t)}}.call(this),function(){h._IdMap=function(){var e=this;i.call(e,u.idStringify,u.idParse)},e._inherits(h._IdMap,i)}.call(this),function(){h._CachingChangeObserver=function(e){var r=this;e=e||{};var t=e.callbacks&&h._observeChangesCallbacksAreOrdered(e.callbacks);if(n.has(e,"ordered")){if(r.ordered=e.ordered,e.callbacks&&e.ordered!==t)throw Error("ordered option doesn't match callbacks")}else{if(!e.callbacks)throw Error("must provide ordered or callbacks");r.ordered=t}var i=e.callbacks||{};r.ordered?(r.docs=new a(u.idStringify),r.applyChange={addedBefore:function(e,t,n){var a=o.clone(t);a._id=e,i.addedBefore&&i.addedBefore.call(r,e,t,n),i.added&&i.added.call(r,e,t),r.docs.putBefore(e,a,n||null)},movedBefore:function(e,t){var n=r.docs.get(e);i.movedBefore&&i.movedBefore.call(r,e,t),r.docs.moveBefore(e,t||null)}}):(r.docs=new h._IdMap,r.applyChange={added:function(e,t){var n=o.clone(t);i.added&&i.added.call(r,e,t),n._id=e,r.docs.set(e,n)}}),r.applyChange.changed=function(e,t){var n=r.docs.get(e);if(!n)throw new Error("Unknown id for changed: "+e);i.changed&&i.changed.call(r,e,o.clone(t)),f.applyChanges(n,t)},r.applyChange.removed=function(e){i.removed&&i.removed.call(r,e),r.docs.remove(e)}},h._observeFromObserveChanges=function(e,r){var t=e.getTransform()||function(e){return e},i=!!r._suppress_initial,a;if(h._observeCallbacksAreOrdered(r)){var s=!r._no_indices;a={addedBefore:function(e,o,a){var c=this;if(!i&&(r.addedAt||r.added)){var u=t(n.extend(o,{_id:e}));if(r.addedAt){var d=s?a?c.docs.indexOf(a):c.docs.size():-1;r.addedAt(u,d,a)}else r.added(u)}},changed:function(e,n){var i=this;if(r.changedAt||r.changed){var a=o.clone(i.docs.get(e));if(!a)throw new Error("Unknown id for changed: "+e);var c=t(o.clone(a));if(f.applyChanges(a,n),a=t(a),r.changedAt){var u=s?i.docs.indexOf(e):-1;r.changedAt(a,c,u)}else r.changed(a,c)}},movedBefore:function(e,n){var i=this;if(r.movedTo){var a=s?i.docs.indexOf(e):-1,c=s?n?i.docs.indexOf(n):i.docs.size():-1;c>a&&--c,r.movedTo(t(o.clone(i.docs.get(e))),a,c,n||null)}},removed:function(e){var n=this;if(r.removedAt||r.removed){var o=t(n.docs.get(e));if(r.removedAt){var i=s?n.docs.indexOf(e):-1;r.removedAt(o,i)}else r.removed(o)}}}}else a={added:function(e,o){if(!i&&r.added){var a=n.extend(o,{_id:e});r.added(t(a))}},changed:function(e,n){var i=this;if(r.changed){var a=i.docs.get(e),s=o.clone(a);f.applyChanges(s,n),r.changed(t(s),t(o.clone(a)))}},removed:function(e){var n=this;r.removed&&r.removed(t(n.docs.get(e)))}};var c=new h._CachingChangeObserver({callbacks:a}),u=e.observeChanges(c.applyChange);return i=!1,u}}.call(this),function(){h._selectorIsId=function(e){return"string"==typeof e||"number"==typeof e||e instanceof u.ObjectID},h._selectorIsIdPerhapsAsObject=function(e){return h._selectorIsId(e)||e&&"object"==typeof e&&e._id&&h._selectorIsId(e._id)&&1===n.size(e)},h._idsMatchedBySelector=function(e){if(h._selectorIsId(e))return[e];if(!e)return null;if(n.has(e,"_id"))return h._selectorIsId(e._id)?[e._id]:e._id&&e._id.$in&&n.isArray(e._id.$in)&&!n.isEmpty(e._id.$in)&&n.all(e._id.$in,h._selectorIsId)?e._id.$in:null;if(e.$and&&n.isArray(e.$and))for(var r=0;r<e.$and.length;++r){var t=h._idsMatchedBySelector(e.$and[r]);if(t)return t}return null}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var t in r)t in e||(e[t]=r[t])}(Package.minimongo={},{LocalCollection:h,Minimongo:p,MinimongoTest:v})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,a=Package.modules.Buffer,i=Package.modules.process,o=Package.underscore._,c=Package.ejson.EJSON,s,u,f=r({node_modules:{meteor:{check:{"match.js":["./isPlainObject.js",function(t,n){var r=new e.EnvironmentVariable,a=t("./isPlainObject.js").isPlainObject,i=n.check=function(e,t){var n=r.getOrNullIfOutsideFiber();n&&n.checking(e);var a=y(e,t);if(a){var i=new s.Error(a.message);throw a.path&&(i.message+=" in field "+a.path,i.path=a.path),i}},s=n.Match={Optional:function(e){return new u(e)},Maybe:function(e){return new f(e)},OneOf:function(){return new l(o.toArray(arguments))},Any:["__any__"],Where:function(e){return new h(e)},ObjectIncluding:function(e){return new p(e)},ObjectWithValues:function(e){return new g(e)},Integer:["__integer__"],Error:e.makeErrorType("Match.Error",function(t){this.message="Match error: "+t,this.path="",this.sanitizedError=new e.Error(400,"Match failed")}),test:function(e,t){return!y(e,t)},_failIfArgumentsAreNotAllChecked:function(e,t,n,a){var i=new v(n,a),o=r.withValue(i,function(){return e.apply(t,n)});return i.throwUnlessAllArgumentsHaveBeenChecked(),o}},u=function(e){this.pattern=e},f=function(e){this.pattern=e},l=function(e){if(o.isEmpty(e))throw new Error("Must provide at least one choice to Match.OneOf");this.choices=e},h=function(e){this.condition=e},p=function(e){this.pattern=e},g=function(e){this.pattern=e},m=function(e,t){if(t=t||{},null===e)return"null";if(t.onlyShowType)return typeof e;if("object"!=typeof e)return c.stringify(e);try{JSON.stringify(e)}catch(n){if("TypeError"===n.name)return typeof e}return c.stringify(e)},d=[[String,"string"],[Number,"number"],[Boolean,"boolean"],[Function,"function"],[void 0,"undefined"]],y=function(e,t){if(t===s.Any)return!1;for(var n=0;n<d.length;++n)if(t===d[n][0])return typeof e===d[n][1]?!1:{message:"Expected "+d[n][1]+", got "+m(e,{onlyShowType:!0}),path:""};if(null===t)return null===e?!1:{message:"Expected null, got "+m(e),path:""};if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return e===t?!1:{message:"Expected "+t+", got "+m(e),path:""};if(t===s.Integer)return"number"==typeof e&&(0|e)===e?!1:{message:"Expected Integer, got "+m(e),path:""};if(t===Object&&(t=s.ObjectIncluding({})),t instanceof Array){if(1!==t.length)return{message:"Bad pattern: arrays must have one type element"+m(t),path:""};if(!o.isArray(e)&&!o.isArguments(e))return{message:"Expected array, got "+m(e),path:""};for(var n=0,r=e.length;r>n;n++){var i=y(e[n],t[0]);if(i)return i.path=k(n,i.path),i}return!1}if(t instanceof h){var i;try{i=t.condition(e)}catch(c){if(!(c instanceof s.Error))throw c;return{message:c.message,path:c.path}}return i?!1:{message:"Failed Match.Where validation",path:""}}if(t instanceof f?t=s.OneOf(void 0,null,t.pattern):t instanceof u&&(t=s.OneOf(void 0,t.pattern)),t instanceof l){for(var n=0;n<t.choices.length;++n){var i=y(e,t.choices[n]);if(!i)return!1}return{message:"Failed Match.OneOf, Match.Maybe or Match.Optional validation",path:""}}if(t instanceof Function)return e instanceof t?!1:{message:"Expected "+(t.name||"particular constructor"),path:""};var v=!1,b;if(t instanceof p&&(v=!0,t=t.pattern),t instanceof g&&(v=!0,b=[t.pattern],t={}),"object"!=typeof t)return{message:"Bad pattern: unknown pattern type",path:""};if("object"!=typeof e)return{message:"Expected object, got "+typeof e,path:""};if(null===e)return{message:"Expected object, got null",path:""};if(!a(e))return{message:"Expected plain object",path:""};var w={},O={};o.each(t,function(e,t){e instanceof u||e instanceof f?O[t]=e.pattern:w[t]=e});for(var j=function(e){var t=[];if(o.isObject(e))for(var n in e)t.push(n);return t},E=j(e),n=0,r=E.length;r>n;n++){var P=E[n],_=e[P];if(o.has(w,P)){var i=y(_,w[P]);if(i)return i.path=k(P,i.path),i;delete w[P]}else if(o.has(O,P)){var i=y(_,O[P]);if(i)return i.path=k(P,i.path),i}else{if(!v)return{message:"Unknown key",path:P};if(b){var i=y(_,b[0]);if(i)return i.path=k(P,i.path),i}}}var E=o.keys(w);return E.length?{message:"Missing key '"+E[0]+"'",path:""}:void 0},v=function(e,t){var n=this;n.args=o.clone(e),n.args.reverse(),n.description=t};o.extend(v.prototype,{checking:function(e){var t=this;t._checkingOneValue(e)||(o.isArray(e)||o.isArguments(e))&&o.each(e,o.bind(t._checkingOneValue,t))},_checkingOneValue:function(e){for(var t=this,n=0;n<t.args.length;++n)if(e===t.args[n]||o.isNaN(e)&&o.isNaN(t.args[n]))return t.args.splice(n,1),!0;return!1},throwUnlessAllArgumentsHaveBeenChecked:function(){var e=this;if(!o.isEmpty(e.args))throw new Error("Did not check() all arguments during "+e.description)}});var b=["do","if","in","for","let","new","try","var","case","else","enum","eval","false","null","this","true","void","with","break","catch","class","const","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof"],k=function(e,t){return"number"==typeof e||e.match(/^[0-9]+$/)?e="["+e+"]":(!e.match(/^[a-z_$][0-9a-z_$]*$/i)||o.contains(b,e))&&(e=JSON.stringify([e])),t&&"["!==t[0]?e+"."+t:e+t}}],"isPlainObject.js":function(e,t){function n(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?a[i.call(e)]||"object":typeof e}function r(e){return null!=e&&e==e.window}var a={},i=a.toString,c=a.hasOwnProperty,s={};o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){a["[object "+e+"]"]=e.toLowerCase()}),t.isPlainObject=function(e){var t;if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}if(s.ownLast)for(t in e)return c.call(e,t);for(t in e);return void 0===t||c.call(e,t)}}}}}},{extensions:[".js",".json"]}),l=f("./node_modules/meteor/check/match.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.check=l,{check:s,Match:u})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,i=Package.random.Random,a;(function(){a=function(e){var t=this;n.extend(t,n.defaults(n.clone(e||{}),{baseTimeout:1e3,exponent:2.2,maxTimeout:3e5,minTimeout:10,minCount:2,fuzz:.5})),t.retryTimer=null},n.extend(a.prototype,{clear:function(){var e=this;e.retryTimer&&clearTimeout(e.retryTimer),e.retryTimer=null},_timeout:function(e){var t=this;if(e<t.minCount)return t.minTimeout;var r=Math.min(t.maxTimeout,t.baseTimeout*Math.pow(t.exponent,e));return r*=i.fraction()*t.fuzz+(1-t.fuzz/2)},retryLater:function(t,r){var n=this,i=n._timeout(t);return n.retryTimer&&clearTimeout(n.retryTimer),n.retryTimer=e.setTimeout(r,i),i}})}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var r in t)r in e||(e[r]=t[r])}(Package.retry={},{Retry:a})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,n=Package.check.check,r=Package.check.Match,i=Package.random.Random,o=Package.ejson.EJSON,c=Package.underscore._,s=Package.tracker.Tracker,l=Package.tracker.Deps,u=Package.retry.Retry,d;(function(){d={}}).call(this),function(){d.Heartbeat=function(e){var t=this;t.heartbeatInterval=e.heartbeatInterval,t.heartbeatTimeout=e.heartbeatTimeout,t._sendPing=e.sendPing,t._onTimeout=e.onTimeout,t._seenPacket=!1,t._heartbeatIntervalHandle=null,t._heartbeatTimeoutHandle=null},c.extend(d.Heartbeat.prototype,{stop:function(){var e=this;e._clearHeartbeatIntervalTimer(),e._clearHeartbeatTimeoutTimer()},start:function(){var e=this;e.stop(),e._startHeartbeatIntervalTimer()},_startHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle=e.setInterval(c.bind(t._heartbeatIntervalFired,t),t.heartbeatInterval)},_startHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle=e.setTimeout(c.bind(t._heartbeatTimeoutFired,t),t.heartbeatTimeout)},_clearHeartbeatIntervalTimer:function(){var t=this;t._heartbeatIntervalHandle&&(e.clearInterval(t._heartbeatIntervalHandle),t._heartbeatIntervalHandle=null)},_clearHeartbeatTimeoutTimer:function(){var t=this;t._heartbeatTimeoutHandle&&(e.clearTimeout(t._heartbeatTimeoutHandle),t._heartbeatTimeoutHandle=null)},_heartbeatIntervalFired:function(){var e=this;e._seenPacket||e._heartbeatTimeoutHandle||(e._sendPing(),e._startHeartbeatTimeoutTimer()),e._seenPacket=!1},_heartbeatTimeoutFired:function(){var e=this;e._heartbeatTimeoutHandle=null,e._onTimeout()},messageReceived:function(){var e=this;e._seenPacket=!0,e._heartbeatTimeoutHandle&&e._clearHeartbeatTimeoutTimer()}})}.call(this),function(){d.SUPPORTED_DDP_VERSIONS=["1","pre2","pre1"],d.parseDDP=function(t){try{var a=JSON.parse(t)}catch(n){return e._debug("Discarding message with invalid JSON",t),null}return null===a||"object"!=typeof a?(e._debug("Discarding non-object DDP message",t),null):(c.has(a,"cleared")&&(c.has(a,"fields")||(a.fields={}),c.each(a.cleared,function(e){a.fields[e]=void 0}),delete a.cleared),c.each(["fields","params","result"],function(e){c.has(a,e)&&(a[e]=o._adjustTypesFromJSONValue(a[e]))}),a)},d.stringifyDDP=function(e){var t=o.clone(e);if(c.has(e,"fields")){var a=[];c.each(e.fields,function(e,n){void 0===e&&(a.push(n),delete t.fields[n])}),c.isEmpty(a)||(t.cleared=a),c.isEmpty(t.fields)&&delete t.fields}if(c.each(["fields","params","result"],function(e){c.has(t,e)&&(t[e]=o._adjustTypesToJSONValue(t[e]))}),e.id&&"string"!=typeof e.id)throw new Error("Message id is not a string");return JSON.stringify(t)}}.call(this),function(){d.MethodInvocation=function(e){var t=this;this.isSimulation=e.isSimulation,this._unblock=e.unblock||function(){},this._calledUnblock=!1,this.userId=e.userId,this._setUserId=e.setUserId||function(){},this.connection=e.connection,this.randomSeed=e.randomSeed,this.randomStream=null},c.extend(d.MethodInvocation.prototype,{unblock:function(){var e=this;e._calledUnblock=!0,e._unblock()},setUserId:function(e){var t=this;if(t._calledUnblock)throw new Error("Can't call setUserId in a method after calling unblock");t.userId=e,t._setUserId(e)}})}.call(this),function(){function e(){return i.hexString(20)}d.RandomStream=function(t){var a=this;this.seed=[].concat(t.seed||e()),this.sequences={}},d.RandomStream.get=function(e,t){if(t||(t="default"),!e)return i.insecure;var a=e.randomStream;return a||(e.randomStream=a=new d.RandomStream({seed:e.randomSeed})),a._sequence(t)},d.makeRpcSeed=function(e,t){var a=d.RandomStream.get(e,"/rpc/"+t);return a.hexString(20)},c.extend(d.RandomStream.prototype,{_sequence:function(e){var t=this,a=t.sequences[e]||null;if(null===a){for(var n=t.seed.concat(e),r=0;r<n.length;r++)c.isFunction(n[r])&&(n[r]=n[r]());t.sequences[e]=a=i.createWithSeeds.apply(null,n)}return a}})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package["ddp-common"]={},{DDPCommon:d})}();

!function(){var a=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,o=Package.underscore._,n=Package["ecmascript-runtime"].Symbol,r=Package["ecmascript-runtime"].Map,i=Package["ecmascript-runtime"].Set,c;(function(){c={};var e="Meteor_Reload",t={},n,r=null;try{r=window.sessionStorage,r?(r.setItem("__dummy__","1"),r.removeItem("__dummy__")):r=null}catch(i){r=null}c._getData=function(){return r&&r.getItem(e)},r&&(n=c._getData(),r.removeItem(e)),n||(n="{}");var l={};try{l=JSON.parse(n),"object"!=typeof l&&(a._debug("Got bad data on reload. Ignoring."),l={})}catch(d){a._debug("Got invalid JSON on reload. Ignoring.")}l.reload&&"object"==typeof l.data&&(t=l.data);var g=[];c._onMigrate=function(a,e){e||(e=a,a=void 0),g.push({name:a,callback:e})},c._migrationData=function(a){return t[a]};var u=function(a,e){a=a||function(){},e=e||{};for(var t={},n=o.clone(g),r=!0;n.length;){var i=n.shift(),c=i.callback(a,e);c[0]||(r=!1),c.length>1&&i.name&&(t[i.name]=c[1])}return r||e.immediateMigration?t:null};c._migrate=function(t,o){var n=u(t,o);if(null===n)return!1;try{var i=JSON.stringify({data:n,reload:!0})}catch(c){throw a._debug("Couldn't serialize data for migration",n),c}if(r)try{r.setItem(e,i)}catch(c){a._debug("Couldn't save data for migration to sessionStorage",c)}else a._debug("Browser does not support sessionStorage. Not saving migration state.");return!0},c._withFreshProvidersForTest=function(a){var e=o.clone(g);g=[];try{a()}finally{g=e}};var m=!1;c._reload=function(a){if(a=a||{},!m){m=!0;var e=function(){o.defer(function(){c._migrate(e,a)&&(window.location.hash||window.location.href.endsWith("#")?window.location.reload():window.location.replace(window.location.href))})};e()}}}).call(this),function(){a._reload={onMigrate:c._onMigrate,migrationData:c._migrationData,reload:c._reload}}.call(this),"undefined"==typeof Package&&(Package={}),function(a,e){for(var t in e)t in a||(a[t]=e[t])}(Package.reload={},{Reload:c})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.check.check,o=Package.check.Match,i=Package.random.Random,s=Package.ejson.EJSON,a=Package.underscore._,u=Package.tracker.Tracker,c=Package.tracker.Deps,d=Package.retry.Retry,l=Package["id-map"].IdMap,f=Package["ddp-common"].DDPCommon,_=Package["diff-sequence"].DiffSequence,p=Package["mongo-id"].MongoID,h,v,m,g,b,y,w;(function(){h={},v={}}).call(this),function(){m=function(){var e=this;l.call(e,p.idStringify,p.idParse)},e._inherits(m,l)}.call(this),function(){g=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];-1===n.arrIndexOf(r,t)&&r.push(t)},r.prototype.removeEventListener=function(e,t){if(this._listeners&&e in this._listeners){var r=this._listeners[e],o=n.arrIndexOf(r,t);return-1!==o?void(r.length>1?this._listeners[e]=r.slice(0,o).concat(r.slice(o+1)):delete this._listeners[e]):void 0}},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);if(this["on"+t]&&this["on"+t].apply(this,n),this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var o=function(e,t){if(this.type=e,"undefined"!=typeof t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])};o.prototype.toString=function(){var e=[];for(var t in this)if(this.hasOwnProperty(t)){var n=this[t];"function"==typeof n&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var i=function(e){var t=this;t._events=e||[],t._listeners={}};i.prototype.emit=function(e){var t=this;if(t._verifyType(e),!t._nuked){var n=Array.prototype.slice.call(arguments,1);if(t["on"+e]&&t["on"+e].apply(t,n),e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)}},i.prototype.on=function(e,t){var n=this;n._verifyType(e),n._nuked||(e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t))},i.prototype._verifyType=function(e){var t=this;-1===n.arrIndexOf(t._events,e)&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},i.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var s="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||s.length;var n,r=[];for(n=0;e>n;n++)r.push(s.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var a="_jp";n.polluteGlobalNamespace=function(){a in t||(t[a]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return 1e3===e||e>=3e3&&4999>=e},n.countRTO=function(e){var t;return t=e>100?3*e:e+200},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return-1===e.indexOf("?")&&-1===e.indexOf("#")},n.amendUrl=function(t,r){var o;if(void 0===r)o=e.location;else{var i=/^([a-z0-9.+-]+:)/i.exec(r);if(i){var s=i[0].toLowerCase(),a=r.substring(s.length),u=/[a-z0-9\.-]+(:[0-9]+)?/.exec(a);if(u)var c=u[0]}if(!s||!c)throw new Error("relativeTo must be an absolute url");o={protocol:s,host:c}}if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");0===t.indexOf("//")&&(t=o.protocol+t),0===t.indexOf("/")&&(t=o.protocol+"//"+o.host+t),t=t.replace(/[\/]+$/,"");var d=t.split("/");return("http:"===d[0]&&/:80$/.test(d[2])||"https:"===d[0]&&/:443$/.test(d[2]))&&(d[2]=d[2].replace(/:(80|443)$/,"")),t=d.join("/")},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(-1===r)return e.slice();var o=e.slice(0,r);return o.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return"function"==typeof e&&(t=e,e=0),setTimeout(t,e)};var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\x00":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","\ufeff":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},d=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,l,f=JSON&&JSON.stringify||function(e){return u.lastIndex=0,u.test(e)&&(e=e.replace(u,function(e){return c[e]})),'"'+e+'"'},_=function(e){var t,n={},r=[];for(t=0;65536>t;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=f(e);return d.lastIndex=0,d.test(t)?(l||(l=_(d)),t.replace(d,function(e){return l[e]})):t};var p=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){for(var e={},t=0;t<p.length;t++){var n=p[t];e[n]=C[n]&&C[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},o=[];t||(t=p);for(var i=0;i<t.length;i++){var s=t[i];r[s]=e[s]}var a=function(e){var t=e.shift();r[t]?o.push(t):e.length>0&&a(e)};return n.websocket!==!1&&a(["websocket"]),r["xhr-streaming"]&&!n.null_origin?o.push("xhr-streaming"):!r["xdr-streaming"]||n.cookie_needed||n.null_origin?a(["iframe-eventsource","iframe-htmlfile"]):o.push("xdr-streaming"),r["xhr-polling"]&&!n.null_origin?o.push("xhr-polling"):!r["xdr-polling"]||n.cookie_needed||n.null_origin?a(["iframe-xhr-polling","jsonp-polling"]):o.push("xdr-polling"),o};var h="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(h in t)){var r={};t[h]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[h](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){"undefined"!=typeof t.addEventListener?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var v={},m=!1,g=function(){for(var e in v)v[e](),delete v[e]},b=function(){m||(m=!0,g())};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return v[t]=e,m&&n.delay(g),t},n.unload_del=function(e){e in v&&delete v[e]},n.createIframe=function(t,r){var o=e.createElement("iframe"),i,s,a=function(){clearTimeout(i);try{o.onload=null}catch(e){}o.onerror=null},u=function(){o&&(a(),setTimeout(function(){o&&o.parentNode.removeChild(o),o=null},0),n.unload_del(s))},c=function(e){o&&(u(),r(e))},d=function(e,t){try{o&&o.contentWindow&&o.contentWindow.postMessage(e,t)}catch(n){}};return o.src=t,o.style.display="none",o.style.position="absolute",o.onerror=function(){c("onerror")},o.onload=function(){clearTimeout(i),i=setTimeout(function(){c("onload timeout")},2e3)},e.body.appendChild(o),i=setTimeout(function(){c("timeout")},15e3),s=n.unload_add(u),{post:d,cleanup:u,loaded:a}},n.createHtmlfile=function(e,r){var o=new ActiveXObject("htmlfile"),i,s,u,c=function(){clearTimeout(i)},d=function(){o&&(c(),n.unload_del(s),u.parentNode.removeChild(u),u=o=null,CollectGarbage())},l=function(e){o&&(d(),r(e))},f=function(e,t){try{u&&u.contentWindow&&u.contentWindow.postMessage(e,t)}catch(n){}};o.open(),o.write('<html><script>document.domain="'+document.domain+'";</script></html>'),o.close(),o.parentWindow[a]=t[a];var _=o.createElement("div");return o.body.appendChild(_),u=o.createElement("iframe"),_.appendChild(u),u.src=e,i=setTimeout(function(){l("timeout")},15e3),s=n.unload_add(d),{post:f,cleanup:d,loaded:c}};var y=function(){};y.prototype=new i(["chunk","finish"]),y.prototype._start=function(e,r,o,i){var s=this;try{s.xhr=new XMLHttpRequest}catch(a){}if(!s.xhr)try{s.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}(t.ActiveXObject||t.XDomainRequest)&&(r+=(-1===r.indexOf("?")?"?":"&")+"t="+ +new Date),s.unload_ref=n.unload_add(function(){s._cleanup(!0)});try{s.xhr.open(e,r,!0)}catch(u){return s.emit("finish",0,""),void s._cleanup()}if(i&&i.no_credentials||(s.xhr.withCredentials="true"),i&&i.headers)for(var c in i.headers)s.xhr.setRequestHeader(c,i.headers[c]);s.xhr.onreadystatechange=function(){if(s.xhr){var e=s.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(e){}1223===t&&(t=204),n&&n.length>0&&s.emit("chunk",t,n);break;case 4:var t=e.status;1223===t&&(t=204),s.emit("finish",t,e.responseText),s._cleanup(!1)}}},s.xhr.send(o)},y.prototype._cleanup=function(e){var t=this;if(t.xhr){if(n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){},e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null}},y.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var w=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};w.prototype=new y;var S=n.XHRLocalObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r,{no_credentials:!0})})};S.prototype=new y;var k=n.XDRObject=function(e,t,r){var o=this;n.delay(function(){o._start(e,t,r)})};k.prototype=new i(["chunk","finish"]),k.prototype._start=function(e,t,r){var o=this,i=new XDomainRequest;t+=(-1===t.indexOf("?")?"?":"&")+"t="+ +new Date;var s=i.ontimeout=i.onerror=function(){o.emit("finish",0,""),o._cleanup(!1)};i.onprogress=function(){o.emit("chunk",200,i.responseText)},i.onload=function(){o.emit("finish",200,i.responseText),o._cleanup(!1)},o.xdr=i,o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xdr.open(e,t),o.xdr.send(r)}catch(a){s()}},k.prototype._cleanup=function(e){var t=this;if(t.xdr){if(n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null,e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null}},k.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:B.enabled()?3:4};var C=function(e,t,r){if(!(this instanceof C))return new C(e,t,r);var o=this,i;o._options={devel:!1,debug:!1,protocols_whitelist:[],info:void 0,rtt:void 0},r&&n.objectExtend(o._options,r),o._base_url=n.amendUrl(e),o._server=o._options.server||n.random_number_string(1e3),o._options.protocols_whitelist&&o._options.protocols_whitelist.length?i=o._options.protocols_whitelist:(i="string"==typeof t&&t.length>0?[t]:n.isArray(t)?t:null,i&&o._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),o._protocols=[],o.protocol=null,o.readyState=C.CONNECTING,o._ir=J(o._base_url),o._ir.onfinish=function(e,t){o._ir=null,e?(o._options.info&&(e=n.objectExtend(e,o._options.info)),o._options.rtt&&(t=o._options.rtt),o._applyInfo(e,t,i),o._didClose()):o._didClose(1002,"Can't connect to server",!0)}};C.prototype=new r,C.version="0.3.4",C.CONNECTING=0,C.OPEN=1,C.CLOSING=2,C.CLOSED=3,C.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},C.prototype._dispatchOpen=function(){var e=this;e.readyState===C.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=C.OPEN,e.dispatchEvent(new o("open"))):e._didClose(1006,"Server lost session")},C.prototype._dispatchMessage=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("message",{data:e}))},C.prototype._dispatchHeartbeat=function(e){var t=this;t.readyState===C.OPEN&&t.dispatchEvent(new o("heartbeat",{}))},C.prototype._didClose=function(e,t,r){var i=this;if(i.readyState!==C.CONNECTING&&i.readyState!==C.OPEN&&i.readyState!==C.CLOSING)throw new Error("INVALID_STATE_ERR");i._ir&&(i._ir.nuke(),i._ir=null),i._transport&&(i._transport.doCleanup(),i._transport=null);var s=new o("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&i.readyState===C.CONNECTING&&!r){if(i._try_next_protocol(s))return;s=new o("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:s})}i.readyState=C.CLOSED,n.delay(function(){i.dispatchEvent(s)})},C.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":for(var r=JSON.parse(e.slice(1)||"[]"),o=0;o<r.length;o++)t._dispatchMessage(r[o]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},C.prototype._try_next_protocol=function(t){var r=this;for(r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);;){var o=r.protocol=r._protocols.shift();if(!o)return!1;if(C[o]&&C[o].need_body===!0&&(!e.body||"undefined"!=typeof e.readyState&&"complete"!==e.readyState))return r._protocols.unshift(o),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(C[o]&&C[o].enabled(r._options)){var i=C[o].roundTrips||1,s=(r._options.rto||0)*i||5e3;r._transport_tref=n.delay(s,function(){r.readyState===C.CONNECTING&&r._didClose(2007,"Transport timeouted")});var a=n.random_string(8),u=r._base_url+"/"+r._server+"/"+a;return r._debug("Opening transport:",o," url:"+u," RTO:"+r._options.rto),r._transport=new C[o](r,u,r._base_url),!0}r._debug("Skipping transport:",o)}},C.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==C.CONNECTING&&r.readyState!==C.OPEN?!1:(r.readyState=C.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},C.prototype.send=function(e){var t=this;if(t.readyState===C.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===C.OPEN&&t._transport.doSend(n.quote(""+e)),!0},C.prototype._applyInfo=function(t,r,o){var i=this;i._options.info=t,i._options.rtt=r,i._options.rto=n.countRTO(r),i._options.info.null_origin=!e.domain,t.base_url&&(i._base_url=n.amendUrl(t.base_url,i._base_url));var s=n.probeProtocols();i._protocols=n.detectProtocols(s,o,t),n.isSameOriginScheme(i._base_url)||2!==n.isXHRCorsCapable()||(i._protocols=["jsonp-polling"])};var E=C.websocket=function(e,r){var o=this,i=r+"/websocket";i="https"===i.slice(0,5)?"wss"+i.slice(5):"ws"+i.slice(4),o.ri=e,o.url=i;var s=t.WebSocket||t.MozWebSocket;o.ws=new s(o.url),o.ws.onmessage=function(e){o.ri._didMessage(e.data)},o.unload_ref=n.unload_add(function(){o.ws.close()}),o.ws.onclose=function(){o.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};E.prototype.doSend=function(e){this.ws.send("["+e+"]")},E.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},E.enabled=function(){return!(!t.WebSocket&&!t.MozWebSocket)},E.roundTrips=2;var O=function(){};O.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},O.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},O.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},O.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},O.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var T=function(t,r,o){var i=this;if(!("_send_form"in i)){var s=i._send_form=e.createElement("form"),a=i._send_area=e.createElement("textarea");a.name="d",s.style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",s.appendChild(a),e.body.appendChild(s)}var s=i._send_form,a=i._send_area,u="a"+n.random_string(8);s.target=u,s.action=t+"/jsonp_send?i="+u;var c;try{c=e.createElement('<iframe name="'+u+'">')}catch(d){c=e.createElement("iframe"),c.name=u}c.id=u,s.appendChild(c),c.style.display="none";try{a.value=r}catch(l){n.log("Your browser is seriously broken. Go home! "+l.message)}s.submit();var f=function(e){c.onerror&&(c.onreadystatechange=c.onerror=c.onload=null,n.delay(500,function(){c.parentNode.removeChild(c),c=null}),a.value="",o(!0))};return c.onerror=c.onload=f,c.onreadystatechange=function(e){"complete"==c.readyState&&f()},f},D=function(e){return function(t,n,r){var o=new e("POST",t+"/xhr_send",n);return o.onfinish=function(e,t){r(200===e||204===e,"http status "+e)},function(e){r(!1,e)}}},M=function(t,r){var o,i=e.createElement("script"),s,a=function(e){s&&(s.parentNode.removeChild(s),s=null),i&&(clearTimeout(o),i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,i=null,r(e),r=null)},u=!1,c=null;if(i.id="a"+n.random_string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=function(e){c||(c=setTimeout(function(){u||a(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},i.onload=function(e){a(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(e){if(/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){u=!0;try{i.onclick()}catch(t){}}i&&a(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}},"undefined"==typeof i.async&&e.attachEvent)if(/opera/i.test(navigator.userAgent))s=e.createElement("script"),s.text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=s.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(d){}i.async=!0}"undefined"!=typeof i.async&&(i.async=!0),o=setTimeout(function(){a(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var l=e.getElementsByTagName("head")[0];return l.insertBefore(i,l.firstChild),s&&l.insertBefore(s,l.firstChild),a},x=C["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(T),r._schedule_recv()};x.prototype=new O,x.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=R(e.trans_url+"/jsonp",M,t)},x.enabled=function(){return!0},x.need_body=!0,x.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var R=function(e,r,o){var i="a"+n.random_string(6),s=e+"?c="+escape(a+"."+i),u=0,c=function(e){switch(u){case 0:delete t[a][i],o(e);break;case 1:o(e),u=2;break;case 2:delete t[a][i]}},d=r(s,c);t[a][i]=d;var l=function(){t[a][i]&&(u=1,t[a][i](n.closeFrame(1e3,"JSONP user aborted read")))};return l},I=function(){};I.prototype=new O,I.prototype.run=function(e,t,n,r,o){var i=this;i.ri=e,i.trans_url=t,i.send_constructor(D(o)),i.poll=new K(e,r,t+n,o)},I.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var P=C["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XHRCorsObject)};P.prototype=new I,P.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},P.roundTrips=2,P.need_body=!0;var N=C["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",re,n.XDRObject)};N.prototype=new I,N.enabled=function(){return!!t.XDomainRequest},N.roundTrips=2;var j=C["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRCorsObject)};j.prototype=new I,j.enabled=P.enabled,j.roundTrips=2;var A=C["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XDRObject)};A.prototype=new I,A.enabled=N.enabled,A.roundTrips=2;var B=function(){};B.prototype.i_constructor=function(e,t,r){var o=this;o.ri=e,o.origin=n.getOrigin(r),o.base_url=r,o.trans_url=t;var i=r+"/iframe.html";o.ri._options.devel&&(i+="?t="+ +new Date),o.window_id=n.random_string(8),i+="#"+o.window_id,o.iframeObj=n.createIframe(i,function(e){o.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),o.onmessage_cb=n.bind(o.onmessage,o),n.attachMessage(o.onmessage_cb)},B.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},B.prototype.onmessage=function(e){var t=this;if(e.origin===t.origin){var n=e.data.slice(0,8),r=e.data.slice(8,9),o=e.data.slice(9);if(n===t.window_id)switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([C.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(o)}}},B.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},B.prototype.doSend=function(e){this.postMessage("m",e)},B.enabled=function(){var e=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Konqueror");return("function"==typeof t.postMessage||"object"==typeof t.postMessage)&&!e};var U,W=function(e,r){parent!==t?parent.postMessage(U+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},F=function(){};F.prototype._didClose=function(e,t){W("t",n.closeFrame(e,t))},F.prototype._didMessage=function(e){W("t",e)},F.prototype._doSend=function(e){this._transport.doSend(e)},F.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=void 0,C.bootstrap_iframe=function(){var r;U=e.location.hash.slice(1);var o=function(e){if(e.source===parent&&("undefined"==typeof n.parent_origin&&(n.parent_origin=e.origin),e.origin===n.parent_origin)){var o=e.data.slice(0,8),i=e.data.slice(8,9),s=e.data.slice(9);if(o===U)switch(i){case"s":var a=JSON.parse(s),u=a[0],c=a[1],d=a[2],l=a[3];if(u!==C.version&&n.log('Incompatibile SockJS! Main site uses: "'+u+'", the iframe: "'+C.version+'".'),!n.flatUrl(d)||!n.flatUrl(l))return void n.log("Only basic urls are supported in SockJS");if(!n.isSameOriginUrl(d)||!n.isSameOriginUrl(l))return void n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,d,l])+")");r=new F,r._transport=new F[c](r,d,l);break;case"m":r._doSend(s);break;case"c":r&&r._doCleanup(),r=null}}};n.attachMessage(o),W("s")};var L=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};L.prototype=new i(["finish"]),L.prototype.doXhr=function(e,t){var r=this,o=(new Date).getTime(),i=new t("GET",e+"/info?cb="+n.random_string(10)),s=n.delay(8e3,function(){i.ontimeout()});i.onfinish=function(e,t){if(clearTimeout(s),s=null,200===e){var n=(new Date).getTime()-o,i=JSON.parse(t);"object"!=typeof i&&(i={}),r.emit("finish",i,n)}else r.emit("finish")},i.ontimeout=function(){i.close(),r.emit("finish")}};var H=function(t){var r=this,o=function(){var e=new B;e.protocol="w-iframe-info-receiver";var n=function(t){if("string"==typeof t&&"m"===t.substr(0,1)){var n=JSON.parse(t.substr(1)),o=n[0],i=n[1];r.emit("finish",o,i)}else r.emit("finish");e.doCleanup(),e=null},o={_options:{},_didClose:n,_didMessage:n};e.i_constructor(o,t,t)};e.body?o():n.attachEvent("load",o)};H.prototype=new i(["finish"]);var X=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};X.prototype=new i(["finish"]);var J=function(e){if(n.isSameOriginUrl(e))return new L(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new L(e,n.XHRLocalObject);case 2:return n.isSameOriginScheme(e)?new L(e,n.XDRObject):new X;case 3:return new H(e);default:return new X}},V=F["w-iframe-info-receiver"]=function(e,t,r){var o=new L(r,n.XHRLocalObject);o.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};V.prototype.doCleanup=function(){};var q=C["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};q.prototype=new B,q.enabled=function(){return"EventSource"in t&&B.enabled()},q.need_body=!0,q.roundTrips=3;var G=F["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Z,n.XHRLocalObject)};G.prototype=new I;var Q=C["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};Q.prototype=new B,Q.enabled=function(){return t.XMLHttpRequest&&B.enabled()},Q.need_body=!0,Q.roundTrips=3;var z=F["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",re,n.XHRLocalObject)};z.prototype=new I;var $=C["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};$.prototype=new B,$.enabled=function(){return B.enabled()},$.need_body=!0,$.roundTrips=3;var Y=F["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",ne,n.XHRLocalObject)};Y.prototype=new I;var K=function(e,t,n,r){var o=this;o.ri=e,o.Receiver=t,o.recv_url=n,o.AjaxObject=r,o._scheduleRecv()};K.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||("permanent"===n.reason?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},K.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Z=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new o("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,i){var s=i?"user":2!==r.readyState?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new o("close",{reason:s}))})}};Z.prototype=new r,Z.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var ee,te=function(){if(void 0===ee)if("ActiveXObject"in t)try{ee=!!new ActiveXObject("htmlfile")}catch(e){}else ee=!1;return ee},ne=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(-1===e.indexOf("?")?"?":"&")+"c="+escape(a+"."+r.id);var i=te()?n.createHtmlfile:n.createIframe,s;t[a][r.id]={start:function(){s.loaded()},message:function(e){r.dispatchEvent(new o("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){s.cleanup(),r.iframe_close=s=null,delete t[a][r.id],r.dispatchEvent(new o("close",{reason:n}))},s=i(e,function(e){r.iframe_close({},"permanent")})};ne.prototype=new r,ne.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var re=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(200===e)for(;;){var i=t.slice(r),s=i.indexOf("\n");if(-1===s)break;r+=s+1;var a=i.slice(0,s);n.dispatchEvent(new o("message",{data:a}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=200===e?"network":"permanent";n.dispatchEvent(new o("close",{reason:r}))}};return re.prototype=new r,re.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new o("close",{reason:"user"})),e.xo=null)},C.getUtils=function(){return n},C.getIframeTransport=function(){return B},C}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),"function"==typeof define&&define.amd&&define("sockjs",[],function(){return g})}.call(this),function(){v.ClientStream=function(e,t){var n=this;n.options=a.extend({retry:!0},t),n._initCommon(n.options),n.HEARTBEAT_TIMEOUT=1e5,n.rawUrl=e,n.socket=null,n.heartbeatTimer=null,"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("online",a.bind(n._online,n),!1),n._launchConnection()},a.extend(v.ClientStream.prototype,{send:function(e){var t=this;t.currentStatus.connected&&t.socket.send(e)},_changeUrl:function(e){var t=this;t.rawUrl=e},_connected:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.currentStatus.connected||(e.currentStatus.status="connected",e.currentStatus.connected=!0,e.currentStatus.retryCount=0,e.statusChanged(),a.each(e.eventCallbacks.reset,function(e){e()}))},_cleanup:function(e){var t=this;t._clearConnectionAndHeartbeatTimers(),t.socket&&(t.socket.onmessage=t.socket.onclose=t.socket.onerror=t.socket.onheartbeat=function(){},t.socket.close(),t.socket=null),a.each(t.eventCallbacks.disconnect,function(t){t(e)})},_clearConnectionAndHeartbeatTimers:function(){var e=this;e.connectionTimer&&(clearTimeout(e.connectionTimer),e.connectionTimer=null),e.heartbeatTimer&&(clearTimeout(e.heartbeatTimer),e.heartbeatTimer=null)},_heartbeat_timeout:function(){var t=this;e._debug("Connection timeout. No sockjs heartbeat received."),t._lostConnection(new h.ConnectionError("Heartbeat timed out"))},_heartbeat_received:function(){var e=this;e._forcedToDisconnect||(e.heartbeatTimer&&clearTimeout(e.heartbeatTimer),e.heartbeatTimer=setTimeout(a.bind(e._heartbeat_timeout,e),e.HEARTBEAT_TIMEOUT));

},_sockjsProtocolsWhitelist:function(){var e=["xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"],t=navigator&&/iPhone|iPad|iPod/.test(navigator.userAgent)&&/OS 4_|OS 5_/.test(navigator.userAgent);return t||(e=["websocket"].concat(e)),e},_launchConnection:function(){var t=this;t._cleanup();var n=a.extend({protocols_whitelist:t._sockjsProtocolsWhitelist()},t.options._sockjsOptions);t.socket=new g(b(t.rawUrl),void 0,n),t.socket.onopen=function(e){t._connected()},t.socket.onmessage=function(e){t._heartbeat_received(),t.currentStatus.connected&&a.each(t.eventCallbacks.message,function(t){t(e.data)})},t.socket.onclose=function(){t._lostConnection()},t.socket.onerror=function(){e._debug("stream error",a.toArray(arguments),(new Date).toDateString())},t.socket.onheartbeat=function(){t._heartbeat_received()},t.connectionTimer&&clearTimeout(t.connectionTimer),t.connectionTimer=setTimeout(function(){t._lostConnection(new h.ConnectionError("DDP connection timed out"))},t.CONNECT_TIMEOUT)}})}.call(this),function(){var t=function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t},n=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t},r=function(r,o,s){o||(o="http");var a=r.match(/^ddp(i?)\+sockjs:\/\//),u=r.match(/^http(s?):\/\//),c;if(a){var d=r.substr(a[0].length);c="i"===a[1]?o:o+"s";var l=d.indexOf("/"),f=-1===l?d:d.substr(0,l),_=-1===l?"":d.substr(l);return f=f.replace(/\*/g,function(){return Math.floor(10*i.fraction())}),c+"://"+f+_}if(u){c=u[1]?o+"s":o;var p=r.substr(u[0].length);r=c+"://"+p}return-1!==r.indexOf("://")||t(r,"/")||(r=o+"://"+r),r=e._relativeToSiteRootUrl(r),n(r,"/")?r+s:r+"/"+s};b=function(e){return r(e,"http","sockjs")},y=function(e){var t=r(e,"ws","websocket");return t},v.toSockjsUrl=b,a.extend(v.ClientStream.prototype,{on:function(e,t){var n=this;if("message"!==e&&"reset"!==e&&"disconnect"!==e)throw new Error("unknown event type: "+e);n.eventCallbacks[e]||(n.eventCallbacks[e]=[]),n.eventCallbacks[e].push(t)},_initCommon:function(e){var t=this;e=e||{},t.CONNECT_TIMEOUT=e.connectTimeoutMs||1e4,t.eventCallbacks={},t._forcedToDisconnect=!1,t.currentStatus={status:"connecting",connected:!1,retryCount:0},t.statusListeners="undefined"!=typeof u&&new u.Dependency,t.statusChanged=function(){t.statusListeners&&t.statusListeners.changed()},t._retry=new d,t.connectionTimer=null},reconnect:function(e){var t=this;return e=e||{},e.url&&t._changeUrl(e.url),e._sockjsOptions&&(t.options._sockjsOptions=e._sockjsOptions),t.currentStatus.connected?void((e._force||e.url)&&t._lostConnection(new h.ForcedReconnectError)):("connecting"===t.currentStatus.status&&t._lostConnection(),t._retry.clear(),t.currentStatus.retryCount-=1,void t._retryNow())},disconnect:function(e){var t=this;e=e||{},t._forcedToDisconnect||(e._permanent&&(t._forcedToDisconnect=!0),t._cleanup(),t._retry.clear(),t.currentStatus={status:e._permanent?"failed":"offline",connected:!1,retryCount:0},e._permanent&&e._error&&(t.currentStatus.reason=e._error),t.statusChanged())},_lostConnection:function(e){var t=this;t._cleanup(e),t._retryLater(e)},_online:function(){"offline"!=this.currentStatus.status&&this.reconnect()},_retryLater:function(e){var t=this,n=0;t.options.retry||e&&"DDP.ForcedReconnectError"===e.errorType?(n=t._retry.retryLater(t.currentStatus.retryCount,a.bind(t._retryNow,t)),t.currentStatus.status="waiting",t.currentStatus.retryTime=(new Date).getTime()+n):(t.currentStatus.status="failed",delete t.currentStatus.retryTime),t.currentStatus.connected=!1,t.statusChanged()},_retryNow:function(){var e=this;e._forcedToDisconnect||(e.currentStatus.retryCount+=1,e.currentStatus.status="connecting",e.currentStatus.connected=!1,delete e.currentStatus.retryTime,e.statusChanged(),e._launchConnection())},status:function(){var e=this;return e.statusListeners&&e.statusListeners.depend(),e.currentStatus}}),h.ConnectionError=e.makeErrorType("DDP.ConnectionError",function(e){var t=this;t.message=e}),h.ForcedReconnectError=e.makeErrorType("DDP.ForcedReconnectError",function(){})}.call(this),function(){v.SUPPORTED_DDP_VERSIONS=f.SUPPORTED_DDP_VERSIONS,h._CurrentInvocation=new e.EnvironmentVariable}.call(this),function(){h.randomStream=function(e){var t=h._CurrentInvocation.get();return f.RandomStream.get(t,e)}}.call(this),function(){if(e.isServer)var t=Npm.require("path"),n=Npm.require("fibers"),r=Npm.require(t.join("fibers","future"));var o=function(t,n){var r=this;n=a.extend({onConnected:function(){},onDDPVersionNegotiationFailure:function(t){e._debug(t)},heartbeatInterval:17500,heartbeatTimeout:15e3,npmFayeOptions:{},reloadWithOutstanding:!1,supportedDDPVersions:f.SUPPORTED_DDP_VERSIONS,retry:!0,respondToPings:!0,bufferedWritesInterval:5,bufferedWritesMaxAge:500},n),r.onReconnect=null,"object"==typeof t?r._stream=t:r._stream=new v.ClientStream(t,{retry:n.retry,headers:n.headers,_sockjsOptions:n._sockjsOptions,_dontPrintErrors:n._dontPrintErrors,connectTimeoutMs:n.connectTimeoutMs,npmFayeOptions:n.npmFayeOptions}),r._lastSessionId=null,r._versionSuggestion=null,r._version=null,r._stores={},r._methodHandlers={},r._nextMethodId=1,r._supportedDDPVersions=n.supportedDDPVersions,r._heartbeatInterval=n.heartbeatInterval,r._heartbeatTimeout=n.heartbeatTimeout,r._methodInvokers={},r._outstandingMethodBlocks=[],r._documentsWrittenByStub={},r._serverDocuments={},r._afterUpdateCallbacks=[],r._messagesBufferedUntilQuiescence=[],r._methodsBlockingQuiescence={},r._subsBeingRevived={},r._resetStores=!1,r._updatesForUnknownStores={},r._retryMigrate=null,r.__flushBufferedWrites=e.bindEnvironment(r._flushBufferedWrites,"flushing DDP buffered writes",r),r._bufferedWrites={},r._bufferedWritesFlushAt=null,r._bufferedWritesFlushHandle=null,r._bufferedWritesInterval=n.bufferedWritesInterval,r._bufferedWritesMaxAge=n.bufferedWritesMaxAge,r._subscriptions={},r._userId=null,r._userIdDeps=new u.Dependency,e.isClient&&Package.reload&&!n.reloadWithOutstanding&&Package.reload.Reload._onMigrate(function(e){if(r._readyToMigrate())return[!0];if(r._retryMigrate)throw new Error("Two migrations in progress?");return r._retryMigrate=e,!1});var o=function(t){try{var o=f.parseDDP(t)}catch(i){return void e._debug("Exception while parsing DDP",i)}if(r._heartbeat&&r._heartbeat.messageReceived(),null===o||!o.msg)return void(o&&o.server_id||e._debug("discarding invalid livedata message",o));if("connected"===o.msg)r._version=r._versionSuggestion,r._livedata_connected(o),n.onConnected();else if("failed"===o.msg)if(a.contains(r._supportedDDPVersions,o.version))r._versionSuggestion=o.version,r._stream.reconnect({_force:!0});else{var s="DDP version negotiation failed; server requested version "+o.version;r._stream.disconnect({_permanent:!0,_error:s}),n.onDDPVersionNegotiationFailure(s)}else"ping"===o.msg&&n.respondToPings?r._send({msg:"pong",id:o.id}):"pong"===o.msg||(a.include(["added","changed","removed","ready","updated"],o.msg)?r._livedata_data(o):"nosub"===o.msg?r._livedata_nosub(o):"result"===o.msg?r._livedata_result(o):"error"===o.msg?r._livedata_error(o):e._debug("discarding unknown livedata message type",o))},i=function(){var t={msg:"connect"};r._lastSessionId&&(t.session=r._lastSessionId),t.version=r._versionSuggestion||r._supportedDDPVersions[0],r._versionSuggestion=t.version,t.support=r._supportedDDPVersions,r._send(t),r._outstandingMethodBlocks.length>0&&a.each(r._outstandingMethodBlocks[0].methods,function(t){if(t.sentMessage&&t.noRetry){for(var n=r._outstandingMethodBlocks[0].methods,o,i=0;i<n.length&&(o=n[i],o.methodId!==t.methodId);i++);n.splice(i,1),t.receiveResult(new e.Error("invocation-failed","Method invocation might have failed due to dropped connection. Failing because `noRetry` option was passed to Meteor.apply."))}}),!a.isEmpty(r._outstandingMethodBlocks)&&a.isEmpty(r._outstandingMethodBlocks[0].methods)&&r._outstandingMethodBlocks.shift(),a.each(r._methodInvokers,function(e){e.sentMessage=!1}),r.onReconnect?r._callOnReconnectAndSendAppropriateOutstandingMethods():r._sendOutstandingMethods(),a.each(r._subscriptions,function(e,t){r._send({msg:"sub",id:t,name:e.name,params:e.params})})},s=function(){r._heartbeat&&(r._heartbeat.stop(),r._heartbeat=null)};e.isServer?(r._stream.on("message",e.bindEnvironment(o,"handling DDP message")),r._stream.on("reset",e.bindEnvironment(i,"handling DDP reset")),r._stream.on("disconnect",e.bindEnvironment(s,"handling DDP disconnect"))):(r._stream.on("message",o),r._stream.on("reset",i),r._stream.on("disconnect",s))},c=function(e){var t=this;t.methodId=e.methodId,t.sentMessage=!1,t._callback=e.callback,t._connection=e.connection,t._message=e.message,t._onResultReceived=e.onResultReceived||function(){},t._wait=e.wait,t.noRetry=e.noRetry,t._methodResult=null,t._dataVisible=!1,t._connection._methodInvokers[t.methodId]=t};a.extend(c.prototype,{sendMessage:function(){var e=this;if(e.gotResult())throw new Error("sendingMethod is called on method with result");e._dataVisible=!1,e.sentMessage=!0,e._wait&&(e._connection._methodsBlockingQuiescence[e.methodId]=!0),e._connection._send(e._message)},_maybeInvokeCallback:function(){var e=this;e._methodResult&&e._dataVisible&&(e._callback(e._methodResult[0],e._methodResult[1]),delete e._connection._methodInvokers[e.methodId],e._connection._outstandingMethodFinished())},receiveResult:function(e,t){var n=this;if(n.gotResult())throw new Error("Methods should only receive results once");n._methodResult=[e,t],n._onResultReceived(e,t),n._maybeInvokeCallback()},dataVisible:function(){var e=this;e._dataVisible=!0,e._maybeInvokeCallback()},gotResult:function(){var e=this;return!!e._methodResult}}),a.extend(o.prototype,{registerStore:function(e,t){var n=this;if(e in n._stores)return!1;var r={};a.each(["update","beginUpdate","endUpdate","saveOriginals","retrieveOriginals","getDoc","_getCollection"],function(e){r[e]=function(){return t[e]?t[e].apply(t,arguments):void 0}}),n._stores[e]=r;var o=n._updatesForUnknownStores[e];return o&&(r.beginUpdate(o.length,!1),a.each(o,function(e){r.update(e)}),r.endUpdate(),delete n._updatesForUnknownStores[e]),!0},subscribe:function(e){var t=this,n=Array.prototype.slice.call(arguments,1),r={};if(n.length){var o=n[n.length-1];a.isFunction(o)?r.onReady=n.pop():o&&a.any([o.onReady,o.onError,o.onStop],a.isFunction)&&(r=n.pop())}var c=a.find(t._subscriptions,function(t){return t.inactive&&t.name===e&&s.equals(t.params,n)}),d;c?(d=c.id,c.inactive=!1,r.onReady&&(c.ready||(c.readyCallback=r.onReady)),r.onError&&(c.errorCallback=r.onError),r.onStop&&(c.stopCallback=r.onStop)):(d=i.id(),t._subscriptions[d]={id:d,name:e,params:s.clone(n),inactive:!1,ready:!1,readyDeps:new u.Dependency,readyCallback:r.onReady,errorCallback:r.onError,stopCallback:r.onStop,connection:t,remove:function(){delete this.connection._subscriptions[this.id],this.ready&&this.readyDeps.changed()},stop:function(){this.connection._send({msg:"unsub",id:d}),this.remove(),r.onStop&&r.onStop()}},t._send({msg:"sub",id:d,name:e,params:n}));var l={stop:function(){a.has(t._subscriptions,d)&&t._subscriptions[d].stop()},ready:function(){if(!a.has(t._subscriptions,d))return!1;var e=t._subscriptions[d];return e.readyDeps.depend(),e.ready},subscriptionId:d};return u.active&&u.onInvalidate(function(e){a.has(t._subscriptions,d)&&(t._subscriptions[d].inactive=!0),u.afterFlush(function(){a.has(t._subscriptions,d)&&t._subscriptions[d].inactive&&l.stop()})}),l},_subscribeAndWait:function(e,t,n){var o=this,i=new r,s=!1,a;return t=t||[],t.push({onReady:function(){s=!0,i["return"]()},onError:function(e){s?n&&n.onLateError&&n.onLateError(e):i["throw"](e)}}),a=o.subscribe.apply(o,[e].concat(t)),i.wait(),a},methods:function(e){var t=this;a.each(e,function(e,n){if("function"!=typeof e)throw new Error("Method '"+n+"' must be a function");if(t._methodHandlers[n])throw new Error("A method named '"+n+"' is already defined");t._methodHandlers[n]=e})},call:function(e){var t=Array.prototype.slice.call(arguments,1);if(t.length&&"function"==typeof t[t.length-1])var n=t.pop();return this.apply(e,t,n)},apply:function(t,n,o,i){var u=this;i||"function"!=typeof o||(i=o,o={}),o=o||{},i&&(i=e.bindEnvironment(i,"delivering result of invoking '"+t+"'")),n=s.clone(n);var d=function(){var e;return function(){return void 0===e&&(e=""+u._nextMethodId++),e}}(),l=h._CurrentInvocation.get(),_=l&&l.isSimulation,p=null,v=function(){return null===p&&(p=f.makeRpcSeed(l,t)),p},m=u._methodHandlers[t];if(m){var g=function(e){u.setUserId(e)},b=new f.MethodInvocation({isSimulation:!0,userId:u.userId(),setUserId:g,randomSeed:function(){return v()}});_||u._saveOriginals();try{var y=h._CurrentInvocation.withValue(b,function(){return e.isServer?e._noYieldsAllowed(function(){return m.apply(b,s.clone(n))}):m.apply(b,s.clone(n))})}catch(w){var S=w}_||u._retrieveAndStoreOriginals(d())}if(_){if(i)return void i(S,y);if(S)throw S;return y}if(S){if(o.throwStubExceptions)throw S;S.expected||e._debug("Exception while simulating the effect of invoking '"+t+"'",S,S.stack)}if(!i)if(e.isClient)i=function(n){n&&e._debug("Error invoking Method '"+t+"':",n.message)};else{var k=new r;i=k.resolver()}var C={msg:"method",method:t,params:n,id:d()};null!==p&&(C.randomSeed=p);var E=new c({methodId:d(),callback:i,connection:u,onResultReceived:o.onResultReceived,wait:!!o.wait,message:C,noRetry:!!o.noRetry});return o.wait?u._outstandingMethodBlocks.push({wait:!0,methods:[E]}):((a.isEmpty(u._outstandingMethodBlocks)||a.last(u._outstandingMethodBlocks).wait)&&u._outstandingMethodBlocks.push({wait:!1,methods:[]}),a.last(u._outstandingMethodBlocks).methods.push(E)),1===u._outstandingMethodBlocks.length&&E.sendMessage(),k?k.wait():o.returnStubValue?y:void 0},_saveOriginals:function(){var e=this;a.each(e._stores,function(e){e.saveOriginals()})},_retrieveAndStoreOriginals:function(e){var t=this;if(t._documentsWrittenByStub[e])throw new Error("Duplicate methodId in _retrieveAndStoreOriginals");var n=[];a.each(t._stores,function(r,o){var i=r.retrieveOriginals();i&&i.forEach(function(r,i){n.push({collection:o,id:i}),a.has(t._serverDocuments,o)||(t._serverDocuments[o]=new m);var s=t._serverDocuments[o].setDefault(i,{});s.writtenByStubs?s.writtenByStubs[e]=!0:(s.document=r,s.flushCallbacks=[],s.writtenByStubs={},s.writtenByStubs[e]=!0)})}),a.isEmpty(n)||(t._documentsWrittenByStub[e]=n)},_unsubscribeAll:function(){var e=this;a.each(a.clone(e._subscriptions),function(t,n){"meteor_autoupdate_clientVersions"!==t.name&&e._subscriptions[n].stop()})},_send:function(e){var t=this;t._stream.send(f.stringifyDDP(e))},_lostConnection:function(e){var t=this;t._stream._lostConnection(e)},status:function(){var e=this;return e._stream.status.apply(e._stream,arguments)},reconnect:function(){var e=this;return e._stream.reconnect.apply(e._stream,arguments)},disconnect:function(){var e=this;return e._stream.disconnect.apply(e._stream,arguments)},close:function(){var e=this;return e._stream.disconnect({_permanent:!0})},userId:function(){var e=this;return e._userIdDeps&&e._userIdDeps.depend(),e._userId},setUserId:function(e){var t=this;t._userId!==e&&(t._userId=e,t._userIdDeps&&t._userIdDeps.changed())},_waitingForQuiescence:function(){var e=this;return!a.isEmpty(e._subsBeingRevived)||!a.isEmpty(e._methodsBlockingQuiescence)},_anyMethodsAreOutstanding:function(){var e=this;return a.any(a.pluck(e._methodInvokers,"sentMessage"))},_livedata_connected:function(e){var t=this;if("pre1"!==t._version&&0!==t._heartbeatInterval&&(t._heartbeat=new f.Heartbeat({heartbeatInterval:t._heartbeatInterval,heartbeatTimeout:t._heartbeatTimeout,onTimeout:function(){t._lostConnection(new h.ConnectionError("DDP heartbeat timed out"))},sendPing:function(){t._send({msg:"ping"})}}),t._heartbeat.start()),t._lastSessionId&&(t._resetStores=!0),"string"==typeof e.session){var n=t._lastSessionId===e.session;t._lastSessionId=e.session}n||(t._updatesForUnknownStores={},t._resetStores&&(t._documentsWrittenByStub={},t._serverDocuments={}),t._afterUpdateCallbacks=[],t._subsBeingRevived={},a.each(t._subscriptions,function(e,n){e.ready&&(t._subsBeingRevived[n]=!0)}),t._methodsBlockingQuiescence={},t._resetStores&&a.each(t._methodInvokers,function(e){e.gotResult()?t._afterUpdateCallbacks.push(a.bind(e.dataVisible,e)):e.sentMessage&&(t._methodsBlockingQuiescence[e.methodId]=!0)}),t._messagesBufferedUntilQuiescence=[],t._waitingForQuiescence()||(t._resetStores&&(a.each(t._stores,function(e){e.beginUpdate(0,!0),e.endUpdate()}),t._resetStores=!1),t._runAfterUpdateCallbacks()))},_processOneDataMessage:function(e,t){var n=this;n["_process_"+e.msg](e,t)},_livedata_data:function(e){var t=this;if(t._waitingForQuiescence()){if(t._messagesBufferedUntilQuiescence.push(e),"nosub"===e.msg&&delete t._subsBeingRevived[e.id],a.each(e.subs||[],function(e){delete t._subsBeingRevived[e]}),a.each(e.methods||[],function(e){delete t._methodsBlockingQuiescence[e]}),t._waitingForQuiescence())return;a.each(t._messagesBufferedUntilQuiescence,function(e){t._processOneDataMessage(e,t._bufferedWrites)}),t._messagesBufferedUntilQuiescence=[]}else t._processOneDataMessage(e,t._bufferedWrites);var n=a.include(["added","changed","removed"],e.msg);if(0===t._bufferedWritesInterval||!n)return void t._flushBufferedWrites();if(null===t._bufferedWritesFlushAt)t._bufferedWritesFlushAt=(new Date).valueOf()+t._bufferedWritesMaxAge;else if(t._bufferedWritesFlushAt<(new Date).valueOf())return void t._flushBufferedWrites();t._bufferedWritesFlushHandle&&clearTimeout(t._bufferedWritesFlushHandle),t._bufferedWritesFlushHandle=setTimeout(t.__flushBufferedWrites,t._bufferedWritesInterval)},_flushBufferedWrites:function(){var e=this;e._bufferedWritesFlushHandle&&(clearTimeout(e._bufferedWritesFlushHandle),e._bufferedWritesFlushHandle=null),e._bufferedWritesFlushAt=null;var t=e._bufferedWrites;e._bufferedWrites={},e._performWrites(t)},_performWrites:function(e){var t=this;(t._resetStores||!a.isEmpty(e))&&(a.each(t._stores,function(n,r){n.beginUpdate(a.has(e,r)?e[r].length:0,t._resetStores)}),t._resetStores=!1,a.each(e,function(e,n){var r=t._stores[n];r?a.each(e,function(e){r.update(e)}):(a.has(t._updatesForUnknownStores,n)||(t._updatesForUnknownStores[n]=[]),Array.prototype.push.apply(t._updatesForUnknownStores[n],e))}),a.each(t._stores,function(e){e.endUpdate()})),t._runAfterUpdateCallbacks()},_runAfterUpdateCallbacks:function(){var e=this,t=e._afterUpdateCallbacks;e._afterUpdateCallbacks=[],a.each(t,function(e){e()})},_pushUpdate:function(e,t,n){var r=this;a.has(e,t)||(e[t]=[]),e[t].push(n)},_getServerDoc:function(e,t){var n=this;if(!a.has(n._serverDocuments,e))return null;var r=n._serverDocuments[e];return r.get(t)||null},_process_added:function(e,t){var n=this,r=p.idParse(e.id),o=n._getServerDoc(e.collection,r);if(o){var i=void 0!==o.document;if(o.document=e.fields||{},o.document._id=r,n._resetStores){var s=n._stores[e.collection].getDoc(e.id);void 0!==s&&(e.fields=s),n._pushUpdate(t,e.collection,e)}else if(i)throw new Error("Server sent add for existing id: "+e.id)}else n._pushUpdate(t,e.collection,e)},_process_changed:function(e,t){var n=this,r=n._getServerDoc(e.collection,p.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent changed for nonexisting id: "+e.id);_.applyChanges(r.document,e.fields)}else n._pushUpdate(t,e.collection,e)},_process_removed:function(e,t){var n=this,r=n._getServerDoc(e.collection,p.idParse(e.id));if(r){if(void 0===r.document)throw new Error("Server sent removed for nonexisting id:"+e.id);r.document=void 0}else n._pushUpdate(t,e.collection,{msg:"removed",collection:e.collection,id:e.id})},_process_updated:function(e,t){var n=this;a.each(e.methods,function(e){a.each(n._documentsWrittenByStub[e],function(r){var o=n._getServerDoc(r.collection,r.id);if(!o)throw new Error("Lost serverDoc for "+JSON.stringify(r));if(!o.writtenByStubs[e])throw new Error("Doc "+JSON.stringify(r)+" not written by  method "+e);delete o.writtenByStubs[e],a.isEmpty(o.writtenByStubs)&&(n._pushUpdate(t,r.collection,{msg:"replace",id:p.idStringify(r.id),replace:o.document}),a.each(o.flushCallbacks,function(e){e()}),n._serverDocuments[r.collection].remove(r.id))}),delete n._documentsWrittenByStub[e];var r=n._methodInvokers[e];if(!r)throw new Error("No callback invoker for method "+e);n._runWhenAllServerDocsAreFlushed(a.bind(r.dataVisible,r))})},_process_ready:function(e,t){var n=this;a.each(e.subs,function(e){n._runWhenAllServerDocsAreFlushed(function(){var t=n._subscriptions[e];t&&(t.ready||(t.ready=!0,t.readyCallback&&t.readyCallback(),t.readyDeps.changed()))})})},_runWhenAllServerDocsAreFlushed:function(e){var t=this,n=function(){t._afterUpdateCallbacks.push(e)},r=0,o=function(){--r,0===r&&n()};a.each(t._serverDocuments,function(e){e.forEach(function(e){var n=a.any(e.writtenByStubs,function(e,n){var r=t._methodInvokers[n];return r&&r.sentMessage});n&&(++r,e.flushCallbacks.push(o))})}),0===r&&n()},_livedata_nosub:function(t){var n=this;if(n._livedata_data(t),a.has(n._subscriptions,t.id)){var r=n._subscriptions[t.id].errorCallback,o=n._subscriptions[t.id].stopCallback;n._subscriptions[t.id].remove();var i=function(t){return t&&t.error&&new e.Error(t.error.error,t.error.reason,t.error.details)};r&&t.error&&r(i(t)),o&&o(i(t))}},_process_nosub:function(){},_livedata_result:function(t){var n=this;if(a.isEmpty(n._bufferedWrites)||n._flushBufferedWrites(),a.isEmpty(n._outstandingMethodBlocks))return void e._debug("Received method result but no methods outstanding");for(var r=n._outstandingMethodBlocks[0].methods,o,i=0;i<r.length&&(o=r[i],o.methodId!==t.id);i++);return o?(r.splice(i,1),void(a.has(t,"error")?o.receiveResult(new e.Error(t.error.error,t.error.reason,t.error.details)):o.receiveResult(void 0,t.result))):void e._debug("Can't match method response to original method call",t)},_outstandingMethodFinished:function(){var e=this;if(!e._anyMethodsAreOutstanding()){if(!a.isEmpty(e._outstandingMethodBlocks)){var t=e._outstandingMethodBlocks.shift();if(!a.isEmpty(t.methods))throw new Error("No methods outstanding but nonempty block: "+JSON.stringify(t));a.isEmpty(e._outstandingMethodBlocks)||e._sendOutstandingMethods()}e._maybeMigrate()}},_sendOutstandingMethods:function(){var e=this;a.isEmpty(e._outstandingMethodBlocks)||a.each(e._outstandingMethodBlocks[0].methods,function(e){e.sendMessage()})},_livedata_error:function(t){e._debug("Received error from server: ",t.reason),t.offendingMessage&&e._debug("For: ",t.offendingMessage)},_callOnReconnectAndSendAppropriateOutstandingMethods:function(){var e=this,t=e._outstandingMethodBlocks;if(e._outstandingMethodBlocks=[],e.onReconnect(),!a.isEmpty(t)){if(a.isEmpty(e._outstandingMethodBlocks))return e._outstandingMethodBlocks=t,void e._sendOutstandingMethods();a.last(e._outstandingMethodBlocks).wait||t[0].wait||(a.each(t[0].methods,function(t){a.last(e._outstandingMethodBlocks).methods.push(t),1===e._outstandingMethodBlocks.length&&t.sendMessage()}),t.shift()),a.each(t,function(t){e._outstandingMethodBlocks.push(t)})}},_readyToMigrate:function(){var e=this;return a.isEmpty(e._methodInvokers)},_maybeMigrate:function(){var e=this;e._retryMigrate&&e._readyToMigrate()&&(e._retryMigrate(),e._retryMigrate=null)}}),v.Connection=o,h.connect=function(e,t){var n=new o(e,t);return w.push(n),n},w=[],h._allSubscriptionsReady=function(){return a.all(w,function(e){return a.all(e._subscriptions,function(e){return e.ready})})}}.call(this),function(){if(e.refresh=function(e){},e.isClient){var t="/";"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL&&(t=__meteor_runtime_config__.DDP_DEFAULT_CONNECTION_URL);var n=new d,r=function(t){if(e._debug(t),Package.reload){var r=Package.reload.Reload._migrationData("livedata")||{},o=r.DDPVersionNegotiationFailures||0;++o,Package.reload.Reload._onMigrate("livedata",function(){return[!0,{DDPVersionNegotiationFailures:o}]}),n.retryLater(o,function(){Package.reload.Reload._reload()})}};e.connection=h.connect(t,{onDDPVersionNegotiationFailure:r}),a.each(["subscribe","methods","call","apply","status","reconnect","disconnect"],function(t){e[t]=a.bind(e.connection[t],e.connection)})}else e.connection=null;e.default_connection=e.connection,e.connect=h.connect}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["ddp-client"]={},{DDP:h,LivedataTest:v})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,n=Package["ddp-client"].DDP;"undefined"==typeof Package&&(Package={}),function(e,a){for(var c in a)c in e||(e[c]=a[c])}(Package.ddp={},{DDP:n})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["ddp-server"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.underscore._,o=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,i=Package.check.check,c=Package.check.Match,l=Package.ejson.EJSON,s=Package["ddp-client"].DDP,d=Package.modules.meteorInstall,u=Package.modules.Buffer,f=Package.modules.process,h=Package["ecmascript-runtime"].Symbol,_=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set,v=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,w,y=d({node_modules:{meteor:{"allow-deny":{"allow-deny.js":function(){function n(e,n){return e.transform?e.transform(n):n}function r(e,n,r){var t=n;return e.transform&&(t=l.clone(n),null!==r&&(t._id=r),t=e.transform(t)),t}function a(e,n,r){var a=["insert","update","remove","fetch","transform"];if(t.each(t.keys(r),function(e){if(!t.contains(a,e))throw new Error(n+": Invalid key: "+e)}),e._restricted=!0,t.each(["insert","update","remove"],function(t){if(r.hasOwnProperty(t)){if(!(r[t]instanceof Function))throw new Error(n+": Value for `"+t+"` must be a function");void 0===r.transform?r[t].transform=e._transform:r[t].transform=o.wrapTransform(r.transform),e._validators[t][n].push(r[t])}}),r.update||r.remove||r.fetch){if(r.fetch&&!(r.fetch instanceof Array))throw new Error(n+": Value for `fetch` must be an array");e._updateFetch(r.fetch)}}function d(n,r){if(!o._selectorIsIdPerhapsAsObject(n))throw new e.Error(403,"Not permitted. Untrusted code may only "+r+" documents by ID.")}function u(){var e=s._CurrentInvocation.get();return e&&e.isSimulation}w={CollectionPrototype:{}};var f=w.CollectionPrototype;f.allow=function(e){a(this,"allow",e)},f.deny=function(e){a(this,"deny",e)},f._defineMutationMethods=function(n){var r=this;n=n||{},r._restricted=!1,r._insecure=void 0,r._validators={insert:{allow:[],deny:[]},update:{allow:[],deny:[]},remove:{allow:[],deny:[]},upsert:{allow:[],deny:[]},fetch:[],fetchAllFields:!1},r._name&&(r._prefix="/"+r._name+"/",r._connection&&(r._connection===e.server||e.isClient)&&!function(){var o={};t.each(["insert","update","remove"],function(a){var l=r._prefix+a;if(n.useExisting){var s=e.isClient?"_methodHandlers":"method_handlers";if(r._connection[s]&&"function"==typeof r._connection[s][l])return}o[l]=function(){i(arguments,[c.Any]);var n=t.toArray(arguments);try{var o=null;if("insert"!==a||t.has(n[0],"_id")||(o=r._makeNewID()),this.isSimulation)return null!==o&&(n[0]._id=o),r._collection[a].apply(r._collection,n);if("insert"!==a&&d(n[0],a),r._restricted){if(0===r._validators[a].allow.length)throw new e.Error(403,"Access denied. No allow validators set on restricted collection for method '"+a+"'.");var l="_validated"+a.charAt(0).toUpperCase()+a.slice(1);return n.unshift(this.userId),"insert"===a&&n.push(o),r[l].apply(r,n)}if(r._isInsecure())return null!==o&&(n[0]._id=o),r._collection[a].apply(r._collection,n);throw new e.Error(403,"Access denied")}catch(s){throw"MongoError"===s.name||"MinimongoError"===s.name?new e.Error(409,s.toString()):s}}}),r._connection.methods(o)}())},f._updateFetch=function(e){var n=this;n._validators.fetchAllFields||(e?n._validators.fetch=t.union(n._validators.fetch,e):(n._validators.fetchAllFields=!0,n._validators.fetch=null))},f._isInsecure=function(){var e=this;return void 0===e._insecure?!!Package.insecure:e._insecure},f._validatedInsert=function(n,o,a){var i=this;if(t.any(i._validators.insert.deny,function(e){return e(n,r(e,o,a))}))throw new e.Error(403,"Access denied");if(t.all(i._validators.insert.allow,function(e){return!e(n,r(e,o,a))}))throw new e.Error(403,"Access denied");null!==a&&(o._id=a),i._collection.insert.call(i._collection,o)},f._validatedUpdate=function(r,a,c,l){var s=this;if(i(c,Object),l=t.clone(l)||{},!o._selectorIsIdPerhapsAsObject(a))throw new Error("validated update should be of a single ID");if(l.upsert)throw new e.Error(403,"Access denied. Upserts not allowed in a restricted collection.");var d="Access denied. In a restricted collection you can only update documents, not replace them. Use a Mongo update operator, such as '$set'.",u=[];if(t.isEmpty(c))throw new e.Error(403,d);t.each(c,function(n,r){if("$"!==r.charAt(0))throw new e.Error(403,d);if(!t.has(h,r))throw new e.Error(403,"Access denied. Operator "+r+" not allowed in a restricted collection.");t.each(t.keys(n),function(e){-1!==e.indexOf(".")&&(e=e.substring(0,e.indexOf("."))),t.contains(u,e)||u.push(e)})});var f={transform:null};s._validators.fetchAllFields||(f.fields={},t.each(s._validators.fetch,function(e){f.fields[e]=1}));var _=s._collection.findOne(a,f);if(!_)return 0;if(t.any(s._validators.update.deny,function(e){var t=n(e,_);return e(r,t,u,c)}))throw new e.Error(403,"Access denied");if(t.all(s._validators.update.allow,function(e){var t=n(e,_);return!e(r,t,u,c)}))throw new e.Error(403,"Access denied");return l._forbidReplace=!0,s._collection.update.call(s._collection,a,c,l)};var h={$inc:1,$set:1,$unset:1,$addToSet:1,$pop:1,$pullAll:1,$pull:1,$pushAll:1,$push:1,$bit:1};f._validatedRemove=function(r,o){var a=this,i={transform:null};a._validators.fetchAllFields||(i.fields={},t.each(a._validators.fetch,function(e){i.fields[e]=1}));var c=a._collection.findOne(o,i);if(!c)return 0;if(t.any(a._validators.remove.deny,function(e){return e(r,n(e,c))}))throw new e.Error(403,"Access denied");if(t.all(a._validators.remove.allow,function(e){return!e(r,n(e,c))}))throw new e.Error(403,"Access denied");return a._collection.remove.call(a._collection,o)},f._callMutatorMethod=function _(n,r,t){!e.isClient||t||u()||(t=function i(r){r&&e._debug(n+" failed: "+(r.reason||r.stack))});var o="update"===n||"remove"===n;o&&!u()&&d(r[0],n);var a=this._prefix+n;return this._connection.apply(a,r,{returnStubValue:!0},t)}}}}}},{extensions:[".js",".json"]});y("./node_modules/meteor/allow-deny/allow-deny.js"),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package["allow-deny"]={},{AllowDeny:w})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package.insecure={}}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,n=Package.meteor.meteorEnv,t=Package["allow-deny"].AllowDeny,r=Package.random.Random,i=Package.ejson.EJSON,c=Package.underscore._,l=Package.minimongo.LocalCollection,a=Package.minimongo.Minimongo,s=Package["ddp-client"].DDP,d=Package.tracker.Tracker,u=Package.tracker.Deps,f=Package["diff-sequence"].DiffSequence,_=Package["mongo-id"].MongoID,p=Package.check.check,m=Package.check.Match,g=Package.modules.meteorInstall,v=Package.modules.Buffer,h=Package.modules.process,w=Package["ecmascript-runtime"].Symbol,C=Package["ecmascript-runtime"].Map,y=Package["ecmascript-runtime"].Set,k=Package["babel-runtime"].meteorBabelHelpers,O=Package.promise.Promise,b,I,P=g({node_modules:{meteor:{mongo:{"local_collection_driver.js":function(){b=function o(){var e=this;e.noConnCollections={}};var e=function n(e,o){return e in o||(o[e]=new l(e)),o[e]};c.extend(b.prototype,{open:function t(o,n){var t=this;return o?n?(n._mongo_livedata_collections||(n._mongo_livedata_collections={}),e(o,n._mongo_livedata_collections)):e(o,t.noConnCollections):new l}}),b=new b},"collection.js":function(o,n,i){function a(e){p(e,RegExp);var o={$regex:e.source},n="";return e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&(o.$options=n),o}function d(e,o){return e?(o=o||c.identity,function(n,t){e(n,!n&&o(t))}):void 0}function u(e){return e.length&&(void 0===e[e.length-1]||e[e.length-1]instanceof Function)?e.pop():void 0}I={},I.Collection=function(o,n){var t=this;if(!(t instanceof I.Collection))throw new Error('use "new" to construct a Mongo.Collection');if(o||null===o||(e._debug("Warning: creating anonymous collection. It will not be saved or synchronized over the network. (Pass null for the collection name to turn off this warning.)"),o=null),null!==o&&"string"!=typeof o)throw new Error("First argument to new Mongo.Collection must be a string or null");switch(n&&n.methods&&(n={connection:n}),n&&n.manager&&!n.connection&&(n.connection=n.manager),n=c.extend({connection:void 0,idGeneration:"STRING",transform:null,_driver:void 0,_preventAutopublish:!1},n),n.idGeneration){case"MONGO":t._makeNewID=function(){var e=o?s.randomStream("/collection/"+o):r.insecure;return new I.ObjectID(e.hexString(24))};break;case"STRING":default:t._makeNewID=function(){var e=o?s.randomStream("/collection/"+o):r.insecure;return e.id()}}if(t._transform=l.wrapTransform(n.transform),o&&null!==n.connection?n.connection?t._connection=n.connection:e.isClient?t._connection=e.connection:t._connection=e.server:t._connection=null,n._driver||(o&&t._connection===e.server&&"undefined"!=typeof MongoInternals&&MongoInternals.defaultRemoteCollectionDriver?n._driver=MongoInternals.defaultRemoteCollectionDriver():n._driver=b),t._collection=n._driver.open(o,t._connection),t._name=o,t._driver=n._driver,t._connection&&t._connection.registerStore){var i=t._connection.registerStore(o,{beginUpdate:function u(e,o){(e>1||o)&&t._collection.pauseObservers(),o&&t._collection.remove({})},update:function f(e){var o=_.idParse(e.id),n=t._collection.findOne(o);if("replace"===e.msg){var r=e.replace;return void(r?n?t._collection.update(o,r):t._collection.insert(r):n&&t._collection.remove(o))}if("added"===e.msg){if(n)throw new Error("Expected not to find a document already present for an add");t._collection.insert(c.extend({_id:o},e.fields))}else if("removed"===e.msg){if(!n)throw new Error("Expected to find a document already present for removed");t._collection.remove(o)}else{if("changed"!==e.msg)throw new Error("I don't know how to deal with this message");if(!n)throw new Error("Expected to find a document to change");if(!c.isEmpty(e.fields)){var i={};c.each(e.fields,function(e,o){void 0===e?(i.$unset||(i.$unset={}),i.$unset[o]=1):(i.$set||(i.$set={}),i.$set[o]=e)}),t._collection.update(o,i)}}},endUpdate:function p(){t._collection.resumeObservers()},saveOriginals:function m(){t._collection.saveOriginals()},retrieveOriginals:function g(){return t._collection.retrieveOriginals()},getDoc:function v(e){return t.findOne(e)},_getCollection:function h(){return t}});if(!i){var a='There is already a collection named "'+o+'"';if(n._suppressSameNameError!==!0)throw new Error(a);console.warn?console.warn(a):console.log(a)}}if(n.defineMutationMethods!==!1)try{t._defineMutationMethods({useExisting:n._suppressSameNameError===!0})}catch(d){if(d.message==="A method named '/"+o+"/insert' is already defined")throw new Error('There is already a collection named "'+o+'"');throw d}Package.autopublish&&!n._preventAutopublish&&t._connection&&t._connection.publish&&t._connection.publish(null,function(){return t.find()},{is_auto:!0})},c.extend(I.Collection.prototype,{_getFindSelector:function f(e){return 0==e.length?{}:e[0]},_getFindOptions:function g(e){var o=this;return e.length<2?{transform:o._transform}:(p(e[1],m.Optional(m.ObjectIncluding({fields:m.Optional(m.OneOf(Object,void 0)),sort:m.Optional(m.OneOf(Object,Array,Function,void 0)),limit:m.Optional(m.OneOf(Number,void 0)),skip:m.Optional(m.OneOf(Number,void 0))}))),c.extend({transform:o._transform},e[1]))},find:function v(){var e=this,o=c.toArray(arguments);return e._collection.find(e._getFindSelector(o),e._getFindOptions(o))},findOne:function h(){var e=this,o=c.toArray(arguments);return e._collection.findOne(e._getFindSelector(o),e._getFindOptions(o))}}),I.Collection._publishCursor=function(e,o,n){var t=e.observeChanges({added:function r(e,t){o.added(n,e,t)},changed:function i(e,t){o.changed(n,e,t)},removed:function c(e){o.removed(n,e)}});return o.onStop(function(){t.stop()}),t},I.Collection._rewriteSelector=function(e){if(l._selectorIsId(e)&&(e={_id:e}),c.isArray(e))throw new Error("Mongo selector can't be an array.");if(!e||"_id"in e&&!e._id)return{_id:r.id()};var o={};return c.each(e,function(e,n){e instanceof RegExp?o[n]=a(e):e&&e.$regex instanceof RegExp?(o[n]=a(e.$regex),void 0!==e.$options&&(o[n].$options=e.$options)):c.contains(["$or","$and","$nor"],n)?o[n]=c.map(e,function(e){return I.Collection._rewriteSelector(e)}):o[n]=e}),o},I.Collection.prototype.insert=function w(e,o){if(!e)throw new Error("insert requires an argument");if(e=c.extend({},e),"_id"in e){if(!e._id||!("string"==typeof e._id||e._id instanceof I.ObjectID))throw new Error("Meteor requires document _id fields to be non-empty strings or ObjectIDs")}else{var n=!0;if(this._isRemoteCollection()){var t=s._CurrentInvocation.get();t||(n=!1)}n&&(e._id=this._makeNewID())}var r=function f(o){return e._id?e._id:(e._id=o,o)},i=d(o,r);if(this._isRemoteCollection()){var l=this._callMutatorMethod("insert",[e],i);return r(l)}try{var a=this._collection.insert(e,i);return r(a)}catch(u){if(o)return o(u),null;throw u}},I.Collection.prototype.update=function C(e,o){for(var n=arguments.length,t=Array(n>2?n-2:0),r=2;n>r;r++)t[r-2]=arguments[r];var i=u(t);e=I.Collection._rewriteSelector(e);var l=c.clone(t[0])||{};if(l&&l.upsert)if(l.insertedId){if(!("string"==typeof l.insertedId||l.insertedId instanceof I.ObjectID))throw new Error("insertedId must be string or ObjectID")}else e._id||(l.insertedId=this._makeNewID());var a=d(i);if(this._isRemoteCollection()){var s=[e,o,l];return this._callMutatorMethod("update",s,a)}try{return this._collection.update(e,o,l,a)}catch(f){if(i)return i(f),null;throw f}},I.Collection.prototype.remove=function y(e,o){e=I.Collection._rewriteSelector(e);var n=d(o);if(this._isRemoteCollection())return this._callMutatorMethod("remove",[e],n);try{return this._collection.remove(e,n)}catch(t){if(o)return o(t),null;throw t}},I.Collection.prototype._isRemoteCollection=function k(){return this._connection&&this._connection!==e.server},I.Collection.prototype.upsert=function O(e,o,n,t){t||"function"!=typeof n||(t=n,n={});var r=c.extend({},n,{_returnObject:!0,upsert:!0});return this.update(e,o,r,t)},I.Collection.prototype._ensureIndex=function(e,o){var n=this;if(!n._collection._ensureIndex)throw new Error("Can only call _ensureIndex on server collections");n._collection._ensureIndex(e,o)},I.Collection.prototype._dropIndex=function(e){var o=this;if(!o._collection._dropIndex)throw new Error("Can only call _dropIndex on server collections");o._collection._dropIndex(e)},I.Collection.prototype._dropCollection=function(){var e=this;if(!e._collection.dropCollection)throw new Error("Can only call _dropCollection on server collections");e._collection.dropCollection()},I.Collection.prototype._createCappedCollection=function(e,o){var n=this;if(!n._collection._createCappedCollection)throw new Error("Can only call _createCappedCollection on server collections");n._collection._createCappedCollection(e,o)},I.Collection.prototype.rawCollection=function(){var e=this;if(!e._collection.rawCollection)throw new Error("Can only call rawCollection on server collections");return e._collection.rawCollection()},I.Collection.prototype.rawDatabase=function(){var e=this;if(!e._driver.mongo||!e._driver.mongo.db)throw new Error("Can only call rawDatabase on server collections");return e._driver.mongo.db},I.ObjectID=_.ObjectID,I.Cursor=l.Cursor,I.Collection.Cursor=I.Cursor,I.Collection.ObjectID=I.ObjectID,e.Collection=I.Collection,c.extend(e.Collection.prototype,t.CollectionPrototype)}}}}},{extensions:[".js",".json"]});P("./node_modules/meteor/mongo/local_collection_driver.js"),P("./node_modules/meteor/mongo/collection.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var n in o)n in e||(e[n]=o[n])}(Package.mongo={},{Mongo:I})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["blaze-html-templates"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,a=Package.meteor.meteorEnv,i=Package.underscore._,n=Package.tracker.Tracker,r=Package.tracker.Deps,s=Package.ejson.EJSON,c=Package.modules.meteorInstall,o=Package.modules.Buffer,u=Package.modules.process,d=Package["ecmascript-runtime"].Symbol,l=Package["ecmascript-runtime"].Map,f=Package["ecmascript-runtime"].Set,k=Package["babel-runtime"].meteorBabelHelpers,p=Package.promise.Promise,g,y=c({node_modules:{meteor:{"reactive-dict":{"reactive-dict.js":["babel-runtime/helpers/typeof",function(e,t,a){var r;a["import"]("babel-runtime/helpers/typeof",{"default":function(e){r=e}});var c=function d(e){return void 0===e?"undefined":s.stringify(e)},o=function l(e){return void 0===e||"undefined"===e?void 0:s.parse(e)},u=function f(e){e&&e.changed()};g=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(e)if("string"==typeof e)g._registerDictForMigrate(e,this),this.keys=g._loadMigratedDict(e)||{},this.name=e;else{if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new Error("Invalid ReactiveDict argument: "+e);this.keys=e}else this.keys={};this.allDeps=new n.Dependency,this.keyDeps={},this.keyValueDeps={}}),i.extend(g.prototype,{set:function k(e,t){var a=this;if("object"===("undefined"==typeof e?"undefined":r(e))&&void 0===t)return void a._setObject(e);var n=e;t=c(t);var s=i.has(a.keys,n),o=s?a.keys[n]:"undefined",d=t!==o;a.keys[n]=t,(d||!s)&&a.allDeps.changed(),d&&(u(a.keyDeps[n]),a.keyValueDeps[n]&&(u(a.keyValueDeps[n][o]),u(a.keyValueDeps[n][t])))},setDefault:function p(e,t){var a=this;if("object"===("undefined"==typeof e?"undefined":r(e))&&void 0===t)return void a._setDefaultObject(e);var n=e;i.has(a.keys,n)||a.set(n,t)},get:function y(e){var t=this;return t._ensureKey(e),t.keyDeps[e].depend(),o(t.keys[e])},equals:function D(e,t){var a=this,r=null;if(Package.mongo&&(r=Package.mongo.Mongo.ObjectID),!("string"==typeof t||"number"==typeof t||"boolean"==typeof t||"undefined"==typeof t||t instanceof Date||r&&t instanceof r||null===t))throw new Error("ReactiveDict.equals: value must be scalar");var u=c(t);if(n.active){a._ensureKey(e),i.has(a.keyValueDeps[e],u)||(a.keyValueDeps[e][u]=new n.Dependency);var d=a.keyValueDeps[e][u].depend();d&&n.onInvalidate(function(){a.keyValueDeps[e][u].hasDependents()||delete a.keyValueDeps[e][u]})}var l=void 0;return i.has(a.keys,e)&&(l=o(a.keys[e])),s.equals(l,t)},all:function v(){this.allDeps.depend();var e={};return i.each(this.keys,function(t,a){e[a]=o(t)}),e},clear:function m(){var e=this,t=e.keys;e.keys={},e.allDeps.changed(),i.each(t,function(t,a){u(e.keyDeps[a]),e.keyValueDeps[a]&&(u(e.keyValueDeps[a][t]),u(e.keyValueDeps[a].undefined))})},"delete":function h(e){var t=this,a=!1;if(i.has(t.keys,e)){var n=t.keys[e];delete t.keys[e],u(t.keyDeps[e]),t.keyValueDeps[e]&&(u(t.keyValueDeps[e][n]),u(t.keyValueDeps[e].undefined)),t.allDeps.changed(),a=!0}return a},_setObject:function _(e){var t=this;i.each(e,function(e,a){t.set(a,e)})},_setDefaultObject:function P(e){var t=this;i.each(e,function(e,a){t.setDefault(a,e)})},_ensureKey:function b(e){var t=this;e in t.keyDeps||(t.keyDeps[e]=new n.Dependency,t.keyValueDeps[e]={})},_getMigrationData:function V(){return this.keys}})}],"migration.js":function(){if(g._migratedDictData={},g._dictsToMigrate={},g._loadMigratedDict=function(e){return i.has(g._migratedDictData,e)?g._migratedDictData[e]:null},g._registerDictForMigrate=function(e,t){if(i.has(g._dictsToMigrate,e))throw new Error("Duplicate ReactiveDict name: "+e);g._dictsToMigrate[e]=t},e.isClient&&Package.reload){var t=Package.reload.Reload._migrationData("reactive-dict");t&&t.dicts&&(g._migratedDictData=t.dicts),Package.reload.Reload._onMigrate("reactive-dict",function(){var e=g._dictsToMigrate,t={};for(var a in e)t[a]=e[a]._getMigrationData();return[!0,{dicts:t}]})}}}}}},{extensions:[".js",".json"]});y("./node_modules/meteor/reactive-dict/reactive-dict.js"),y("./node_modules/meteor/reactive-dict/migration.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var a in t)a in e||(e[a]=t[a])}(Package["reactive-dict"]={},{ReactiveDict:g})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,n=Package.underscore._,o=Package["reactive-dict"].ReactiveDict,i=Package.ejson.EJSON,t;(function(){t=new o("session")}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var c in a)c in e||(e[c]=a[c])}(Package.session={},{Session:t})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.modules.meteorInstall,i=Package.modules.Buffer,o=Package.modules.process,a,s,u=r({node_modules:{meteor:{jquery:{"main.js":["jquery","./jquery.js",function(e,t){var n=this;try{var r=e("jquery")}catch(i){r=e("./jquery.js")}t.$=t.jQuery=r,n.$=n.$||r,n.jQuery=n.jQuery||r}],"jquery.js":function(e,t,n){!function(e,t){"object"==typeof n&&"object"==typeof n.exports?n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=ie.type(e);return"function"===n||ie.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(ie.isFunction(t))return ie.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return ie.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(fe.test(t))return ie.filter(t,e,n);t=ie.filter(t,e)}return ie.grep(e,function(e){return ie.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=xe[e]={};return ie.each(e.match(be)||[],function(e,n){t[n]=!0}),t}function a(){he.addEventListener?(he.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(he.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(he.addEventListener||"load"===event.type||"complete"===he.readyState)&&(a(),ie.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Ee,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?ie.parseJSON(n):n}catch(i){}ie.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ie.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,r){if(ie.acceptData(e)){var i,o,a=ie.expando,s=e.nodeType,u=s?ie.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=Q.pop()||ie.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ie.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[l]=ie.extend(u[l],t):u[l].data=ie.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ie.camelCase(t)]=n),"string"==typeof t?(i=o[t],null==i&&(i=o[ie.camelCase(t)])):i=o,i}}function d(e,t,n){if(ie.acceptData(e)){var r,i,o=e.nodeType,a=o?ie.cache:e,s=o?e[ie.expando]:ie.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){ie.isArray(t)?t=t.concat(ie.map(t,ie.camelCase)):t in r?t=[t]:(t=ie.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!l(r):!ie.isEmptyObject(r))return}(n||(delete a[s].data,l(a[s])))&&(o?ie.cleanData([e],!0):ne.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function p(){return!1}function h(){try{return he.activeElement}catch(e){}}function m(e){var t=Fe.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,r,i=0,o=typeof e.getElementsByTagName!==Te?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Te?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||ie.nodeName(r,t)?o.push(r):ie.merge(o,g(r,t));return void 0===t||t&&ie.nodeName(e,t)?ie.merge([e],o):o}function v(e){De.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ie.nodeName(e,"table")&&ie.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ie.find.attr(e,"type"))+"/"+e.type,e}function x(e){var t=Ve.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){for(var n,r=0;null!=(n=e[r]);r++)ie._data(n,"globalEval",!t||ie._data(t[r],"globalEval"))}function T(e,t){if(1===t.nodeType&&ie.hasData(e)){var n,r,i,o=ie._data(e),a=ie._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)ie.event.add(t,n,s[n][r])}a.data&&(a.data=ie.extend({},a.data))}}function C(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ne.noCloneEvent&&t[ie.expando]){i=ie._data(t);for(r in i.events)ie.removeEvent(t,r,i.handle);t.removeAttribute(ie.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,x(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ne.html5Clone&&e.innerHTML&&!ie.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&De.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function N(t,n){var r,i=ie(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:ie.css(i[0],"display");return i.detach(),o}function E(e){var t=he,n=Ze[e];return n||(n=N(e,t),"none"!==n&&n||(Ke=(Ke||ie("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Ke[0].contentWindow||Ke[0].contentDocument).document,t.write(),t.close(),n=N(e,t),Ke.detach()),Ze[e]=n),n}function k(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=ft.length;i--;)if(t=ft[i]+n,t in e)return t;return r}function j(e,t){for(var n,r,i,o=[],a=0,s=e.length;s>a;a++)r=e[a],r.style&&(o[a]=ie._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&je(r)&&(o[a]=ie._data(r,"olddisplay",E(r.nodeName)))):(i=je(r),(n&&"none"!==n||!i)&&ie._data(r,"olddisplay",i?n:ie.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function A(e,t,n){var r=ut.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function D(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ie.css(e,n+Se[o],!0,i)),r?("content"===n&&(a-=ie.css(e,"padding"+Se[o],!0,i)),"margin"!==n&&(a-=ie.css(e,"border"+Se[o]+"Width",!0,i))):(a+=ie.css(e,"padding"+Se[o],!0,i),"padding"!==n&&(a+=ie.css(e,"border"+Se[o]+"Width",!0,i)));return a}function L(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=nt(e),a=ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=rt(e,t,o),(0>i||null==i)&&(i=e.style[t]),tt.test(i))return i;r=a&&(ne.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+D(e,t,n||(a?"border":"content"),r,o)+"px"}function H(e,t,n,r,i){return new H.prototype.init(e,t,n,r,i)}function q(){return setTimeout(function(){pt=void 0}),pt=ie.now()}function _(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Se[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,n){for(var r,i=(bt[t]||[]).concat(bt["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,t,e))return r}function F(e,t,n){var r,i,o,a,s,u,l,c,d=this,f={},p=e.style,h=e.nodeType&&je(e),m=ie._data(e,"fxshow");n.queue||(s=ie._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ie.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=ie.css(e,"display"),c="none"===l?ie._data(e,"olddisplay")||E(e.nodeName):l,"inline"===c&&"none"===ie.css(e,"float")&&(ne.inlineBlockNeedsLayout&&"inline"!==E(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ne.shrinkWrapBlocks()||d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mt.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}f[r]=m&&m[r]||ie.style(e,r)}else l=void 0;if(ie.isEmptyObject(f))"inline"===("none"===l?E(e.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(h=m.hidden):m=ie._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ie(e).show():d.done(function(){ie(e).hide()}),d.done(function(){var t;ie._removeData(e,"fxshow");for(t in f)ie.style(e,t,f[t])});for(r in f)a=M(h?m[r]:0,r,d),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(e,t){var n,r,i,o,a;for(n in e)if(r=ie.camelCase(n),i=t[r],o=e[n],ie.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=ie.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function P(e,t,n){var r,i,o=0,a=yt.length,s=ie.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=pt||q(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ie.extend({},t),opts:ie.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pt||q(),duration:n.duration,tweens:[],createTween:function(t,n){var r=ie.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(O(c,l.opts.specialEasing);a>o;o++)if(r=yt[o].call(l,e,c,l.opts))return r;return ie.map(c,M,l),ie.isFunction(l.opts.start)&&l.opts.start.call(e,l),ie.fx.timer(ie.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(be)||[];if(ie.isFunction(n))for(;r=o[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function R(e,t,n,r){function i(s){var u;return o[s]=!0,ie.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===zt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function W(e,t){var n,r,i=ie.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&ie.extend(!0,e,n),e}function $(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function z(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function I(e,t,n,r){var i;if(ie.isArray(t))ie.each(t,function(t,i){n||Vt.test(e)?r(e,i):I(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==ie.type(t))r(e,t);else for(i in t)I(e+"["+i+"]",t[i],n,r)}function X(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return ie.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Q=[],J=Q.slice,Y=Q.concat,G=Q.push,K=Q.indexOf,Z={},ee=Z.toString,te=Z.hasOwnProperty,ne={},re="1.11.2",ie=function(e,t){return new ie.fn.init(e,t)},oe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,se=/-([\da-z])/gi,ue=function(e,t){return t.toUpperCase()};ie.fn=ie.prototype={jquery:re,constructor:ie,selector:"",length:0,toArray:function(){return J.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:J.call(this)},pushStack:function(e){var t=ie.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ie.each(this,e,t)},map:function(e){return this.pushStack(ie.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:G,sort:Q.sort,splice:Q.splice},ie.extend=ie.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ie.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],n=i[r],a!==n&&(l&&n&&(ie.isPlainObject(n)||(t=ie.isArray(n)))?(t?(t=!1,o=e&&ie.isArray(e)?e:[]):o=e&&ie.isPlainObject(e)?e:{},a[r]=ie.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},ie.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ie.type(e)},isArray:Array.isArray||function(e){return"array"===ie.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!ie.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ie.type(e)||e.nodeType||ie.isWindow(e))return!1;try{if(e.constructor&&!te.call(e,"constructor")&&!te.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ne.ownLast)for(t in e)return te.call(e,t);for(t in e);return void 0===t||te.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[ee.call(e)]||"object":typeof e},globalEval:function(t){t&&ie.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ae,"ms-").replace(se,ue)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,o=0,a=e.length,s=n(e);if(r){if(s)for(;a>o&&(i=t.apply(e[o],r),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],r),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(oe,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?ie.merge(r,"string"==typeof e?[e]:e):G.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;a>o;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,r){var i,o=0,a=e.length,s=n(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,r),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,r),null!=i&&u.push(i);return Y.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),ie.isFunction(e)?(n=J.call(arguments,2),r=function(){return e.apply(t||this,n.concat(J.call(arguments)))},r.guid=e.guid=e.guid||ie.guid++,r):void 0},now:function(){return+new Date},support:ne}),ie.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var le=function(e){function t(e,t,n,r){var i,o,a,s,u,l,d,p,h,m;if((t?t.ownerDocument||t:R)!==H&&L(t),t=t||H,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&_){if(11!==s&&(i=ye.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&P(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&w.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(w.qsa&&(!M||!M.test(e))){if(p=d=B,h=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(d=t.getAttribute("id"))?p=d.replace(xe,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",u=l.length;u--;)l[u]=p+f(l[u]);h=be.test(e)&&c(t.parentNode)||t,m=l.join(",")}if(m)try{return K.apply(n,h.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return S(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[B]=!0,e}function i(e){var t=H.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)T.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function p(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=$++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,l=[W,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[B]||(t[B]={}),(s=u[r])&&s[0]===W&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=e(t,n,a))return!0}}}function h(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;o>i;i++)t(e,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[B]&&(i=v(i)),o&&!o[B]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,d,f=[],p=[],h=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,u),b=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=g(b,p),i(l,[],s,u),c=l.length;c--;)(d=l[c])&&(b[p[c]]=!(y[p[c]]=d));if(r){if(o||e){if(o){for(l=[],c=b.length;c--;)(d=b[c])&&l.push(y[c]=d);o(null,b=[],l,u)}for(c=b.length;c--;)(d=b[c])&&(l=o?ee(r,d):f[c])>-1&&(r[l]=!(a[l]=d))}}else b=g(b===a?b.splice(h,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=p(function(e){return e===t},a,!0),l=p(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==j)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];i>s;s++)if(n=T.relative[e[s].type])c=[p(h(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[B]){for(r=++s;i>r&&!T.relative[e[r].type];r++);return v(s>1&&h(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return h(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,d,f,p=0,h="0",m=r&&[],v=[],y=j,b=r||o&&T.find.TAG("*",l),x=W+=null==y?1:Math.random()||.1,w=b.length;for(l&&(j=a!==H&&a);h!==w&&null!=(c=b[h]);h++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){u.push(c);break}l&&(W=x)}i&&((c=!f&&c)&&p--,r&&m.push(c))}if(p+=h,i&&h!==p){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(p>0)for(;h--;)m[h]||v[h]||(v[h]=Y.call(u));v=g(v)}K.apply(u,v),l&&!r&&v.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(W=x,j=y),m};return i?r(a):a}var x,w,T,C,N,E,k,S,j,A,D,L,H,q,_,M,F,O,P,B="sizzle"+1*new Date,R=e.document,W=0,$=0,z=n(),I=n(),X=n(),U=function(e,t){return e===t&&(D=!0),0},V=1<<31,Q={}.hasOwnProperty,J=[],Y=J.pop,G=J.push,K=J.push,Z=J.slice,ee=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),pe=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Te=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){L()};try{K.apply(J=Z.call(R.childNodes),R.childNodes),J[R.childNodes.length].nodeType}catch(Ne){K={apply:J.length?function(e,t){G.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}w=t.support={},N=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:R;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,q=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),_=!N(r),w.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ve.test(r.getElementsByClassName),w.getById=i(function(e){return q.appendChild(e).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),w.getById?(T.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&_){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},T.find.CLASS=w.getElementsByClassName&&function(e,t){return _?t.getElementsByClassName(e):void 0},F=[],M=[],(w.qsa=ve.test(r.querySelectorAll))&&(i(function(e){q.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+B+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||M.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(w.matchesSelector=ve.test(O=q.matches||q.webkitMatchesSelector||q.mozMatchesSelector||q.oMatchesSelector||q.msMatchesSelector))&&i(function(e){w.disconnectedMatch=O.call(e,"div"),O.call(e,"[s!='']:x"),F.push("!=",ae)}),M=M.length&&new RegExp(M.join("|")),F=F.length&&new RegExp(F.join("|")),t=ve.test(q.compareDocumentPosition),P=t||ve.test(q.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return D=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===R&&P(R,e)?-1:t===r||t.ownerDocument===R&&P(R,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return D=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:A?ee(A,e)-ee(A,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(de,"='$1']"),!(!w.matchesSelector||!_||F&&F.test(n)||M&&M.test(n)))try{var r=O.call(e,n);if(r||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=T.attrHandle[t.toLowerCase()],r=n&&Q.call(T.attrHandle,t.toLowerCase())?n(e,t,!_):void 0;return void 0!==r?r:w.attributes||!_?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(D=!w.detectDuplicates,A=!w.sortStable&&e.slice(0),e.sort(U),D){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},C=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,f,p,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[B]||(g[B]={}),l=c[e]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[W,p,f];break}}else if(y&&(l=(t[B]||(t[B]={}))[e])&&l[0]===W)f=l[1];else for(;(d=++p&&d&&d[m]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[B]||(d[B]={}))[e]=[W,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(i=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=k(e.replace(ue,"$1"));return i[B]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===q},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:l(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,
T.setFilters=new d,E=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=I[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in T.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):I(e,u).slice(0)},k=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[B]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},S=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,d=!r&&E(e=l.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&_&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!T.relative[s=a.type]);)if((u=T.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return K.apply(n,r),n;break}}return(l||k(e,d))(r,t,!_,n,be.test(e)&&c(t.parentNode)||t),n},w.sortStable=B.split("").sort(U).join("")===B,w.detectDuplicates=!!D,L(),w.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);ie.find=le,ie.expr=le.selectors,ie.expr[":"]=ie.expr.pseudos,ie.unique=le.uniqueSort,ie.text=le.getText,ie.isXMLDoc=le.isXML,ie.contains=le.contains;var ce=ie.expr.match.needsContext,de=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^.[^:#\[\.,]*$/;ie.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?ie.find.matchesSelector(r,e)?[r]:[]:ie.find.matches(e,ie.grep(t,function(e){return 1===e.nodeType}))},ie.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(ie(e).filter(function(){for(t=0;i>t;t++)if(ie.contains(r[t],this))return!0}));for(t=0;i>t;t++)ie.find(e,r[t],n);return n=this.pushStack(i>1?ie.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&ce.test(e)?ie(e):e||[],!1).length}});var pe,he=e.document,me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=ie.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:me.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||pe).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ie?t[0]:t,ie.merge(this,ie.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:he,!0)),de.test(n[1])&&ie.isPlainObject(t))for(n in t)ie.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=he.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return pe.find(e);this.length=1,this[0]=r}return this.context=he,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ie.isFunction(e)?"undefined"!=typeof pe.ready?pe.ready(e):e(ie):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ie.makeArray(e,this))};ge.prototype=ie.fn,pe=ie(he);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};ie.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!ie(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ie.fn.extend({has:function(e){var t,n=ie(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(ie.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=ce.test(e)||"string"!=typeof e?ie(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ie.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ie.unique(o):o)},index:function(e){return e?"string"==typeof e?ie.inArray(this[0],ie(e)):ie.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ie.unique(ie.merge(this.get(),ie(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ie.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ie.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ie.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return ie.dir(e,"nextSibling")},prevAll:function(e){return ie.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ie.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ie.dir(e,"previousSibling",n)},siblings:function(e){return ie.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ie.sibling(e.firstChild)},contents:function(e){return ie.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ie.merge([],e.childNodes)}},function(e,t){ie.fn[e]=function(n,r){var i=ie.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ie.filter(r,i)),this.length>1&&(ye[e]||(i=ie.unique(i)),ve.test(e)&&(i=i.reverse())),this.pushStack(i)}});var be=/\S+/g,xe={};ie.Callbacks=function(e){e="string"==typeof e?xe[e]||o(e):ie.extend({},e);var t,n,r,i,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,r=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function o(t){ie.each(t,function(t,n){var r=ie.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),t?i=u.length:n&&(s=r,c(n))}return this},remove:function(){return u&&ie.each(arguments,function(e,n){for(var r;(r=ie.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,a>=r&&a--)}),this},has:function(e){return e?ie.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||r&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},ie.extend({Deferred:function(e){var t=[["resolve","done",ie.Callbacks("once memory"),"resolved"],["reject","fail",ie.Callbacks("once memory"),"rejected"],["notify","progress",ie.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ie.Deferred(function(n){ie.each(t,function(t,o){var a=ie.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ie.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ie.extend(e,r):r}},i={};return r.pipe=r.then,ie.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=J.call(arguments),r=n.length,i=1!==r||e&&ie.isFunction(e.promise)?r:0,o=1===i?e:ie.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?J.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=new Array(r),u=new Array(r),l=new Array(r);r>t;t++)n[t]&&ie.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}});var we;ie.fn.ready=function(e){return ie.ready.promise().done(e),this},ie.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ie.readyWait++:ie.ready(!0)},ready:function(e){if(e===!0?!--ie.readyWait:!ie.isReady){if(!he.body)return setTimeout(ie.ready);ie.isReady=!0,e!==!0&&--ie.readyWait>0||(we.resolveWith(he,[ie]),ie.fn.triggerHandler&&(ie(he).triggerHandler("ready"),ie(he).off("ready")))}}}),ie.ready.promise=function(t){if(!we)if(we=ie.Deferred(),"complete"===he.readyState)setTimeout(ie.ready);else if(he.addEventListener)he.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{he.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&he.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!ie.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}a(),ie.ready()}}()}return we.promise(t)};var Te="undefined",Ce;for(Ce in ie(ne))break;ne.ownLast="0"!==Ce,ne.inlineBlockNeedsLayout=!1,ie(function(){var e,t,n,r;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ne.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=he.createElement("div");if(null==ne.deleteExpando){ne.deleteExpando=!0;try{delete e.test}catch(t){ne.deleteExpando=!1}}e=null}(),ie.acceptData=function(e){var t=ie.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;ie.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ie.cache[e[ie.expando]]:e[ie.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ie.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=ie.data(o),1===o.nodeType&&!ie._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=ie.camelCase(r.slice(5)),u(o,r,i[r])));ie._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){ie.data(this,e)}):arguments.length>1?this.each(function(){ie.data(this,e,t)}):o?u(o,e,ie.data(o,e)):void 0},removeData:function(e){return this.each(function(){ie.removeData(this,e)})}}),ie.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=ie._data(e,t),n&&(!r||ie.isArray(n)?r=ie._data(e,t,ie.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ie.queue(e,t),r=n.length,i=n.shift(),o=ie._queueHooks(e,t),a=function(){ie.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ie._data(e,n)||ie._data(e,n,{empty:ie.Callbacks("once memory").add(function(){ie._removeData(e,t+"queue"),ie._removeData(e,n)})})}}),ie.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ie.queue(this[0],e):void 0===t?this:this.each(function(){var n=ie.queue(this,e,t);ie._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ie.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ie.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=ie.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ie._data(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ke=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Se=["Top","Right","Bottom","Left"],je=function(e,t){return e=t||e,"none"===ie.css(e,"display")||!ie.contains(e.ownerDocument,e)},Ae=ie.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===ie.type(n)){i=!0;for(s in n)ie.access(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,ie.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(ie(e),n)})),t))for(;u>s;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},De=/^(?:checkbox|radio)$/i;!function(){var e=he.createElement("input"),t=he.createElement("div"),n=he.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ne.leadingWhitespace=3===t.firstChild.nodeType,ne.tbody=!t.getElementsByTagName("tbody").length,ne.htmlSerialize=!!t.getElementsByTagName("link").length,ne.html5Clone="<:nav></:nav>"!==he.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),ne.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ne.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){ne.noCloneEvent=!1}),t.cloneNode(!0).click()),null==ne.deleteExpando){ne.deleteExpando=!0;try{delete t.test}catch(r){ne.deleteExpando=!1}}}(),function(){var t,n,r=he.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ne[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),ne[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Le=/^(?:input|select|textarea)$/i,He=/^key/,qe=/^(?:mouse|pointer|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,Me=/^([^.]*)(?:\.(.+)|)$/;ie.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie._data(e);if(g){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=ie.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ie===Te||e&&ie.event.triggered===e.type?void 0:ie.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(be)||[""],s=t.length;s--;)o=Me.exec(t[s])||[],p=m=o[1],h=(o[2]||"").split(".").sort(),p&&(l=ie.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=ie.event.special[p]||{},d=ie.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ie.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||(f=a[p]=[],f.delegateCount=0,l.setup&&l.setup.call(e,r,h,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),ie.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,m,g=ie.hasData(e)&&ie._data(e);if(g&&(c=g.events)){for(t=(t||"").match(be)||[""],l=t.length;l--;)if(s=Me.exec(t[l])||[],p=m=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ie.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,f=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ie.removeEvent(e,p,g.handle),delete c[p])}else for(p in c)ie.event.remove(e,p+t[l],n,r,!0);ie.isEmptyObject(c)&&(delete g.handle,ie._removeData(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,c,d,f=[r||he],p=te.call(t,"type")?t.type:t,h=te.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||he,3!==r.nodeType&&8!==r.nodeType&&!_e.test(p+ie.event.triggered)&&(p.indexOf(".")>=0&&(h=p.split("."),p=h.shift(),h.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[ie.expando]?t:new ie.Event(p,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:ie.makeArray(n,[t]),l=ie.event.special[p]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!ie.isWindow(r)){for(u=l.delegateType||p,_e.test(u+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),c=s;c===(r.ownerDocument||he)&&f.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||p,o=(ie._data(s,"events")||{})[t.type]&&ie._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ie.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(f.pop(),n)===!1)&&ie.acceptData(r)&&a&&r[p]&&!ie.isWindow(r)){c=r[a],c&&(r[a]=null),ie.event.triggered=p;try{r[p]()}catch(m){}ie.event.triggered=void 0,c&&(r[a]=c)}return t.result}},dispatch:function(e){e=ie.event.fix(e);var t,n,r,i,o,a=[],s=J.call(arguments),u=(ie._data(this,"events")||{})[e.type]||[],l=ie.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ie.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(r=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((ie.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)r=t[o],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?ie(n,this).index(u)>=0:ie.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ie.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=qe.test(i)?this.mouseHooks:He.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new ie.Event(o),t=r.length;t--;)n=r[t],e[n]=o[n];return e.target||(e.target=o.srcElement||he),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||he,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ie.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ie.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=ie.extend(new ie.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?ie.event.trigger(i,null,t):ie.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},ie.removeEvent=he.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===Te&&(e[r]=null),e.detachEvent(r,n))},ie.Event=function(e,t){return this instanceof ie.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:p):this.type=e,t&&ie.extend(this,t),this.timeStamp=e&&e.timeStamp||ie.now(),void(this[ie.expando]=!0)):new ie.Event(e,t)},ie.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},ie.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){ie.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!ie.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ne.submitBubbles||(ie.event.special.submit={setup:function(){return ie.nodeName(this,"form")?!1:void ie.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ie.nodeName(t,"input")||ie.nodeName(t,"button")?t.form:void 0;n&&!ie._data(n,"submitBubbles")&&(ie.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ie._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ie.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ie.nodeName(this,"form")?!1:void ie.event.remove(this,"._submit")}}),ne.changeBubbles||(ie.event.special.change={setup:function(){return Le.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ie.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ie.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ie.event.simulate("change",this,e,!0)})),!1):void ie.event.add(this,"beforeactivate._change",function(e){var t=e.target;Le.test(t.nodeName)&&!ie._data(t,"changeBubbles")&&(ie.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ie.event.simulate("change",this.parentNode,e,!0)}),ie._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ie.event.remove(this,"._change"),!Le.test(this.nodeName)}}),ne.focusinBubbles||ie.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ie.event.simulate(t,e.target,ie.event.fix(e),!0)};ie.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=ie._data(r,t);i||r.addEventListener(e,n,!0),ie._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ie._data(r,t)-1;i?ie._data(r,t,i):(r.removeEventListener(e,n,!0),ie._removeData(r,t))}}}),ie.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=p;else if(!r)return this;return 1===i&&(a=r,r=function(e){return ie().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ie.guid++)),this.each(function(){ie.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ie(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){ie.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ie.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ie.event.trigger(e,t,n,!0):void 0}});var Fe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Pe=new RegExp("<(?:"+Fe+")[\\s/>]","i"),Be=/^\s+/,Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,We=/<([\w:]+)/,$e=/<tbody/i,ze=/<|&#?\w+;/,Ie=/<(?:script|style|link)/i,Xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,Qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Je={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ne.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ye=m(he),Ge=Ye.appendChild(he.createElement("div"));Je.optgroup=Je.option,Je.tbody=Je.tfoot=Je.colgroup=Je.caption=Je.thead,Je.th=Je.td,ie.extend({clone:function(e,t,n){var r,i,o,a,s,u=ie.contains(e.ownerDocument,e);if(ne.html5Clone||ie.isXMLDoc(e)||!Pe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(o=Ge.firstChild)),!(ne.noCloneEvent&&ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ie.isXMLDoc(e)))for(r=g(o),s=g(e),a=0;null!=(i=s[a]);++a)r[a]&&C(i,r[a]);if(t)if(n)for(s=s||g(e),r=r||g(o),a=0;null!=(i=s[a]);a++)T(i,r[a]);else T(e,o);return r=g(o,"script"),r.length>0&&w(r,!u&&g(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,l,c,d=e.length,f=m(t),p=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ie.type(o))ie.merge(p,o.nodeType?[o]:o);else if(ze.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(We.exec(o)||["",""])[1].toLowerCase(),c=Je[u]||Je._default,s.innerHTML=c[1]+o.replace(Re,"<$1></$2>")+c[2],i=c[0];i--;)s=s.lastChild;if(!ne.leadingWhitespace&&Be.test(o)&&p.push(t.createTextNode(Be.exec(o)[0])),!ne.tbody)for(o="table"!==u||$e.test(o)?"<table>"!==c[1]||$e.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)ie.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ie.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(t.createTextNode(o));for(s&&f.removeChild(s),ne.appendChecked||ie.grep(g(p,"input"),v),h=0;o=p[h++];)if((!r||-1===ie.inArray(o,r))&&(a=ie.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&w(s),n))for(i=0;o=s[i++];)Ue.test(o.type||"")&&n.push(o);return s=null,f},cleanData:function(e,t){for(var n,r,i,o,a=0,s=ie.expando,u=ie.cache,l=ne.deleteExpando,c=ie.event.special;null!=(n=e[a]);a++)if((t||ie.acceptData(n))&&(i=n[s],o=i&&u[i])){if(o.events)for(r in o.events)c[r]?ie.event.remove(n,r):ie.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l?delete n[s]:typeof n.removeAttribute!==Te?n.removeAttribute(s):n[s]=null,Q.push(i))}}}),ie.fn.extend({text:function(e){return Ae(this,function(e){return void 0===e?ie.text(this):this.empty().append((this[0]&&this[0].ownerDocument||he).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?ie.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||ie.cleanData(g(n)),n.parentNode&&(t&&ie.contains(n.ownerDocument,n)&&w(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ie.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ie.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ie.clone(this,e,t)})},html:function(e){return Ae(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Oe,""):void 0;if(!("string"!=typeof e||Ie.test(e)||!ne.htmlSerialize&&Pe.test(e)||!ne.leadingWhitespace&&Be.test(e)||Je[(We.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Re,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(ie.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ie.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=Y.apply([],e);var n,r,i,o,a,s,u=0,l=this.length,c=this,d=l-1,f=e[0],p=ie.isFunction(f);if(p||l>1&&"string"==typeof f&&!ne.checkClone&&Xe.test(f))return this.each(function(n){var r=c.eq(n);p&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(l&&(s=ie.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ie.map(g(s,"script"),b),i=o.length;l>u;u++)r=s,u!==d&&(r=ie.clone(r,!0,!0),i&&ie.merge(o,g(r,"script"))),t.call(this[u],r,u);if(i)for(a=o[o.length-1].ownerDocument,ie.map(o,x),u=0;i>u;u++)r=o[u],Ue.test(r.type||"")&&!ie._data(r,"globalEval")&&ie.contains(a,r)&&(r.src?ie._evalUrl&&ie._evalUrl(r.src):ie.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Qe,"")));s=n=null}return this}}),ie.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ie.fn[e]=function(e){for(var n,r=0,i=[],o=ie(e),a=o.length-1;a>=r;r++)n=r===a?this:this.clone(!0),ie(o[r])[t](n),G.apply(i,n.get());return this.pushStack(i)}});var Ke,Ze={};!function(){var e;ne.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=he.getElementsByTagName("body")[0],n&&n.style?(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==Te&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(he.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var et=/^margin/,tt=new RegExp("^("+ke+")(?!px)[a-z%]+$","i"),nt,rt,it=/^(top|right|bottom|left)$/;

e.getComputedStyle?(nt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ie.contains(e.ownerDocument,e)||(a=ie.style(e,t)),tt.test(a)&&et.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):he.documentElement.currentStyle&&(nt=function(e){return e.currentStyle},rt=function(e,t,n){var r,i,o,a,s=e.style;return n=n||nt(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),tt.test(a)&&!it.test(t)&&(r=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,r,i;n=he.getElementsByTagName("body")[0],n&&n.style&&(t=he.createElement("div"),r=he.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(he.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,o,a,s,u;n=he.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",ne.opacity="0.5"===r.opacity,ne.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===n.style.backgroundClip,ne.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,ie.extend(ne,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),ie.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};var ot=/alpha\([^)]*\)/i,at=/opacity\s*=\s*([^)]*)/,st=/^(none|table(?!-c[ea]).+)/,ut=new RegExp("^("+ke+")(.*)$","i"),lt=new RegExp("^([+-])=("+ke+")","i"),ct={position:"absolute",visibility:"hidden",display:"block"},dt={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","O","Moz","ms"];ie.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=rt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ne.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=ie.camelCase(t),u=e.style;if(t=ie.cssProps[s]||(ie.cssProps[s]=S(u,s)),a=ie.cssHooks[t]||ie.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if(o=typeof n,"string"===o&&(i=lt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(ie.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ie.cssNumber[s]||(n+="px"),ne.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(l){}}},css:function(e,t,n,r){var i,o,a,s=ie.camelCase(t);return t=ie.cssProps[s]||(ie.cssProps[s]=S(e.style,s)),a=ie.cssHooks[t]||ie.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=rt(e,t,r)),"normal"===o&&t in dt&&(o=dt[t]),""===n||n?(i=parseFloat(o),n===!0||ie.isNumeric(i)?i||0:o):o}}),ie.each(["height","width"],function(e,t){ie.cssHooks[t]={get:function(e,n,r){return n?st.test(ie.css(e,"display"))&&0===e.offsetWidth?ie.swap(e,ct,function(){return L(e,t,r)}):L(e,t,r):void 0},set:function(e,n,r){var i=r&&nt(e);return A(e,n,r?D(e,t,r,ne.boxSizing&&"border-box"===ie.css(e,"boxSizing",!1,i),i):0)}}}),ne.opacity||(ie.cssHooks.opacity={get:function(e,t){return at.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=ie.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ie.trim(o.replace(ot,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=ot.test(o)?o.replace(ot,i):o+" "+i)}}),ie.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?ie.swap(e,{display:"inline-block"},rt,[e,"marginRight"]):void 0}),ie.each({margin:"",padding:"",border:"Width"},function(e,t){ie.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Se[r]+t]=o[r]||o[r-2]||o[0];return i}},et.test(e)||(ie.cssHooks[e+t].set=A)}),ie.fn.extend({css:function(e,t){return Ae(this,function(e,t,n){var r,i,o={},a=0;if(ie.isArray(t)){for(r=nt(e),i=t.length;i>a;a++)o[t[a]]=ie.css(e,t[a],!1,r);return o}return void 0!==n?ie.style(e,t,n):ie.css(e,t)},e,t,arguments.length>1)},show:function(){return j(this,!0)},hide:function(){return j(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){je(this)?ie(this).show():ie(this).hide()})}}),ie.Tween=H,H.prototype={constructor:H,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ie.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=ie.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ie.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ie.fx.step[e.prop]?ie.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ie.cssProps[e.prop]]||ie.cssHooks[e.prop])?ie.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ie.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ie.fx=H.prototype.init,ie.fx.step={};var pt,ht,mt=/^(?:toggle|show|hide)$/,gt=new RegExp("^(?:([+-])=|)("+ke+")([a-z%]*)$","i"),vt=/queueHooks$/,yt=[F],bt={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=gt.exec(t),o=i&&i[3]||(ie.cssNumber[e]?"":"px"),a=(ie.cssNumber[e]||"px"!==o&&+r)&&gt.exec(ie.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,ie.style(n.elem,e,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};ie.Animation=ie.extend(P,{tweener:function(e,t){ie.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],bt[n]=bt[n]||[],bt[n].unshift(t)},prefilter:function(e,t){t?yt.unshift(e):yt.push(e)}}),ie.speed=function(e,t,n){var r=e&&"object"==typeof e?ie.extend({},e):{complete:n||!n&&t||ie.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ie.isFunction(t)&&t};return r.duration=ie.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in ie.fx.speeds?ie.fx.speeds[r.duration]:ie.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){ie.isFunction(r.old)&&r.old.call(this),r.queue&&ie.dequeue(this,r.queue)},r},ie.fn.extend({fadeTo:function(e,t,n,r){return this.filter(je).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=ie.isEmptyObject(e),o=ie.speed(t,n,r),a=function(){var t=P(this,ie.extend({},e),o);(i||ie._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=ie.timers,a=ie._data(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&vt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&ie.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ie._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=ie.timers,a=r?r.length:0;for(n.finish=!0,ie.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),ie.each(["toggle","show","hide"],function(e,t){var n=ie.fn[t];ie.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(_(t,!0),e,r,i)}}),ie.each({slideDown:_("show"),slideUp:_("hide"),slideToggle:_("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ie.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),ie.timers=[],ie.fx.tick=function(){var e,t=ie.timers,n=0;for(pt=ie.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ie.fx.stop(),pt=void 0},ie.fx.timer=function(e){ie.timers.push(e),e()?ie.fx.start():ie.timers.pop()},ie.fx.interval=13,ie.fx.start=function(){ht||(ht=setInterval(ie.fx.tick,ie.fx.interval))},ie.fx.stop=function(){clearInterval(ht),ht=null},ie.fx.speeds={slow:600,fast:200,_default:400},ie.fn.delay=function(e,t){return e=ie.fx?ie.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=he.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=he.createElement("select"),i=n.appendChild(he.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",ne.getSetAttribute="t"!==t.className,ne.style=/top/.test(r.getAttribute("style")),ne.hrefNormalized="/a"===r.getAttribute("href"),ne.checkOn=!!e.value,ne.optSelected=i.selected,ne.enctype=!!he.createElement("form").enctype,n.disabled=!0,ne.optDisabled=!i.disabled,e=he.createElement("input"),e.setAttribute("value",""),ne.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ne.radioValue="t"===e.value}();var xt=/\r/g;ie.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=ie.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,ie(this).val()):e,null==i?i="":"number"==typeof i?i+="":ie.isArray(i)&&(i=ie.map(i,function(e){return null==e?"":e+""})),t=ie.valHooks[this.type]||ie.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=ie.valHooks[i.type]||ie.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),ie.extend({valHooks:{option:{get:function(e){var t=ie.find.attr(e,"value");return null!=t?t:ie.trim(ie.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(ne.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ie.nodeName(n.parentNode,"optgroup"))){if(t=ie(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=ie.makeArray(t),a=i.length;a--;)if(r=i[a],ie.inArray(ie.valHooks.option.get(r),o)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),ie.each(["radio","checkbox"],function(){ie.valHooks[this]={set:function(e,t){return ie.isArray(t)?e.checked=ie.inArray(ie(e).val(),t)>=0:void 0}},ne.checkOn||(ie.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt,Tt,Ct=ie.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Et=ne.getSetAttribute,kt=ne.input;ie.fn.extend({attr:function(e,t){return Ae(this,ie.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ie.removeAttr(this,e)})}}),ie.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Te?ie.prop(e,t,n):(1===o&&ie.isXMLDoc(e)||(t=t.toLowerCase(),r=ie.attrHooks[t]||(ie.expr.match.bool.test(t)?Tt:wt)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=ie.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void ie.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(be);if(o&&1===e.nodeType)for(;n=o[i++];)r=ie.propFix[n]||n,ie.expr.match.bool.test(n)?kt&&Et||!Nt.test(n)?e[r]=!1:e[ie.camelCase("default-"+n)]=e[r]=!1:ie.attr(e,n,""),e.removeAttribute(Et?n:r)},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&ie.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tt={set:function(e,t,n){return t===!1?ie.removeAttr(e,n):kt&&Et||!Nt.test(n)?e.setAttribute(!Et&&ie.propFix[n]||n,n):e[ie.camelCase("default-"+n)]=e[n]=!0,n}},ie.each(ie.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ct[t]||ie.find.attr;Ct[t]=kt&&Et||!Nt.test(t)?function(e,t,r){var i,o;return r||(o=Ct[t],Ct[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ct[t]=o),i}:function(e,t,n){return n?void 0:e[ie.camelCase("default-"+t)]?t.toLowerCase():null}}),kt&&Et||(ie.attrHooks.value={set:function(e,t,n){return ie.nodeName(e,"input")?void(e.defaultValue=t):wt&&wt.set(e,t,n)}}),Et||(wt={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Ct.id=Ct.name=Ct.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},ie.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:wt.set},ie.attrHooks.contenteditable={set:function(e,t,n){wt.set(e,""===t?!1:t,n)}},ie.each(["width","height"],function(e,t){ie.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ne.style||(ie.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var St=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i;ie.fn.extend({prop:function(e,t){return Ae(this,ie.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ie.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ie.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ie.isXMLDoc(e),o&&(t=ie.propFix[t]||t,i=ie.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=ie.find.attr(e,"tabindex");return t?parseInt(t,10):St.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}}}),ne.hrefNormalized||ie.each(["href","src"],function(e,t){ie.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ne.optSelected||(ie.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ie.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ie.propFix[this.toLowerCase()]=this}),ne.enctype||(ie.propFix.enctype="encoding");var At=/[\t\r\n\f]/g;ie.fn.extend({addClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=ie.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ie.isFunction(e))return this.each(function(t){ie(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(be)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(At," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?ie.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ie.isFunction(e)?function(n){ie(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,r=0,i=ie(this),o=e.match(be)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===Te||"boolean"===n)&&(this.className&&ie._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ie._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(At," ").indexOf(t)>=0)return!0;return!1}}),ie.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ie.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ie.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Dt=ie.now(),Lt=/\?/,Ht=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ie.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=ie.trim(t+"");return i&&!ie.trim(i.replace(Ht,function(e,t,i,o){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!o-!i,"")}))?Function("return "+i)():ie.error("Invalid JSON: "+t)},ie.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ie.error("Invalid XML: "+t),n};var qt,_t,Mt=/#.*$/,Ft=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Wt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},It="*/".concat("*");try{_t=location.href}catch(Xt){_t=he.createElement("a"),_t.href="",_t=_t.href}qt=Wt.exec(_t.toLowerCase())||[],ie.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t,type:"GET",isLocal:Pt.test(qt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ie.parseJSON,"text xml":ie.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?W(W(e,ie.ajaxSettings),t):W(ie.ajaxSettings,e)},ajaxPrefilter:B($t),ajaxTransport:B(zt),ajax:function(e,t){function n(e,t,n,r){var i,c,v,y,x,T=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=r||"",w.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(y=$(d,w,n)),y=z(d,y,w,i),i?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(ie.lastModified[o]=x),x=w.getResponseHeader("etag"),x&&(ie.etag[o]=x)),204===e||"HEAD"===d.type?T="nocontent":304===e?T="notmodified":(T=y.state,c=y.data,v=y.error,i=!v)):(v=T,(e||!T)&&(T="error",0>e&&(e=0))),w.status=e,w.statusText=(t||T)+"",i?h.resolveWith(f,[c,T,w]):h.rejectWith(f,[w,T,v]),w.statusCode(g),g=void 0,u&&p.trigger(i?"ajaxSuccess":"ajaxError",[w,d,i?c:v]),m.fireWith(f,[w,T]),u&&(p.trigger("ajaxComplete",[w,d]),--ie.active||ie.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,u,l,c,d=ie.ajaxSetup({},t),f=d.context||d,p=d.context&&(f.nodeType||f.jquery)?ie(f):ie.event,h=ie.Deferred(),m=ie.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Ot.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return l&&l.abort(t),n(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||_t)+"").replace(Mt,"").replace(Rt,qt[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ie.trim(d.dataType||"*").toLowerCase().match(be)||[""],null==d.crossDomain&&(r=Wt.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===qt[1]&&r[2]===qt[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(qt[3]||("http:"===qt[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ie.param(d.data,d.traditional)),R($t,d,t,w),2===b)return w;u=ie.event&&d.global,u&&0===ie.active++&&ie.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Bt.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Lt.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ft.test(o)?o.replace(Ft,"$1_="+Dt++):o+(Lt.test(o)?"&":"?")+"_="+Dt++)),d.ifModified&&(ie.lastModified[o]&&w.setRequestHeader("If-Modified-Since",ie.lastModified[o]),ie.etag[o]&&w.setRequestHeader("If-None-Match",ie.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+It+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)w.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,w,d)===!1||2===b))return w.abort();x="abort";for(i in{success:1,error:1,complete:1})w[i](d[i]);if(l=R(zt,d,t,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(T){if(!(2>b))throw T;n(-1,T)}}else n(-1,"No Transport");return w},getJSON:function(e,t,n){return ie.get(e,t,n,"json")},getScript:function(e,t){return ie.get(e,void 0,t,"script")}}),ie.each(["get","post"],function(e,t){ie[t]=function(e,n,r,i){return ie.isFunction(n)&&(i=i||r,r=n,n=void 0),ie.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),ie._evalUrl=function(e){return ie.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ie.fn.extend({wrapAll:function(e){if(ie.isFunction(e))return this.each(function(t){ie(this).wrapAll(e.call(this,t))});if(this[0]){var t=ie(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ie.isFunction(e)?function(t){ie(this).wrapInner(e.call(this,t))}:function(){var t=ie(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ie.isFunction(e);return this.each(function(n){ie(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ie.nodeName(this,"body")||ie(this).replaceWith(this.childNodes)}).end()}}),ie.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ne.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ie.css(e,"display"))},ie.expr.filters.visible=function(e){return!ie.expr.filters.hidden(e)};var Ut=/%20/g,Vt=/\[\]$/,Qt=/\r?\n/g,Jt=/^(?:submit|button|image|reset|file)$/i,Yt=/^(?:input|select|textarea|keygen)/i;ie.param=function(e,t){var n,r=[],i=function(e,t){t=ie.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ie.ajaxSettings&&ie.ajaxSettings.traditional),ie.isArray(e)||e.jquery&&!ie.isPlainObject(e))ie.each(e,function(){i(this.name,this.value)});else for(n in e)I(n,e[n],t,i);return r.join("&").replace(Ut,"+")},ie.fn.extend({serialize:function(){return ie.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ie.prop(this,"elements");return e?ie.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ie(this).is(":disabled")&&Yt.test(this.nodeName)&&!Jt.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=ie(this).val();return null==n?null:ie.isArray(n)?ie.map(n,function(e){return{name:t.name,value:e.replace(Qt,"\r\n")}}):{name:t.name,value:n.replace(Qt,"\r\n")}}).get()}}),ie.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&X()||U()}:X;var Gt=0,Kt={},Zt=ie.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Kt)Kt[e](void 0,!0)}),ne.cors=!!Zt&&"withCredentials"in Zt,Zt=ne.ajax=!!Zt,Zt&&ie.ajaxTransport(function(e){if(!e.crossDomain||ne.cors){var t;return{send:function(n,r){var i,o=e.xhr(),a=++Gt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&o.setRequestHeader(i,n[i]+"");o.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,l;if(t&&(i||4===o.readyState))if(delete Kt[a],t=void 0,o.onreadystatechange=ie.noop,i)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&r(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Kt[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ie.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ie.globalEval(e),e}}}),ie.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ie.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=he.head||ie("head")[0]||he.documentElement;return{send:function(r,i){t=he.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;ie.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||ie.expando+"_"+Dt++;return this[e]=!0,e}}),ie.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=ie.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||ie.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,en.push(i)),a&&ie.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ie.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||he;var r=de.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ie.buildFragment([e],t,i),i&&i.length&&ie(i).remove(),ie.merge([],r.childNodes))};var nn=ie.fn.load;ie.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=ie.trim(e.slice(s,e.length)),e=e.slice(0,s)),ie.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ie.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(r?ie("<div>").append(ie.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,i||[e.responseText,t,e])}),this},ie.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ie.fn[t]=function(e){return this.on(t,e)}}),ie.expr.filters.animated=function(e){return ie.grep(ie.timers,function(t){return e===t.elem}).length};var rn=e.document.documentElement;ie.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=ie.css(e,"position"),d=ie(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ie.css(e,"top"),u=ie.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ie.inArray("auto",[o,u])>-1,l?(r=d.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),ie.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},ie.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ie.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,ie.contains(t,i)?(typeof i.getBoundingClientRect!==Te&&(r=i.getBoundingClientRect()),n=V(o),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===ie.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ie.nodeName(e[0],"html")||(n=e.offset()),n.top+=ie.css(e[0],"borderTopWidth",!0),n.left+=ie.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ie.css(r,"marginTop",!0),left:t.left-n.left-ie.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||rn;e&&!ie.nodeName(e,"html")&&"static"===ie.css(e,"position");)e=e.offsetParent;return e||rn})}}),ie.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ie.fn[e]=function(r){return Ae(this,function(e,r,i){var o=V(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[r]:e[r]:void(o?o.scrollTo(n?ie(o).scrollLeft():i,n?i:ie(o).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),ie.each(["top","left"],function(e,t){ie.cssHooks[t]=k(ne.pixelPosition,function(e,n){
return n?(n=rt(e,t),tt.test(n)?ie(e).position()[t]+"px":n):void 0})}),ie.each({Height:"height",Width:"width"},function(e,t){ie.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){ie.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return Ae(this,function(t,n,r){var i;return ie.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?ie.css(t,n,a):ie.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),ie.fn.size=function(){return this.length},ie.fn.andSelf=ie.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ie});var on=e.jQuery,an=e.$;return ie.noConflict=function(t){return e.$===ie&&(e.$=an),t&&e.jQuery===ie&&(e.jQuery=on),ie},typeof t===Te&&(e.jQuery=e.$=ie),ie})}}}}},{extensions:[".js",".json"]}),l=u("./node_modules/meteor/jquery/main.js");"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.jquery=l,{$:a,jQuery:s})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["standard-minifiers"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["natestrauser:animate-css"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["fortawesome:fontawesome"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.tracker.Tracker,r=Package.tracker.Deps,i;(function(){i=function(e,t){return this instanceof i?(this.curValue=e,this.equalsFunc=t,void(this.dep=new a.Dependency)):new i(e,t)},i._isEqual=function(e,t){var n=e,a=t;return n!==a?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},i.prototype.get=function(){return a.active&&this.dep.depend(),this.curValue},i.prototype.set=function(e){var t=this.curValue;(this.equalsFunc||i._isEqual)(t,e)||(this.curValue=e,this.dep.changed())},i.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},i.prototype._numListeners=function(){var e=0;for(var t in this.dep._dependentsById)e++;return e}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["reactive-var"]={},{ReactiveVar:i})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,n=Package.underscore._,i=Package.tracker.Tracker,o=Package.tracker.Deps,a=Package["reactive-dict"].ReactiveDict,s=Package["reactive-var"].ReactiveVar,u=Package.ejson.EJSON,c=Package.modules.meteorInstall,p=Package.modules.Buffer,l=Package.modules.process,h,f,d,g,y,m,v,_=c({node_modules:{meteor:{"kadira:flow-router":{client:{"modules.js":["page","qs",function(t){h=t("page"),f=t("qs")}],"triggers.js":function(){d={},d.applyFilters=function(t,e){if(t instanceof Array||(t=[t]),!e)return t;if(e.only&&e.except)throw new Error("Triggers don't support only and except filters at once");if(e.only&&!(e.only instanceof Array))throw new Error("only filters needs to be an array");if(e.except&&!(e.except instanceof Array))throw new Error("except filters needs to be an array");if(e.only)return d.createRouteBoundTriggers(t,e.only);if(e.except)return d.createRouteBoundTriggers(t,e.except,!0);throw new Error("Provided a filter but not supported")},d.createRouteBoundTriggers=function(t,e,r){var i={};n.each(e,function(t){i[t]=!0});var o=n.map(t,function(t){var e=function(e,n){var o=e.route.name,a=i[o]?1:-1;a=r?-1*a:a,1===a&&t(e,n)};return e});return o},d.runTriggers=function(t,e,r,n){function i(t,e,n){if(u)throw new Error("already redirected");if(!s)throw new Error("redirect needs to be done in sync");if(!t)throw new Error("trigger redirect requires an URL");a=!0,u=!0,r(t,e,n)}function o(){a=!0}for(var a=!1,s=!0,u=!1,c=0;c<t.length;c++){var p=t[c];if(p(e,i,o),a)return}s=!1,n()}},"router.js":function(){g=function(){var e=this;this.globals=[],this.subscriptions=Function.prototype,this._tracker=this._buildTracker(),this._current={},this._onEveryPath=new i.Dependency,this._globalRoute=new m(this),this._onRouteCallbacks=[],this._askedToWait=!1,this._initialized=!1,this._triggersEnter=[],this._triggersExit=[],this._routes=[],this._routesMap={},this._updateCallbacks(),this.notFound=this.notfound=null,this.safeToRun=0,this._basePath=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX||"",this._oldRouteChain=[],this.env={replaceState:new t.EnvironmentVariable,reload:new t.EnvironmentVariable,trailingSlash:new t.EnvironmentVariable},this._redirectFn=function(t,r,n){if(/^http(s)?:\/\//.test(t)){var i="Redirects to URLs outside of the app are not supported in this version of Flow Router. Use 'window.location = yourUrl' instead";throw new Error(i)}e.withReplaceState(function(){var i=v.path(t,r,n);e._page.redirect(i)})},this._initTriggersAPI()},g.prototype.route=function(t,e,r){if(!/^\/.*/.test(t)){var n="route's path must start with '/'";throw new Error(n)}e=e||{};var i=this,o=new m(this,t,e,r);return o._actionHandle=function(t,e){var r=i._current.route;i._oldRouteChain.push(r);var n=i._qs.parse(t.querystring);n=JSON.parse(JSON.stringify(n)),i._current={path:t.path,context:t,params:t.params,queryParams:n,route:o,oldRoute:r};var a=function(){i._invalidateTracker()},s=i._triggersEnter.concat(o._triggersEnter);d.runTriggers(s,i._current,i._redirectFn,a)},o._exitHandle=function(t,e){var r=i._triggersExit.concat(o._triggersExit);d.runTriggers(r,i._current,i._redirectFn,e)},this._routes.push(o),e.name&&(this._routesMap[e.name]=o),this._updateCallbacks(),this._triggerRouteRegister(o),o},g.prototype.group=function(t){return new y(this,t)},g.prototype.path=function(t,e,r){this._routesMap[t]&&(t=this._routesMap[t].pathDef);var i="";this._basePath&&(i+="/"+this._basePath+"/"),e=e||{};var o=/(:[\w\(\)\\\+\*\.\?]+)+/g;i+=t.replace(o,function(t){var r=t.indexOf("(");return t=t.substring(1,r>0?r:void 0),t=t.replace(/[\+\*\?]+/g,""),encodeURIComponent(encodeURIComponent(e[t]||""))}),i=i.replace(/\/\/+/g,"/"),i=i.match(/^\/{1}$/)?i:i.replace(/\/$/,""),this.env.trailingSlash.get()&&"/"!==n.last(i)&&(i+="/");var a=this._qs.stringify(r||{});return a&&(i+="?"+a),i},g.prototype.go=function(t,e,r){var n=this.path(t,e,r),i=this.env.replaceState.get();i?this._page.replace(n):this._page(n)},g.prototype.reload=function(){var t=this;t.env.reload.withValue(!0,function(){t._page.replace(t._current.path)})},g.prototype.redirect=function(t){this._page.redirect(t)},g.prototype.setParams=function(t){if(!this._current.route)return!1;var e=this._current.route.pathDef,r=this._current.params,i={};n.each(n.keys(r),function(t){i[t]=r[t]}),i=n.extend(i,t);var o=this._current.queryParams;return this.go(e,i,o),!0},g.prototype.setQueryParams=function(t){if(!this._current.route)return!1;var e=n.clone(this._current.queryParams);n.extend(e,t);for(var r in e)(null===e[r]||void 0===e[r])&&delete e[r];var i=this._current.route.pathDef,o=this._current.params;return this.go(i,o,e),!0},g.prototype.current=function(){var t=n.clone(this._current);return t.queryParams=u.clone(t.queryParams),t.params=u.clone(t.params),t};var e=["getParam","getQueryParam","getRouteName","watchPathChange"];e.forEach(function(t){g.prototype[t]=function(e){var r=this._current.route;return r?r[t].call(r,e):void this._onEveryPath.depend()}}),g.prototype.subsReady=function(){var t=null,e=n.toArray(arguments);"function"==typeof n.last(e)&&(t=e.pop());var r=this.current().route,o=this._globalRoute;if(this._onEveryPath.depend(),!r)return!1;var a;0===e.length?(a=n.values(o.getAllSubscriptions()),a=a.concat(n.values(r.getAllSubscriptions()))):a=n.map(e,function(t){return o.getSubscription(t)||r.getSubscription(t)});var s=function(){var t=n.every(a,function(t){return t&&t.ready()});return t};return t?void i.autorun(function(e){s()&&(t(),e.stop())}):s()},g.prototype.withReplaceState=function(t){return this.env.replaceState.withValue(!0,t)},g.prototype.withTrailingSlash=function(t){return this.env.trailingSlash.withValue(!0,t)},g.prototype._notfoundRoute=function(t){return this._current={path:t.path,context:t,params:[],queryParams:{}},this.notFound=this.notFound||this.notfound,this.notFound?(this._current.route=new m(this,"*",this.notFound),void this._invalidateTracker()):void console.error("There is no route for the path:",t.path)},g.prototype.initialize=function(t){if(t=t||{},this._initialized)throw new Error("FlowRouter is already initialized");var e=this;this._updateCallbacks(),n.each(["show","replace"],function(t){var r=e._page[t];e._page[t]=function(t,n,i,o){var a=e.env.reload.get();(a||e._current.path!==t)&&r.call(this,t,n,i,o)}}),this._page.base(this._basePath),this._page({decodeURLComponents:!0,hashbang:!!t.hashbang}),this._initialized=!0},g.prototype._buildTracker=function(){var t=this,e=i.autorun(function(){if(t._current&&t._current.route){var e=t._current,r=e.route,n=e.path;if(0===t.safeToRun){var o="You can't use reactive data sources like Session inside the `.subscriptions` method!";throw new Error(o)}t._globalRoute.clearSubscriptions(),t.subscriptions.call(t._globalRoute,n),r.callSubscriptions(e),i.nonreactive(function(){var n=e.oldRoute!==e.route,o=!e.oldRoute;o&&(n=!1);var a=t._oldRouteChain[0];t._oldRouteChain=[],e.route.registerRouteChange(e,n),r.callAction(e),i.afterFlush(function(){t._onEveryPath.changed(),n&&a&&a.registerRouteClose()})}),t.safeToRun--}});return e},g.prototype._invalidateTracker=function(){var e=this;if(this.safeToRun++,this._tracker.invalidate(),!i.currentComputation)try{i.flush()}catch(r){if(!/Tracker\.flush while flushing/.test(r.message))return;t.defer(function(){var t=e._nextPath;t&&(delete e._nextPath,e.env.reload.withValue(!0,function(){e.go(t)}))})}},g.prototype._updateCallbacks=function(){var t=this;t._page.callbacks=[],t._page.exits=[],n.each(t._routes,function(e){t._page(e.pathDef,e._actionHandle),t._page.exit(e.pathDef,e._exitHandle)}),t._page("*",function(e){t._notfoundRoute(e)})},g.prototype._initTriggersAPI=function(){var t=this;this.triggers={enter:function(e,r){e=d.applyFilters(e,r),e.length&&(t._triggersEnter=t._triggersEnter.concat(e))},exit:function(e,r){e=d.applyFilters(e,r),e.length&&(t._triggersExit=t._triggersExit.concat(e))}}},g.prototype.wait=function(){if(this._initialized)throw new Error("can't wait after FlowRouter has been initialized");this._askedToWait=!0},g.prototype.onRouteRegister=function(t){this._onRouteCallbacks.push(t)},g.prototype._triggerRouteRegister=function(t){var e=n.pick(t,"name","pathDef","path"),r=["triggersEnter","triggersExit","action","subscriptions","name"];e.options=n.omit(t.options,r),n.each(this._onRouteCallbacks,function(t){t(e)})},g.prototype._page=h,g.prototype._qs=f},"group.js":function(){y=function(t,e,r){if(e=e||{},e.prefix&&!/^\/.*/.test(e.prefix)){var n="group's prefix must start with '/'";throw new Error(n)}this._router=t,this.prefix=e.prefix||"",this.name=e.name,this.options=e,this._triggersEnter=e.triggersEnter||[],this._triggersExit=e.triggersExit||[],this._subscriptions=e.subscriptions||Function.prototype,this.parent=r,this.parent&&(this.prefix=r.prefix+this.prefix,this._triggersEnter=r._triggersEnter.concat(this._triggersEnter),this._triggersExit=this._triggersExit.concat(r._triggersExit))},y.prototype.route=function(t,e,r){if(e=e||{},!/^\/.*/.test(t)){var n="route's path must start with '/'";throw new Error(n)}r=r||this,t=this.prefix+t;var i=e.triggersEnter||[];e.triggersEnter=this._triggersEnter.concat(i);var o=e.triggersExit||[];return e.triggersExit=o.concat(this._triggersExit),this._router.route(t,e,r)},y.prototype.group=function(t){return new y(this._router,t,this)},y.prototype.callSubscriptions=function(t){this.parent&&this.parent.callSubscriptions(t),this._subscriptions.call(t.route,t.params,t.queryParams)}},"route.js":function(){m=function(t,e,r,n){r=r||{},this.options=r,this.pathDef=e,this.path=e,r.name&&(this.name=r.name),this._action=r.action||Function.prototype,this._subscriptions=r.subscriptions||Function.prototype,this._triggersEnter=r.triggersEnter||[],this._triggersExit=r.triggersExit||[],this._subsMap={},this._router=t,this._params=new a,this._queryParams=new a,this._routeCloseDep=new i.Dependency,this._pathChangeDep=new i.Dependency,this.group=n},m.prototype.clearSubscriptions=function(){this._subsMap={}},m.prototype.register=function(t,e,r){this._subsMap[t]=e},m.prototype.getSubscription=function(t){return this._subsMap[t]},m.prototype.getAllSubscriptions=function(){return this._subsMap},m.prototype.callAction=function(t){var e=this;e._action(t.params,t.queryParams)},m.prototype.callSubscriptions=function(t){this.clearSubscriptions(),this.group&&this.group.callSubscriptions(t),this._subscriptions(t.params,t.queryParams)},m.prototype.getRouteName=function(){return this._routeCloseDep.depend(),this.name},m.prototype.getParam=function(t){return this._routeCloseDep.depend(),this._params.get(t)},m.prototype.getQueryParam=function(t){return this._routeCloseDep.depend(),this._queryParams.get(t)},m.prototype.watchPathChange=function(){this._pathChangeDep.depend()},m.prototype.registerRouteClose=function(){this._params=new a,this._queryParams=new a,this._routeCloseDep.changed(),this._pathChangeDep.changed()},m.prototype.registerRouteChange=function(t,e){var r=t.params;this._updateReactiveDict(this._params,r);var n=t.queryParams;this._updateReactiveDict(this._queryParams,n),e||this._pathChangeDep.changed()},m.prototype._updateReactiveDict=function(t,e){var r=n.keys(e),i=n.keys(t.keyDeps);n.each(r,function(r){t.set(r,e[r])});var o=n.difference(i,r);n.each(o,function(e){t.set(e,void 0)})}},"_init.js":function(){v=new g,v.Router=g,v.Route=m,t.startup(function(){v._askedToWait||v.initialize()})}},lib:{"router.js":function(){g.prototype.url=function(){var e=this.path.apply(this,arguments),r=this._basePath||"/",n=e.replace(new RegExp("^"+r),"");return t.absoluteUrl(n)}}},node_modules:{page:{"package.json":function(t,e){e.name="page",e.version="1.6.4"},"index.js":["path-to-regexp",function(t,e,r){"use strict";function n(t,e){if("function"==typeof t)return n("*",t);if("function"==typeof e)for(var r=new s(t),i=1;i<arguments.length;++i)n.callbacks.push(r.middleware(arguments[i]));else"string"==typeof t?n["string"==typeof e?"redirect":"show"](t,e):n.start(t)}function i(t){if(!t.handled){var e;e=_?m+d.hash.replace("#!",""):d.pathname+d.search,e!==t.canonicalPath&&(n.stop(),t.handled=!1,d.href=t.canonicalPath)}}function o(t){return"string"!=typeof t?t:y?decodeURIComponent(t.replace(/\+/g," ")):t}function a(t,e){"/"===t[0]&&0!==t.indexOf(m)&&(t=m+(_?"#!":"")+t);var r=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(m,"")||"/",_&&(this.path=this.path.replace("#!","")||"/"),this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~r?o(t.slice(r+1)):"",this.pathname=o(~r?t.slice(0,r):t),this.params={},this.hash="",!_){if(!~this.path.indexOf("#"))return;var n=this.path.split("#");this.path=n[0],this.hash=o(n[1])||"",this.querystring=this.querystring.split("#")[0]}}function s(t,e){e=e||{},this.path="*"===t?"(.*)":t,this.method="GET",this.regexp=h(this.path,this.keys=[],e)}function u(t){if(1===c(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented)){for(var e=t.target;e&&"A"!==e.nodeName;)e=e.parentNode;if(e&&"A"===e.nodeName&&!e.hasAttribute("download")&&"external"!==e.getAttribute("rel")){var r=e.getAttribute("href");if((_||e.pathname!==d.pathname||!e.hash&&"#"!==r)&&!(r&&r.indexOf("mailto:")>-1)&&!e.target&&p(e.href)){var i=e.pathname+e.search+(e.hash||"");i="/"!==i[0]?"/"+i:i,"undefined"!=typeof l&&i.match(/^\/[a-zA-Z]:\//)&&(i=i.replace(/^\/[a-zA-Z]:\//,"/"));var o=i;0===i.indexOf(m)&&(i=i.substr(m.length)),_&&(i=i.replace("#!","")),m&&o===i||(t.preventDefault(),n.show(o))}}}}function c(t){return t=t||window.event,null===t.which?t.button:t.which}function p(t){var e=d.protocol+"//"+d.hostname;return d.port&&(e+=":"+d.port),t&&0===t.indexOf(e)}var h=t("path-to-regexp");r.exports=n;var f="undefined"!=typeof document&&document.ontouchstart?"touchstart":"click",d="undefined"!=typeof window&&(window.history.location||window.location),g=!0,y=!0,m="",v,_=!1,b;n.callbacks=[],n.exits=[],n.current="",n.len=0,n.base=function(t){return 0===arguments.length?m:void(m=t)},n.start=function(t){if(t=t||{},!v&&(v=!0,!1===t.dispatch&&(g=!1),!1===t.decodeURLComponents&&(y=!1),!1!==t.popstate&&window.addEventListener("popstate",w,!1),!1!==t.click&&document.addEventListener(f,u,!1),!0===t.hashbang&&(_=!0),g)){var e=_&&~d.hash.indexOf("#!")?d.hash.substr(2)+d.search:d.pathname+d.search+d.hash;n.replace(e,null,!0,g)}},n.stop=function(){v&&(n.current="",n.len=0,v=!1,document.removeEventListener(f,u,!1),window.removeEventListener("popstate",w,!1))},n.show=function(t,e,r,i){var o=new a(t,e);return n.current=o.path,!1!==r&&n.dispatch(o),!1!==o.handled&&!1!==i&&o.pushState(),o},n.back=function(t,e){n.len>0?(history.back(),n.len--):setTimeout(t?function(){n.show(t,e)}:function(){n.show(m,e)})},n.redirect=function(t,e){"string"==typeof t&&"string"==typeof e&&n(t,function(t){setTimeout(function(){n.replace(e)},0)}),"string"==typeof t&&"undefined"==typeof e&&setTimeout(function(){n.replace(t)},0)},n.replace=function(t,e,r,i){var o=new a(t,e);return n.current=o.path,o.init=r,o.save(),!1!==i&&n.dispatch(o),o},n.dispatch=function(t){function e(){var t=n.exits[s++];return t?void t(o,e):r()}function r(){var e=n.callbacks[a++];return t.path!==n.current?void(t.handled=!1):e?void e(t,r):i(t)}var o=b,a=0,s=0;b=t,o?e():r()},n.exit=function(t,e){if("function"==typeof t)return n.exit("*",t);for(var r=new s(t),i=1;i<arguments.length;++i)n.exits.push(r.middleware(arguments[i]))},n.Context=a,a.prototype.pushState=function(){n.len++,history.pushState(this.state,this.title,_&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},a.prototype.save=function(){history.replaceState(this.state,this.title,_&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},n.Route=s,s.prototype.middleware=function(t){var e=this;return function(r,n){return e.match(r.path,r.params)?t(r,n):void n()}},s.prototype.match=function(t,e){var r=this.keys,n=t.indexOf("?"),i=~n?t.slice(0,n):t,a=this.regexp.exec(decodeURIComponent(i));if(!a)return!1;for(var s=1,u=a.length;u>s;++s){var c=r[s-1],p=o(a[s]);void 0===p&&hasOwnProperty.call(e,c.name)||(e[c.name]=p)}return!0};var w=function(){var t=!1;if("undefined"!=typeof window)return"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function e(r){if(t)if(r.state){var i=r.state.path;n.replace(i,r.state)}else n.show(d.pathname+d.hash,void 0,void 0,!1)}}();n.sameOrigin=p}],node_modules:{"path-to-regexp":{"package.json":function(t,e){e.name="path-to-regexp",e.version="1.2.1"},"index.js":["isarray",function(t,e,r){function n(t){for(var e=[],r=0,n=0,i="",o;null!=(o=y.exec(t));){var a=o[0],u=o[1],c=o.index;if(i+=t.slice(n,c),n=c+a.length,u)i+=u[1];else{i&&(e.push(i),i="");var p=o[2],l=o[3],h=o[4],f=o[5],d=o[6],g=o[7],m="+"===d||"*"===d,v="?"===d||"*"===d,_=p||"/",b=h||f||(g?".*":"[^"+_+"]+?");e.push({name:l||r++,prefix:p||"",delimiter:_,optional:v,repeat:m,pattern:s(b)})}}return n<t.length&&(i+=t.substr(n)),i&&e.push(i),e}function i(t){return o(n(t))}function o(t){for(var e=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(e[r]=new RegExp("^"+t[r].pattern+"$"));return function(r){for(var n="",i=r||{},o=0;o<t.length;o++){var a=t[o];if("string"!=typeof a){var s=i[a.name],u;if(null==s){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to be defined')}if(g(s)){if(!a.repeat)throw new TypeError('Expected "'+a.name+'" to not repeat, but received "'+s+'"');if(0===s.length){if(a.optional)continue;throw new TypeError('Expected "'+a.name+'" to not be empty')}for(var c=0;c<s.length;c++){if(u=encodeURIComponent(s[c]),!e[o].test(u))throw new TypeError('Expected all "'+a.name+'" to match "'+a.pattern+'", but received "'+u+'"');n+=(0===c?a.prefix:a.delimiter)+u}}else{if(u=encodeURIComponent(s),!e[o].test(u))throw new TypeError('Expected "'+a.name+'" to match "'+a.pattern+'", but received "'+u+'"');n+=a.prefix+u}}else n+=a}return n}}function a(t){return t.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function s(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function u(t,e){return t.keys=e,t}function c(t){return t.sensitive?"":"i"}function p(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return u(t,e)}function l(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(d(t[i],e,r).source);var o=new RegExp("(?:"+n.join("|")+")",c(r));return u(o,e)}function h(t,e,r){for(var i=n(t),o=f(i,r),a=0;a<i.length;a++)"string"!=typeof i[a]&&e.push(i[a]);return u(o,e)}function f(t,e){e=e||{};for(var r=e.strict,n=e.end!==!1,i="",o=t[t.length-1],s="string"==typeof o&&/\/$/.test(o),u=0;u<t.length;u++){var p=t[u];if("string"==typeof p)i+=a(p);else{var l=a(p.prefix),h=p.pattern;p.repeat&&(h+="(?:"+l+h+")*"),h=p.optional?l?"(?:"+l+"("+h+"))?":"("+h+")?":l+"("+h+")",i+=h}}return r||(i=(s?i.slice(0,-2):i)+"(?:\\/(?=$))?"),i+=n?"$":r&&s?"":"(?=\\/|$)",new RegExp("^"+i,c(e))}function d(t,e,r){return e=e||[],g(e)?r||(r={}):(r=e,e=[]),t instanceof RegExp?p(t,e,r):g(t)?l(t,e,r):h(t,e,r)}var g=t("isarray");r.exports=d,r.exports.parse=n,r.exports.compile=i,r.exports.tokensToFunction=o,r.exports.tokensToRegExp=f;var y=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g")}],node_modules:{isarray:{"package.json":function(t,e){e.name="isarray",e.version="0.0.1",e.main="index.js"},"index.js":function(t,e,r){r.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}}}}}}},qs:{"package.json":function(t,e){e.name="qs",e.version="5.2.0",e.main="lib/index.js"},lib:{"index.js":["./stringify","./parse",function(t,e,r){var n=t("./stringify"),i=t("./parse"),o={};r.exports={stringify:n,parse:i}}],"stringify.js":["./utils",function(t,e,r){var n=t("./utils"),i={delimiter:"&",arrayPrefixGenerators:{brackets:function(t,e){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t,e){return t}},strictNullHandling:!1,skipNulls:!1,encode:!0};i.stringify=function(t,e,r,o,a,s,u,c){if("function"==typeof u)t=u(e,t);else if(n.isBuffer(t))t=t.toString();else if(t instanceof Date)t=t.toISOString();else if(null===t){if(o)return s?n.encode(e):e;t=""}if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return s?[n.encode(e)+"="+n.encode(t)]:[e+"="+t];var p=[];if("undefined"==typeof t)return p;var l;if(Array.isArray(u))l=u;else{var h=Object.keys(t);l=c?h.sort(c):h}for(var f=0,d=l.length;d>f;++f){var g=l[f];a&&null===t[g]||(p=p.concat(Array.isArray(t)?i.stringify(t[g],r(e,g),r,o,a,s,u):i.stringify(t[g],e+"["+g+"]",r,o,a,s,u)))}return p},r.exports=function(t,e){e=e||{};var r="undefined"==typeof e.delimiter?i.delimiter:e.delimiter,n="boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling,o="boolean"==typeof e.skipNulls?e.skipNulls:i.skipNulls,a="boolean"==typeof e.encode?e.encode:i.encode,s="function"==typeof e.sort?e.sort:null,u,c;"function"==typeof e.filter?(c=e.filter,t=c("",t)):Array.isArray(e.filter)&&(u=c=e.filter);var p=[];if("object"!=typeof t||null===t)return"";var l;l=e.arrayFormat in i.arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":"indices";var h=i.arrayPrefixGenerators[l];u||(u=Object.keys(t)),s&&u.sort(s);for(var f=0,d=u.length;d>f;++f){var g=u[f];o&&null===t[g]||(p=p.concat(i.stringify(t[g],g,h,n,o,a,c,s)))}return p.join(r)}}],"utils.js":function(t,e){var r={};r.hexTable=new Array(256);for(var n=0;256>n;++n)r.hexTable[n]="%"+((16>n?"0":"")+n.toString(16)).toUpperCase();e.arrayToObject=function(t,e){for(var r=e.plainObjects?Object.create(null):{},n=0,i=t.length;i>n;++n)"undefined"!=typeof t[n]&&(r[n]=t[n]);return r},e.merge=function(t,r,n){if(!r)return t;if("object"!=typeof r)return Array.isArray(t)?t.push(r):"object"==typeof t?t[r]=!0:t=[t,r],t;if("object"!=typeof t)return t=[t].concat(r);Array.isArray(t)&&!Array.isArray(r)&&(t=e.arrayToObject(t,n));for(var i=Object.keys(r),o=0,a=i.length;a>o;++o){var s=i[o],u=r[s];Object.prototype.hasOwnProperty.call(t,s)?t[s]=e.merge(t[s],u,n):t[s]=u}return t},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;"string"!=typeof t&&(t=""+t);for(var e="",n=0,i=t.length;i>n;++n){var o=t.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&57>=o||o>=65&&90>=o||o>=97&&122>=o?e+=t[n]:128>o?e+=r.hexTable[o]:2048>o?e+=r.hexTable[192|o>>6]+r.hexTable[128|63&o]:55296>o||o>=57344?e+=r.hexTable[224|o>>12]+r.hexTable[128|o>>6&63]+r.hexTable[128|63&o]:(++n,o=65536+((1023&o)<<10|1023&t.charCodeAt(n)),e+=r.hexTable[240|o>>18]+r.hexTable[128|o>>12&63]+r.hexTable[128|o>>6&63]+r.hexTable[128|63&o])}return e},e.compact=function(t,r){if("object"!=typeof t||null===t)return t;r=r||[];var n=r.indexOf(t);if(-1!==n)return r[n];if(r.push(t),Array.isArray(t)){for(var i=[],o=0,a=t.length;a>o;++o)"undefined"!=typeof t[o]&&i.push(t[o]);return i}var s=Object.keys(t);for(o=0,a=s.length;a>o;++o){var u=s[o];t[u]=e.compact(t[u],r)}return t},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null===t||"undefined"==typeof t?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},"parse.js":["./utils",function(t,e,r){var n=t("./utils"),i={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1};i.parseValues=function(t,e){for(var r={},i=t.split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0,a=i.length;a>o;++o){var s=i[o],u=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;if(-1===u)r[n.decode(s)]="",e.strictNullHandling&&(r[n.decode(s)]=null);else{var c=n.decode(s.slice(0,u)),p=n.decode(s.slice(u+1));Object.prototype.hasOwnProperty.call(r,c)?r[c]=[].concat(r[c]).concat(p):r[c]=p}}return r},i.parseObject=function(t,e,r){if(!t.length)return e;var n=t.shift(),o;if("[]"===n)o=[],o=o.concat(i.parseObject(t,e,r));else{o=r.plainObjects?Object.create(null):{};var a="["===n[0]&&"]"===n[n.length-1]?n.slice(1,n.length-1):n,s=parseInt(a,10),u=""+s;!isNaN(s)&&n!==a&&u===a&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(o=[],o[s]=i.parseObject(t,e,r)):o[a]=i.parseObject(t,e,r)}return o},i.parseKeys=function(t,e,r){if(t){r.allowDots&&(t=t.replace(/\.([^\.\[]+)/g,"[$1]"));var n=/^([^\[\]]*)/,o=/(\[[^\[\]]*\])/g,a=n.exec(t),s=[];if(a[1]){if(!r.plainObjects&&Object.prototype.hasOwnProperty(a[1])&&!r.allowPrototypes)return;s.push(a[1])}for(var u=0;null!==(a=o.exec(t))&&u<r.depth;)++u,(r.plainObjects||!Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||r.allowPrototypes)&&s.push(a[1]);return a&&s.push("["+t.slice(a.index)+"]"),i.parseObject(s,e,r)}},r.exports=function(t,e){if(e=e||{},e.delimiter="string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:i.delimiter,e.depth="number"==typeof e.depth?e.depth:i.depth,e.arrayLimit="number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,e.parseArrays=e.parseArrays!==!1,e.allowDots="boolean"==typeof e.allowDots?e.allowDots:i.allowDots,e.plainObjects="boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,e.allowPrototypes="boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,e.parameterLimit="number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,e.strictNullHandling="boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling,""===t||null===t||"undefined"==typeof t)return e.plainObjects?Object.create(null):{};for(var r="string"==typeof t?i.parseValues(t,e):t,o=e.plainObjects?Object.create(null):{},a=Object.keys(r),s=0,u=a.length;u>s;++s){var c=a[s],p=i.parseKeys(c,r[c],e);o=n.merge(o,p,e)}return n.compact(o)}}]}}}}}}},{extensions:[".js",".json"]});_("./node_modules/meteor/kadira:flow-router/client/modules.js"),_("./node_modules/meteor/kadira:flow-router/client/triggers.js"),_("./node_modules/meteor/kadira:flow-router/client/router.js"),_("./node_modules/meteor/kadira:flow-router/client/group.js"),_("./node_modules/meteor/kadira:flow-router/client/route.js"),_("./node_modules/meteor/kadira:flow-router/client/_init.js"),_("./node_modules/meteor/kadira:flow-router/lib/router.js"),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package["kadira:flow-router"]={},{FlowRouter:v})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,r=Package.meteor.meteorEnv,c=Package.tracker.Tracker,k=Package.tracker.Deps;"undefined"==typeof Package&&(Package={}),function(e,a){for(var r in a)r in e||(e[r]=a[r])}(Package.deps={},{Tracker:c,Deps:k})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,r=Package.meteor.meteorEnv,i=Package.tracker.Tracker,n=Package.tracker.Deps,o,a,s;(function(){o={},a=function(t){return t},s=Array.prototype.slice}).call(this),function(){var t=Object.prototype.hasOwnProperty,e=function(e,r){for(var i in r)t.call(r,i)&&(e[i]=r[i]);return e};o.Visitor=function(t){e(this,t)},o.Visitor.def=function(t){e(this.prototype,t)},o.Visitor.extend=function(t){var r=this,i=function n(){o.Visitor.apply(this,arguments)};return i.prototype=new r,i.extend=r.extend,i.def=r.def,t&&e(i.prototype,t),i},o.Visitor.def({visit:function(t){if(null==t)return this.visitNull.apply(this,arguments);if("object"==typeof t){if(t.htmljsType)switch(t.htmljsType){case o.Tag.htmljsType:return this.visitTag.apply(this,arguments);case o.CharRef.htmljsType:return this.visitCharRef.apply(this,arguments);case o.Comment.htmljsType:return this.visitComment.apply(this,arguments);case o.Raw.htmljsType:return this.visitRaw.apply(this,arguments);default:throw new Error("Unknown htmljs type: "+t.htmljsType)}return o.isArray(t)?this.visitArray.apply(this,arguments):this.visitObject.apply(this,arguments)}if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return this.visitPrimitive.apply(this,arguments);if("function"==typeof t)return this.visitFunction.apply(this,arguments);throw new Error("Unexpected object in htmljs: "+t)},visitNull:function(t){},visitPrimitive:function(t){},visitArray:function(t){},visitComment:function(t){},visitCharRef:function(t){},visitRaw:function(t){},visitTag:function(t){},visitObject:function(t){throw new Error("Unexpected object in htmljs: "+t)},visitFunction:function(t){throw new Error("Unexpected function in htmljs: "+t)}}),o.TransformingVisitor=o.Visitor.extend(),o.TransformingVisitor.def({visitNull:a,visitPrimitive:a,visitArray:function(t){for(var e=s.call(arguments),r=t,i=0;i<t.length;i++){var n=t[i];e[0]=n;var o=this.visit.apply(this,e);o!==n&&(r===t&&(r=t.slice()),r[i]=o)}return r},visitComment:a,visitCharRef:a,visitRaw:a,visitObject:a,visitFunction:a,visitTag:function(t){var e=t.children,r=s.call(arguments);r[0]=e;var i=this.visitChildren.apply(this,r),n=t.attrs;r[0]=n;var a=this.visitAttributes.apply(this,r);if(a===n&&i===e)return t;var u=o.getTag(t.tagName).apply(null,i);return u.attrs=a,u},visitChildren:function(t){return this.visitArray.apply(this,arguments)},visitAttributes:function(t){if(o.isArray(t)){for(var r=s.call(arguments),i=t,n=0;n<t.length;n++){var a=t[n];r[0]=a;var u=this.visitAttributes.apply(this,r);u!==a&&(i===t&&(i=t.slice()),i[n]=u)}return i}if(t&&o.isConstructedObject(t))throw new Error("The basic HTML.TransformingVisitor does not support foreign objects in attributes.  Define a custom visitAttributes for this case.");var l=t,f=l;if(l){var c=[null,null];c.push.apply(c,arguments);for(var h in l){var m=l[h];c[0]=h,c[1]=m;var p=this.visitAttribute.apply(this,c);p!==m&&(f===l&&(f=e({},l)),f[h]=p)}}return f},visitAttribute:function(t,e,r){var i=s.call(arguments,2);return i[0]=e,this.visit.apply(this,i)}}),o.ToTextVisitor=o.Visitor.extend(),o.ToTextVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return this.textMode===o.TEXTMODE.RCDATA?e.replace(/&/g,"&amp;").replace(/</g,"&lt;"):this.textMode===o.TEXTMODE.ATTRIBUTE?e.replace(/&/g,"&amp;").replace(/"/g,"&quot;"):e},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){throw new Error("Can't have a comment here")},visitCharRef:function(t){return this.textMode===o.TEXTMODE.RCDATA||this.textMode===o.TEXTMODE.ATTRIBUTE?t.html:t.str},visitRaw:function(t){return t.value},visitTag:function(t){return this.visit(this.toHTML(t))},visitObject:function(t){throw new Error("Unexpected object in htmljs in toText: "+t)},toHTML:function(t){return o.toHTML(t)}}),o.ToHTMLVisitor=o.Visitor.extend(),o.ToHTMLVisitor.def({visitNull:function(t){return""},visitPrimitive:function(t){var e=String(t);return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")},visitArray:function(t){for(var e=[],r=0;r<t.length;r++)e.push(this.visit(t[r]));return e.join("")},visitComment:function(t){return"<!--"+t.sanitizedValue+"-->"},visitCharRef:function(t){return t.html},visitRaw:function(t){return t.value},visitTag:function(t){var e=[],r=t.tagName,i=t.children,n=t.attrs;if(n){n=o.flattenAttributes(n);for(var a in n)if("value"===a&&"textarea"===r)i=[n[a],i];else{var s=this.toText(n[a],o.TEXTMODE.ATTRIBUTE);e.push(" "+a+'="'+s+'"')}}var u="<"+r+e.join("")+">",l=[],f;if("textarea"===r){for(var c=0;c<i.length;c++)l.push(this.toText(i[c],o.TEXTMODE.RCDATA));f=l.join(""),"\n"===f.slice(0,1)&&(f="\n"+f)}else{for(var c=0;c<i.length;c++)l.push(this.visit(i[c]));f=l.join("")}var h=u+f;return(i.length||!o.isVoidElement(r))&&(h+="</"+r+">"),h},visitObject:function(t){throw new Error("Unexpected object in htmljs in toHTML: "+t)},toText:function(t,e){return o.toText(t,e)}})}.call(this),function(){o.Tag=function(){},o.Tag.prototype.tagName="",o.Tag.prototype.attrs=null,o.Tag.prototype.children=Object.freeze?Object.freeze([]):[],o.Tag.prototype.htmljsType=o.Tag.htmljsType=["Tag"];var t=function(t){var e=function(){var t=this instanceof o.Tag?this:new e,r=0,i=arguments.length&&arguments[0];if(i&&"object"==typeof i)if(o.isConstructedObject(i)){if(i instanceof o.Attrs){var n=i.value;1===n.length?t.attrs=n[0]:n.length>1&&(t.attrs=n),r++}}else t.attrs=i,r++;return r<arguments.length&&(t.children=s.call(arguments,r)),t};return e.prototype=new o.Tag,e.prototype.constructor=e,e.prototype.tagName=t,e},e=o.Attrs=function(){var t=this instanceof e?this:new e;return t.value=s.call(arguments),t};o.getTag=function(e){var r=o.getSymbolName(e);if(r===e)throw new Error("Use the lowercase or camelCase form of '"+e+"' here");return o[r]||(o[r]=t(e)),o[r]},o.ensureTag=function(t){o.getTag(t)},o.isTagEnsured=function(t){return o.isKnownElement(t)},o.getSymbolName=function(t){return t.toUpperCase().replace(/-/g,"_")},o.knownElementNames="a abbr acronym address applet area article aside audio b base basefont bdi bdo big blockquote body br button canvas caption center cite code col colgroup command data datagrid datalist dd del details dfn dir div dl dt em embed eventsource fieldset figcaption figure font footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins isindex kbd keygen label legend li link main map mark menu meta meter nav noframes noscript object ol optgroup option output p param pre progress q rp rt ruby s samp script section select small source span strike strong style sub summary sup table tbody td textarea tfoot th thead time title tr track tt u ul var video wbr".split(" "),o.knownSVGElementNames="altGlyph altGlyphDef altGlyphItem animate animateColor animateMotion animateTransform circle clipPath color-profile cursor defs desc ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font font-face font-face-format font-face-name font-face-src font-face-uri foreignObject g glyph glyphRef hkern image line linearGradient marker mask metadata missing-glyph path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view vkern".split(" "),o.knownElementNames=o.knownElementNames.concat(o.knownSVGElementNames),o.voidElementNames="area base br col command embed hr img input keygen link meta param source track wbr".split(" ");var r={yes:!0},i=function(t){for(var e={},i=0;i<t.length;i++)e[t[i]]=r;return e},n=i(o.voidElementNames),a=i(o.knownElementNames),u=i(o.knownSVGElementNames);o.isKnownElement=function(t){return a[t]===r},o.isKnownSVGElement=function(t){return u[t]===r},o.isVoidElement=function(t){return n[t]===r};for(var l=0;l<o.knownElementNames.length;l++)o.ensureTag(o.knownElementNames[l]);var f=o.CharRef=function(t){if(!(this instanceof f))return new f(t);if(!(t&&t.html&&t.str))throw new Error("HTML.CharRef must be constructed with ({html:..., str:...})");this.html=t.html,this.str=t.str};f.prototype.htmljsType=f.htmljsType=["CharRef"];var c=o.Comment=function(t){if(!(this instanceof c))return new c(t);if("string"!=typeof t)throw new Error("HTML.Comment must be constructed with a string");this.value=t,this.sanitizedValue=t.replace(/^-|--+|-$/g,"")};c.prototype.htmljsType=c.htmljsType=["Comment"];var h=o.Raw=function(t){if(!(this instanceof h))return new h(t);if("string"!=typeof t)throw new Error("HTML.Raw must be constructed with a string");this.value=t};h.prototype.htmljsType=h.htmljsType=["Raw"],o.isArray=function(t){return t instanceof Array},o.isConstructedObject=function(t){return t&&"object"==typeof t&&t.constructor!==Object&&"function"==typeof t.constructor&&t instanceof t.constructor},o.isNully=function(t){if(null==t)return!0;if(o.isArray(t)){for(var e=0;e<t.length;e++)if(!o.isNully(t[e]))return!1;return!0}return!1},o.isValidAttributeName=function(t){return/^[:_A-Za-z][:_A-Za-z0-9.\-]*/.test(t)},o.flattenAttributes=function(t){if(!t)return t;var e=o.isArray(t);if(e&&0===t.length)return null;for(var r={},i=0,n=e?t.length:1;n>i;i++){var a=e?t[i]:t;if("object"!=typeof a||o.isConstructedObject(a))throw new Error("Expected plain JS object as attrs, found: "+a);for(var s in a){if(!o.isValidAttributeName(s))throw new Error("Illegal HTML attribute name: "+s);var u=a[s];o.isNully(u)||(r[s]=u)}}return r},o.toHTML=function(t){return(new o.ToHTMLVisitor).visit(t)},o.TEXTMODE={STRING:1,RCDATA:2,ATTRIBUTE:3},o.toText=function(t,e){if(!e)throw new Error("textMode required for HTML.toText");if(e!==o.TEXTMODE.STRING&&e!==o.TEXTMODE.RCDATA&&e!==o.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+e);var r=new o.ToTextVisitor({textMode:e});return r.visit(t)}}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var r in e)r in t||(t[r]=e[r])}(Package.htmljs={},{HTML:o})}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,r=Package.meteor.meteorEnv,t=Package.tracker.Tracker,o=Package.tracker.Deps,i=Package["mongo-id"].MongoID,a=Package["diff-sequence"].DiffSequence,c=Package.underscore._,f=Package.random.Random,u,d,s,v;(function(){var e=function(){u._suppressWarnings?u._suppressWarnings--:("undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments),u._loggedWarnings++)},n=i.idStringify,r=i.idParse;u={_suppressWarnings:0,_loggedWarnings:0,observe:function(e,n){var r=null,i=null,f=[],u=t.autorun(function(){var u=e();t.nonreactive(function(){var e;if(i&&(f=c.map(r.fetch(),function(e){return{_id:e._id,item:e}}),i.stop(),i=null),u)if(u instanceof Array)e=s(f,u,n);else{if(!a(u))throw o();var t=v(f,u,n);e=t[0],i=t[1]}else e=d(f,n);l(f,e,n),r=u,f=e})});return{stop:function(){u.stop(),i&&i.stop()}}},fetch:function(e){if(e){if(e instanceof Array)return e;if(a(e))return e.fetch();throw o()}return[]}};var o=function(){return new Error("{{#each}} currently only accepts arrays, cursors or falsey values.")},a=function(e){return e&&c.isObject(e)&&c.isFunction(e.observe)&&c.isFunction(e.fetch)},l=function(e,t,o){var i=Package["diff-sequence"].DiffSequence.diffQueryOrderedChanges,a=[],f=[],u={},d={},s={},v=e.length;c.each(t,function(e,r){f.push({_id:e._id}),d[n(e._id)]=r}),c.each(e,function(e,r){a.push({_id:e._id}),u[n(e._id)]=r,s[n(e._id)]=r}),i(a,f,{addedBefore:function(e,r,i){var a=i?s[n(i)]:v;i&&c.each(s,function(e,n){e>=a&&s[n]++}),v++,s[n(e)]=a,o.addedAt(e,t[d[n(e)]].item,a,i)},movedBefore:function(e,r){if(e!==r){var i=s[n(e)],a=r?s[n(r)]:v;a>i&&a--,c.each(s,function(e,n){e>i&&a>e?s[n]--:e>=a&&i>e&&s[n]++}),s[n(e)]=a,o.movedTo(e,t[d[n(e)]].item,i,a,r)}},removed:function(r){var t=s[n(r)];c.each(s,function(e,n){e>=t&&s[n]--}),delete s[n(r)],v--,o.removedAt(r,e[u[n(r)]].item,t)}}),c.each(d,function(n,i){var a=r(i);if(c.has(u,i)){var f=t[n].item,d=e[u[i]].item;("object"==typeof f||f!==d)&&o.changedAt(a,f,d,n)}})};d=function(e,n){return[]},s=function(r,t,o){var i={},a=c.map(t,function(r,o){var a;if("string"==typeof r)a="-"+r;else if("number"==typeof r||"boolean"==typeof r||void 0===r)a=r;else{if("object"!=typeof r)throw new Error("{{#each}} doesn't support arrays with elements of type "+typeof r);a=r&&"_id"in r?r._id:o}var c=n(a);return i[c]?("object"==typeof r&&"_id"in r&&e("duplicate id "+a+" in",t),a=f.id()):i[c]=!0,{_id:a,item:r}});return a},v=function(e,n,r){var t=!0,o=[],i=n.observe({addedAt:function(e,n,i){if(t){if(null!==i)throw new Error("Expected initial data from observe in order");o.push({_id:e._id,item:e})}else r.addedAt(e._id,e,n,i)},changedAt:function(e,n,t){r.changedAt(e._id,e,n,t)},removedAt:function(e,n){r.removedAt(e._id,e,n)},movedTo:function(e,n,t,o){r.movedTo(e._id,e,n,t,o)}});return t=!1,[o,i]}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var r in n)r in e||(e[r]=n[r])}(Package["observe-sequence"]={},{ObserveSequence:u})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.jquery.$,a=Package.jquery.jQuery,i=Package.tracker.Tracker,o=Package.tracker.Deps,s=Package.check.check,l=Package.check.Match,c=Package.underscore._,u=Package.htmljs.HTML,d=Package["observe-sequence"].ObserveSequence,p=Package["reactive-var"].ReactiveVar,f,h,m,w,v,_;(function(){f={},f._escape=function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","&":"&amp;"},t=function(t){return e[t]};return function(e){return e.replace(/[&<>"'`]/g,t)}}(),f._warn=function(e){e="Warning: "+e,"undefined"!=typeof console&&console.warn&&console.warn(e)}}).call(this),function(){var e={};f._DOMBackend=e;var t="undefined"!=typeof a?a:"undefined"!=typeof Package?Package.jquery&&Package.jquery.jQuery:null;if(!t)throw new Error("jQuery not found");e._$jq=t,e.parseHTML=function(e){return t.parseHTML(e)||[]},e.Events={delegateEvents:function(e,n,r,a){t(e).on(n,r,a)},undelegateEvents:function(e,n,r){t(e).off(n,"**",r)},bindEventCapturer:function(n,r,a,i){var o=t(n),s=function(e){e=t.event.fix(e),e.currentTarget=e.target;var r=t(e.currentTarget);r.is(o.find(a))&&i.call(n,e)};i._meteorui_wrapper=s,r=e.Events.parseEventType(r),n.addEventListener(r,s,!0)},unbindEventCapturer:function(t,n,r){n=e.Events.parseEventType(n),t.removeEventListener(n,r._meteorui_wrapper,!0)},parseEventType:function(e){var t=e.indexOf(".");return t>=0?e.slice(0,t):e}};var n=function(){},r=function(e){this.next=this,this.prev=this,this.func=e};r.prototype.linkBefore=function(e){this.prev=e.prev,this.next=e,e.prev.next=this,e.prev=this},r.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},r.prototype.go=function(){var e=this.func;e&&e()},r.prototype.stop=r.prototype.unlink,e.Teardown={_JQUERY_EVENT_NAME:"blaze_teardown_watcher",_CB_PROP:"$blaze_teardown_callbacks",onElementTeardown:function(a,i){var o=new r(i),s=e.Teardown._CB_PROP;return a[s]||(a[s]=new r,t(a).on(e.Teardown._JQUERY_EVENT_NAME,n)),o.linkBefore(a[s]),o},tearDownElement:function(e){for(var n=[],r=e.getElementsByTagName("*"),a=0;a<r.length;a++)n.push(r[a]);n.push(e),t.cleanData(n)}},t.event.special[e.Teardown._JQUERY_EVENT_NAME]={setup:function(){},teardown:function(){var t=this,n=t[e.Teardown._CB_PROP];if(n){for(var r=n.next;r!==n;)r.go(),r=r.next;n.go(),t[e.Teardown._CB_PROP]=null}}},e.findBySelector=function(e,n){return t(e,n)}}.call(this),function(){var e=Object.freeze?Object.freeze([]):[];f._DOMRange=function(n){if(!(this instanceof t))return new t(n);var r=n||e;if(!r||"number"!=typeof r.length)throw new Error("Expected array");for(var a=0;a<r.length;a++)this._memberIn(r[a]);this.members=r,this.emptyRangePlaceholder=null,this.attached=!1,this.parentElement=null,this.parentRange=null,this.attachedCallbacks=e};var t=f._DOMRange;t._USE_COMMENT_PLACEHOLDERS=function(){var e=!1,t=document.createTextNode("");try{t.someProp=!0}catch(n){e=!0}return e}(),t._insert=function(e,n,r,a){var i=e;i instanceof t?i.attach(n,r,a):a?t._moveNodeWithHooks(i,n,r):t._insertNodeWithHooks(i,n,r)},t._remove=function(e){var n=e;n instanceof t?n.detach():t._removeNodeWithHooks(n)},t._removeNodeWithHooks=function(e){e.parentNode&&(1===e.nodeType&&e.parentNode._uihooks&&e.parentNode._uihooks.removeElement?e.parentNode._uihooks.removeElement(e):e.parentNode.removeChild(e))},t._insertNodeWithHooks=function(e,t,n){n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.insertElement?t._uihooks.insertElement(e,n):t.insertBefore(e,n)},t._moveNodeWithHooks=function(e,t,n){e.parentNode===t&&(n=n||null,1===e.nodeType&&t._uihooks&&t._uihooks.moveElement?t._uihooks.moveElement(e,n):t.insertBefore(e,n))},t.forElement=function(e){if(1!==e.nodeType)throw new Error("Expected element, found: "+e);for(var t=null;e&&!t;)t=e.$blaze_range||null,t||(e=e.parentNode);return t},t.prototype.attach=function(e,n,r,a){if((r||a)&&(this.parentElement!==e||!this.attached))throw new Error("Can only move or replace an attached DOMRange, and only under the same parent element");var i=this.members;if(i.length){this.emptyRangePlaceholder=null;for(var o=0;o<i.length;o++)t._insert(i[o],e,n,r)}else{var s=t._USE_COMMENT_PLACEHOLDERS?document.createComment(""):document.createTextNode("");this.emptyRangePlaceholder=s,e.insertBefore(s,n||null)}if(this.attached=!0,this.parentElement=e,!r&&!a)for(var o=0;o<this.attachedCallbacks.length;o++){var l=this.attachedCallbacks[o];l.attached&&l.attached(this,e)}},t.prototype.setMembers=function(e){var t=e;if(!t||"number"!=typeof t.length)throw new Error("Expected array");for(var n=this.members,r=0;r<n.length;r++)this._memberOut(n[r]);for(var r=0;r<t.length;r++)this._memberIn(t[r]);if(this.attached){if(t.length||n.length){var a=this.lastNode().nextSibling,i=this.parentElement;this.detach(!0),this.members=t,this.attach(i,a,!1,!0)}}else this.members=t},t.prototype.firstNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[0];return e instanceof t?e.firstNode():e},t.prototype.lastNode=function(){if(!this.attached)throw new Error("Must be attached");if(!this.members.length)return this.emptyRangePlaceholder;var e=this.members[this.members.length-1];return e instanceof t?e.lastNode():e},t.prototype.detach=function(e){if(!this.attached)throw new Error("Must be attached");var n=this.parentElement,r=this.members;if(r.length)for(var a=0;a<r.length;a++)t._remove(r[a]);else{var i=this.emptyRangePlaceholder;this.parentElement.removeChild(i),this.emptyRangePlaceholder=null}if(!e){this.attached=!1,this.parentElement=null;for(var a=0;a<this.attachedCallbacks.length;a++){var o=this.attachedCallbacks[a];o.detached&&o.detached(this,n)}}},t.prototype.addMember=function(e,n,r){var a=this.members;if(!(n>=0&&n<=a.length))throw new Error("Bad index in range.addMember: "+n);if(r||this._memberIn(e),this.attached)if(0===a.length)this.setMembers([e]);else{var i;if(n===a.length)i=this.lastNode().nextSibling;else{var o=a[n];i=o instanceof t?o.firstNode():o}a.splice(n,0,e),t._insert(e,this.parentElement,i,r)}else a.splice(n,0,e)},t.prototype.removeMember=function(n,r){var a=this.members;if(!(n>=0&&n<a.length))throw new Error("Bad index in range.removeMember: "+n);if(r)a.splice(n,1);else{var i=a[n];this._memberOut(i),1===a.length?this.setMembers(e):(a.splice(n,1),this.attached&&t._remove(i))}},t.prototype.moveMember=function(e,t){var n=this.members[e];this.removeMember(e,!0),this.addMember(n,t,!0)},t.prototype.getMember=function(e){var t=this.members;if(!(e>=0&&e<t.length))throw new Error("Bad index in range.getMember: "+e);return this.members[e]},t.prototype._memberIn=function(e){e instanceof t?e.parentRange=this:1===e.nodeType&&(e.$blaze_range=this)},t._destroy=function(e,n){e instanceof t?e.view&&f._destroyView(e.view,n):n||1!==e.nodeType||e.$blaze_range&&(f._destroyNode(e),e.$blaze_range=null)},t.prototype._memberOut=t._destroy,t.prototype.destroyMembers=function(e){for(var t=this.members,n=0;n<t.length;n++)this._memberOut(t[n],e)},t.prototype.destroy=function(e){t._destroy(this,e)},t.prototype.containsElement=function(e){if(!this.attached)throw new Error("Must be attached");if(!f._elementContains(this.parentElement,e))return!1;for(;e.parentNode!==this.parentElement;)e=e.parentNode;for(var t=e.$blaze_range;t&&t!==this;)t=t.parentRange;return t===this},t.prototype.containsRange=function(e){if(!this.attached)throw new Error("Must be attached");if(!e.attached)return!1;if(e.parentElement!==this.parentElement)return this.containsElement(e.parentElement);if(e===this)return!1;for(;e&&e!==this;)e=e.parentRange;return e===this},t.prototype.onAttached=function(e){this.onAttachedDetached({attached:e})},t.prototype.onAttachedDetached=function(t){this.attachedCallbacks===e&&(this.attachedCallbacks=[]),this.attachedCallbacks.push(t)},t.prototype.$=function(e){var t=this,n=this.parentElement;if(!n)throw new Error("Can't select in removed DomRange");if(11===n.nodeType)throw new Error("Can't use $ on an offscreen range");var r=f._DOMBackend.findBySelector(e,n),a=function(e){return"number"==typeof e&&(e=this),t.containsElement(e)};if(r.filter)r=r.filter(a);else{for(var i=[],o=0;o<r.length;o++){var s=r[o];a(s)&&i.push(s)}r=i}return r},f._elementContains=function(e,t){return 1!==e.nodeType?!1:e===t?!1:e.compareDocumentPosition?16&e.compareDocumentPosition(t):(t=t.parentNode,t&&1===t.nodeType?e===t?!0:e.contains(t):!1)}}.call(this),function(){var e=f._EventSupport={},t=f._DOMBackend,n=e.eventsToDelegate={blur:1,change:1,click:1,focus:1,focusin:1,focusout:1,reset:1,submit:1},r=e.EVENT_MODE={TBD:0,BUBBLING:1,CAPTURING:2},a=1,i=function(e,i,o,s,l){this.elem=e,this.type=i,this.selector=o,this.handler=s,this.recipient=l,this.id=a++,this.mode=r.TBD,this.delegatedHandler=function(e){return function(t){return e.selector||t.currentTarget===t.target?e.handler.apply(e.recipient,arguments):void 0}}(this);var u=e.addEventListener&&!c.has(n,t.Events.parseEventType(i));u?this.capturingHandler=function(e){return function(n){if(e.mode===r.TBD){if(n.bubbles)return e.mode=r.BUBBLING,void t.Events.unbindEventCapturer(e.elem,e.type,e.capturingHandler);e.mode=r.CAPTURING,t.Events.undelegateEvents(e.elem,e.type,e.delegatedHandler)}e.delegatedHandler(n)}}(this):this.mode=r.BUBBLING};e.HandlerRec=i,i.prototype.bind=function(){this.mode!==r.BUBBLING&&t.Events.bindEventCapturer(this.elem,this.type,this.selector||"*",this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.delegateEvents(this.elem,this.type,this.selector||"*",this.delegatedHandler)},i.prototype.unbind=function(){this.mode!==r.BUBBLING&&t.Events.unbindEventCapturer(this.elem,this.type,this.capturingHandler),this.mode!==r.CAPTURING&&t.Events.undelegateEvents(this.elem,this.type,this.delegatedHandler)},e.listen=function(e,t,n,r,a,o){try{e=e}finally{}var s=[];t.replace(/[^ \/]+/g,function(e){s.push(e)});for(var l=[],c=0,u=s.length;u>c;c++){var d=s[c],p=e.$blaze_events;p||(p=e.$blaze_events={});var f=p[d];f||(f=p[d]={},f.handlers=[]);var h=f.handlers,m=new i(e,d,n,r,a);if(l.push(m),m.bind(),h.push(m),o)for(var w=o(a);w;w=o(w))for(var v=0,_=h.length;_>v;v++){var g=h[v];g.recipient===w&&(g.unbind(),g.bind(),h.splice(v,1),h.push(g),v--,_--)}}return{stop:function(){var t=e.$blaze_events;if(t){for(var n=0;n<l.length;n++){var r=l[n],a=t[r.type];if(a)for(var i=a.handlers,o=i.length-1;o>=0;o--)i[o]===r&&(r.unbind(),i.splice(o,1))}l.length=0}}}}}.call(this),function(){var t=!1;f._allowJavascriptUrls=function(){t=!0},f._javascriptUrlsAllowed=function(){return t},h=function(e,t){this.name=e,this.value=t},f._AttributeHandler=h,h.prototype.update=function(e,t,n){null===n?null!==t&&e.removeAttribute(this.name):e.setAttribute(this.name,n)},h.extend=function(e){var t=this,n=function r(){h.apply(this,arguments)};return n.prototype=new t,n.extend=t.extend,e&&c.extend(n.prototype,e),n};var n=h.extend({update:function(e,t,n){if(!this.getCurrentValue||!this.setValue||!this.parseValue)throw new Error("Missing methods in subclass of 'DiffingAttributeHandler'");var r=t?this.parseValue(t):{},a=n?this.parseValue(n):{},i=this.getCurrentValue(e),o=i?this.parseValue(i):{};c.each(c.keys(r),function(e){e in a||delete o[e]}),c.each(c.keys(a),function(e){o[e]=a[e]}),this.setValue(e,c.values(o).join(" "))}}),a=n.extend({getCurrentValue:function(e){return e.className},setValue:function(e,t){e.className=t},parseValue:function(e){var t={};return c.each(e.split(" "),function(e){e&&(t[e]=e)}),t}}),i=a.extend({getCurrentValue:function(e){return e.className.baseVal},setValue:function(e,t){e.setAttribute("class",t)}}),o=n.extend({getCurrentValue:function(e){return e.getAttribute("style")},setValue:function(e,t){""===t?e.removeAttribute("style"):e.setAttribute("style",t)},parseValue:function(e){for(var t={},n=/(\*?[-#\/\*\\\w]+(?:\[[0-9a-z_-]+\])?)\s*:\s*(?:\'(?:\\\'|.)*?\'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+[;\s]*/g,a=n.exec(e);a;)t[" "+a[1]]=a[0].trim?a[0].trim():r.trim(a[0]),a=n.exec(e);return t}}),s=h.extend({update:function(e,t,n){var r=this.name;null==n?null!=t&&(e[r]=!1):e[r]=!0}}),l=h.extend({update:function(e,t,n){var r=this.name;n!==e[r]&&(e[r]=n)}}),u=h.extend({update:function(e,t,n){var r="http://www.w3.org/1999/xlink";null===n?null!==t&&e.removeAttributeNS(r,this.name):e.setAttributeNS(r,this.name,this.value)}}),d=function(e){return"ownerSVGElement"in e},p=function(e,t){var n={FORM:["action"],BODY:["background"],BLOCKQUOTE:["cite"],Q:["cite"],DEL:["cite"],INS:["cite"],OBJECT:["classid","codebase","data","usemap"],APPLET:["codebase"],A:["href"],AREA:["href"],LINK:["href"],BASE:["href"],IMG:["longdesc","src","usemap"],FRAME:["longdesc","src"],IFRAME:["longdesc","src"],HEAD:["profile"],SCRIPT:["src"],INPUT:["src","usemap","formaction"],BUTTON:["formaction"],BASE:["href"],MENUITEM:["icon"],HTML:["manifest"],VIDEO:["poster"]};if("itemid"===t)return!0;var r=n[e]||[];return c.contains(r,t)};if(e.isClient)var v=document.createElement("A");var _=function(t){if(e.isClient)return v.href=t,(v.protocol||"").toLowerCase();throw new Error("getUrlProtocol not implemented on the server")},g=h.prototype.update,y=h.extend({update:function(e,t,n){var r=this,a=arguments;if(f._javascriptUrlsAllowed())g.apply(r,a);else{var i="javascript:"===_(n),o="vbscript:"===_(n);i||o?(f._warn("URLs that use the 'javascript:' or 'vbscript:' protocol are not allowed in URL attribute values. Call Blaze._allowJavascriptUrls() to enable them."),g.apply(r,[e,t,null])):g.apply(r,a)}}});m=function(e,t,n){return"class"===t?d(e)?new i(t,n):new a(t,n):"style"===t?new o(t,n):"OPTION"===e.tagName&&"selected"===t||"INPUT"===e.tagName&&"checked"===t?new s(t,n):"TEXTAREA"!==e.tagName&&"INPUT"!==e.tagName||"value"!==t?"xlink:"===t.substring(0,6)?new u(t.substring(6),n):p(e.tagName,t)?new y(t,n):new h(t,n):new l(t,n)},w=function(e){this.elem=e,this.handlers={}},w.prototype.update=function(e){var t=this.elem,n=this.handlers;for(var r in n)if(!c.has(e,r)){var a=n[r],i=a.value;a.value=null,a.update(t,i,null),delete n[r]}for(var r in e){var a=null,i,o=e[r];c.has(n,r)?(a=n[r],i=a.value):null!==o&&(a=m(t,r,o),n[r]=a,i=null),i!==o&&(a.value=o,a.update(t,i,o),null===o&&delete n[r])}}}.call(this),function(){f._materializeDOM=function(t,n,r,a){var i=a||[];if(e(t,n,r,i),!a)for(;i.length;){var o=i.pop();o()}return n};var e=function(e,n,r,a){if(null!=e){switch(typeof e){case"string":case"boolean":case"number":return void n.push(document.createTextNode(String(e)));case"object":if(e.htmljsType)switch(e.htmljsType){case u.Tag.htmljsType:return void n.push(t(e,r,a));case u.CharRef.htmljsType:return void n.push(document.createTextNode(e.str));case u.Comment.htmljsType:return void n.push(document.createComment(e.sanitizedValue));case u.Raw.htmljsType:for(var i=f._DOMBackend.parseHTML(e.value),o=0;o<i.length;o++)n.push(i[o]);return}else{if(u.isArray(e)){for(var o=e.length-1;o>=0;o--)a.push(c.bind(f._materializeDOM,null,e[o],n,r,a));return}if(e instanceof f.Template&&(e=e.constructView()),e instanceof f.View)return void f._materializeView(e,r,a,n)}}throw new Error("Unexpected object in htmljs: "+e)}},t=function(e,t,r){var a=e.tagName,o;o=(u.isKnownSVGElement(a)||n(e))&&document.createElementNS?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a);var s=e.attrs,l=e.children;if("textarea"===a&&e.children.length&&!(s&&"value"in s)){if("function"==typeof s||u.isArray(s))throw new Error("Can't have reactive children of TEXTAREA node; use the 'value' attribute instead.");s=c.extend({},s||null),s.value=f._expand(l,t),l=[]}if(s){var d=new w(o),p=function(){var e=f._expandAttributes(s,t),n=u.flattenAttributes(e),r={};for(var a in n)r[a]=f._toText(n[a],t,u.TEXTMODE.STRING);d.update(r)},h;h=t?t.autorun(p,void 0,"updater"):i.nonreactive(function(){return i.autorun(function(){i._withCurrentView(t,p)})}),f._DOMBackend.Teardown.onElementTeardown(o,function v(){h.stop()})}if(l.length){var m=[];r.push(function(){for(var e=0;e<m.length;e++){var t=m[e];t instanceof f._DOMRange?t.attach(o):o.appendChild(t)}}),r.push(c.bind(f._materializeDOM,null,l,m,t,r))}return o},n=function(e){return"a"===e.tagName&&e.attrs&&void 0!==e.attrs["xlink:href"]}}.call(this),function(){var t;f._throwNextException=!1,f._reportException=function(n,r){if(f._throwNextException)throw f._throwNextException=!1,n;t||(t=function(){return"undefined"!=typeof e?e._debug:"undefined"!=typeof console&&console.log?console.log:function(){}}),t()(r||"Exception caught in template:",n.stack||n.message||n)},f._wrapCatchingExceptions=function(e,t){return"function"!=typeof e?e:function(){try{return e.apply(this,arguments)}catch(n){f._reportException(n,"Exception in "+t+":")}}}}.call(this),function(){f.View=function(e,t){return this instanceof f.View?("function"==typeof e&&(t=e,e=""),this.name=e,this._render=t,this._callbacks={created:null,rendered:null,destroyed:null},this.isCreated=!1,this._isCreatedForExpansion=!1,this.isRendered=!1,this._isAttached=!1,this.isDestroyed=!1,this._isInRender=!1,this.parentView=null,this._domrange=null,this._hasGeneratedParent=!1,this._scopeBindings={},void(this.renderCount=0)):new f.View(e,t)},f.View.prototype._render=function(){return null},f.View.prototype.onViewCreated=function(e){this._callbacks.created=this._callbacks.created||[],this._callbacks.created.push(e)},f.View.prototype._onViewRendered=function(e){this._callbacks.rendered=this._callbacks.rendered||[],this._callbacks.rendered.push(e)},f.View.prototype.onViewReady=function(e){var t=this,n=function(){i.afterFlush(function(){t.isDestroyed||f._withCurrentView(t,function(){e.call(t)})})};t._onViewRendered(function r(){t.isDestroyed||(t._domrange.attached?n():t._domrange.onAttached(n))})},f.View.prototype.onViewDestroyed=function(e){this._callbacks.destroyed=this._callbacks.destroyed||[],this._callbacks.destroyed.push(e)},f.View.prototype.removeViewDestroyedListener=function(e){var t=this._callbacks.destroyed;if(t){var n=c.lastIndexOf(t,e);-1!==n&&(t[n]=null)}},f.View.prototype.autorun=function(e,t,n){var r=this;if(!r.isCreated)throw new Error("View#autorun must be called from the created callback at the earliest");if(this._isInRender)throw new Error("Can't call View#autorun from inside render(); try calling it from the created or rendered callback");if(i.active)throw new Error("Can't call View#autorun from a Tracker Computation; try calling it from the created or rendered callback");var a=f.Template._currentTemplateInstanceFunc,o=function c(n){return f._withCurrentView(t||r,function(){return f.Template._withTemplateInstanceFunc(a,function(){return e.call(r,n)})})};o.displayName=(r.name||"anonymous")+":"+(n||"anonymous");var s=i.autorun(o),l=function(){s.stop()};return r.onViewDestroyed(l),s.onStop(function(){r.removeViewDestroyedListener(l)}),s},f.View.prototype._errorIfShouldntCallSubscribe=function(){var e=this;if(!e.isCreated)throw new Error("View#subscribe must be called from the created callback at the earliest");if(e._isInRender)throw new Error("Can't call View#subscribe from inside render(); try calling it from the created or rendered callback");if(e.isDestroyed)throw new Error("Can't call View#subscribe from inside the destroyed callback, try calling it inside created or rendered.")},f.View.prototype.subscribe=function(t,n){var r=this;n=n||{},r._errorIfShouldntCallSubscribe();var a;return a=n.connection?n.connection.subscribe.apply(n.connection,t):e.subscribe.apply(e,t),r.onViewDestroyed(function(){a.stop()}),a},f.View.prototype.firstNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.firstNode()},f.View.prototype.lastNode=function(){if(!this._isAttached)throw new Error("View must be attached before accessing its DOM");return this._domrange.lastNode()},f._fireCallbacks=function(e,t){f._withCurrentView(e,function(){i.nonreactive(function n(){for(var n=e._callbacks[t],r=0,a=n&&n.length;a>r;r++)n[r]&&n[r].call(e)})})},f._createView=function(e,t,n){if(e.isCreated)throw new Error("Can't render the same View twice");e.parentView=t||null,e.isCreated=!0,n&&(e._isCreatedForExpansion=!0),f._fireCallbacks(e,"created")};var t=function(e,t){var n=new f._DOMRange(t);e._domrange=n,n.view=e,e.isRendered=!0,f._fireCallbacks(e,"rendered");var r=null;return n.onAttached(function a(t,n){e._isAttached=!0,r=f._DOMBackend.Teardown.onElementTeardown(n,function a(){f._destroyView(e,!0)})}),e.onViewDestroyed(function(){r&&r.stop(),r=null}),n};f._materializeView=function(e,n,r,a){f._createView(e,n);var o,s;return i.nonreactive(function(){e.autorun(function l(t){e.renderCount++,e._isInRender=!0;var n=e._render();e._isInRender=!1,t.firstRun||i.nonreactive(function r(){var t=f._materializeDOM(n,[],e);f._isContentEqual(s,n)||(o.setMembers(t),f._fireCallbacks(e,"rendered"))}),s=n,i.onInvalidate(function(){o&&o.destroyMembers()})},void 0,"materialize");var n;r?(n=[],r.push(function(){o=t(e,n),n=null,a.push(o)}),r.push(c.bind(f._materializeDOM,null,s,n,e,r))):(n=f._materializeDOM(s,[],e),o=t(e,n),n=null)}),r?null:o},f._expandView=function(e,t){f._createView(e,t,!0),e._isInRender=!0;var n=f._withCurrentView(e,function(){return e._render()});e._isInRender=!1;var r=f._expand(n,e);return i.active?i.onInvalidate(function(){f._destroyView(e)}):f._destroyView(e),r},f._HTMLJSExpander=u.TransformingVisitor.extend(),f._HTMLJSExpander.def({visitObject:function(e){return e instanceof f.Template&&(e=e.constructView()),e instanceof f.View?f._expandView(e,this.parentView):u.TransformingVisitor.prototype.visitObject.call(this,e)},visitAttributes:function(e){return"function"==typeof e&&(e=f._withCurrentView(this.parentView,e)),u.TransformingVisitor.prototype.visitAttributes.call(this,e)},visitAttribute:function(e,t,n){return"function"==typeof t&&(t=f._withCurrentView(this.parentView,t)),u.TransformingVisitor.prototype.visitAttribute.call(this,e,t,n)}});var n=function(){var e=f.currentView;return e&&e._isInRender?e:null};f._expand=function(e,t){return t=t||n(),new f._HTMLJSExpander({parentView:t}).visit(e)},f._expandAttributes=function(e,t){return t=t||n(),new f._HTMLJSExpander({parentView:t}).visitAttributes(e)},f._destroyView=function(e,t){e.isDestroyed||(e.isDestroyed=!0,f._fireCallbacks(e,"destroyed"),e._domrange&&e._domrange.destroyMembers(t))},f._destroyNode=function(e){1===e.nodeType&&f._DOMBackend.Teardown.tearDownElement(e)},f._isContentEqual=function(e,t){return e instanceof u.Raw?t instanceof u.Raw&&e.value===t.value:null==e?null==t:e===t&&("number"==typeof e||"boolean"==typeof e||"string"==typeof e)},f.currentView=null,f._withCurrentView=function(e,t){var n=f.currentView;try{return f.currentView=e,t()}finally{f.currentView=n}};var r=function(e){if(null===e)throw new Error("Can't render null");if("undefined"==typeof e)throw new Error("Can't render undefined");if(!(e instanceof f.View||e instanceof f.Template||"function"==typeof e))try{(new u.Visitor).visit(e)}catch(t){throw new Error("Expected Template or View")}},a=function(e){if(r(e),e instanceof f.Template)return e.constructView();if(e instanceof f.View)return e;var t=e;return"function"!=typeof t&&(t=function(){return e}),f.View("render",t)},o=function(e){return r(e),"function"!=typeof e?function(){return e}:e};f.render=function(e,t,r,i){if(t||f._warn("Blaze.render without a parent element is deprecated. You must specify where to insert the rendered content."),r instanceof f.View&&(i=r,r=null),t&&"number"!=typeof t.nodeType)throw new Error("'parentElement' must be a DOM node");if(r&&"number"!=typeof r.nodeType)throw new Error("'nextNode' must be a DOM node");i=i||n();var o=a(e);return f._materializeView(o,i),t&&o._domrange.attach(t,r),o},f.insert=function(e,t,n){if(f._warn("Blaze.insert has been deprecated.  Specify where to insert the rendered content in the call to Blaze.render."),!(e&&e._domrange instanceof f._DOMRange))throw new Error("Expected template rendered with Blaze.render");e._domrange.attach(t,n)},f.renderWithData=function(e,t,n,r,a){return f.render(f._TemplateWith(t,o(e)),n,r,a)},f.remove=function(e){if(!(e&&e._domrange instanceof f._DOMRange))throw new Error("Expected template rendered with Blaze.render");for(;e;){if(!e.isDestroyed){var t=e._domrange;t.attached&&!t.parentRange&&t.detach(),t.destroy()}e=e._hasGeneratedParent&&e.parentView}},f.toHTML=function(e,t){return t=t||n(),u.toHTML(f._expandView(a(e),t))},f.toHTMLWithData=function(e,t,r){return r=r||n(),u.toHTML(f._expandView(f._TemplateWith(t,o(e)),r))},f._toText=function(e,t,r){if("function"==typeof e)throw new Error("Blaze._toText doesn't take a function, just HTMLjs");if(null==t||t instanceof f.View||(r=t,t=null),t=t||n(),!r)throw new Error("textMode required");if(r!==u.TEXTMODE.STRING&&r!==u.TEXTMODE.RCDATA&&r!==u.TEXTMODE.ATTRIBUTE)throw new Error("Unknown textMode: "+r);return u.toText(f._expand(e,t),r)},f.getData=function(e){var t;if(e)if(e instanceof f.View){var n=e;t="with"===n.name?n:f.getView(n,"with")}else{if("number"!=typeof e.nodeType)throw new Error("Expected DOM element or View");if(1!==e.nodeType)throw new Error("Expected DOM element");t=f.getView(e,"with")}else t=f.getView("with");return t?t.dataVar.get():null},f.getElementData=function(e){if(f._warn("Blaze.getElementData has been deprecated.  Use Blaze.getData(element) instead."),1!==e.nodeType)throw new Error("Expected DOM element");return f.getData(e)},f.getView=function(e,t){var n=t;if("string"==typeof e&&(n=e,e=null),e){if(e instanceof f.View)return f._getParentView(e,n);if("number"==typeof e.nodeType)return f._getElementView(e,n);throw new Error("Expected DOM element or View")}return f._getCurrentView(n)},f._getCurrentView=function(e){var t=f.currentView;if(!t)throw new Error("There is no current view");if(e){for(;t&&t.name!==e;)t=t.parentView;return t||null}return t},f._getParentView=function(e,t){var n=e.parentView;if(t)for(;n&&n.name!==t;)n=n.parentView;return n||null},f._getElementView=function(e,t){for(var n=f._DOMRange.forElement(e),r=null;n&&!r;)r=n.view||null,r||(n=n.parentRange?n.parentRange:f._DOMRange.forElement(n.parentElement));if(t){for(;r&&r.name!==t;)r=r.parentView;return r||null}return r},f._addEventMap=function(e,t,n){n=n||null;var r=[];if(!e._domrange)throw new Error("View must have a DOMRange");e._domrange.onAttached(function a(i,o){c.each(t,function(t,a){var s=a.split(/,\s+/);c.each(s,function(a){var s=a.split(/\s+/);if(0!==s.length){var l=s.shift(),c=s.join(" ");r.push(f._EventSupport.listen(o,l,c,function(r){if(!i.containsElement(r.currentTarget))return null;var a=n||this,o=arguments;return f._withCurrentView(e,function(){return t.apply(a,o)})},i,function(e){return e.parentRange}))}})})}),e.onViewDestroyed(function(){c.each(r,function(e){e.stop()}),r.length=0})}}.call(this),function(){f._calculateCondition=function(e){return e instanceof Array&&0===e.length&&(e=!1),!!e},f.With=function(e,t){var n=f.View("with",t);return n.dataVar=new p,n.onViewCreated(function(){"function"==typeof e?n.autorun(function(){n.dataVar.set(e())},n.parentView,"setData"):n.dataVar.set(e)}),n},f._attachBindingsToView=function(e,t){t.onViewCreated(function(){c.each(e,function(e,n){t._scopeBindings[n]=new p,"function"==typeof e?t.autorun(function(){t._scopeBindings[n].set(e())},t.parentView):t._scopeBindings[n].set(e)})})},f.Let=function(e,t){var n=f.View("let",t);return f._attachBindingsToView(e,n),n},f.If=function(e,t,n,r){var a=new p,i=f.View(r?"unless":"if",function(){return a.get()?t():n?n():null});return i.__conditionVar=a,i.onViewCreated(function(){this.autorun(function(){var t=f._calculateCondition(e());a.set(r?!t:t)},this.parentView,"condition")}),i},f.Unless=function(e,t,n){return f.If(e,t,n,!0)},f.Each=function(e,t,n){var r=f.View("each",function(){var e=this.initialSubviews;return this.initialSubviews=null,this._isCreatedForExpansion&&(this.expandedValueDep=new i.Dependency,this.expandedValueDep.depend()),e});r.initialSubviews=[],r.numItems=0,r.inElseMode=!1,r.stopHandle=null,r.contentFunc=t,r.elseFunc=n,r.argVar=new p,r.variableName=null;var a=function(e,t){void 0===t&&(t=r.numItems-1);for(var n=e;t>=n;n++){var a=r._domrange.members[n].view;a._scopeBindings["@index"].set(n)}};return r.onViewCreated(function(){r.autorun(function(){var t=e();c.isObject(t)&&c.has(t,"_sequence")&&(r.variableName=t._variable||null,t=t._sequence),r.argVar.set(t)},r.parentView,"collection"),r.stopHandle=d.observe(function(){return r.argVar.get()},{addedAt:function(e,t,n){i.nonreactive(function(){var e;e=r.variableName?f.View("item",r.contentFunc):f.With(t,r.contentFunc),r.numItems++;var i={};if(i["@index"]=n,r.variableName&&(i[r.variableName]=t),f._attachBindingsToView(i,e),r.expandedValueDep)r.expandedValueDep.changed();else if(r._domrange){r.inElseMode&&(r._domrange.removeMember(0),r.inElseMode=!1);var o=f._materializeView(e,r);r._domrange.addMember(o,n),a(n)}else r.initialSubviews.splice(n,0,e)})},removedAt:function(e,t,n){i.nonreactive(function(){r.numItems--,r.expandedValueDep?r.expandedValueDep.changed():r._domrange?(r._domrange.removeMember(n),a(n),r.elseFunc&&0===r.numItems&&(r.inElseMode=!0,r._domrange.addMember(f._materializeView(f.View("each_else",r.elseFunc),r),0))):r.initialSubviews.splice(n,1)})},changedAt:function(e,t,n,a){i.nonreactive(function(){if(r.expandedValueDep)r.expandedValueDep.changed();else{var e;e=r._domrange?r._domrange.getMember(a).view:r.initialSubviews[a],r.variableName?e._scopeBindings[r.variableName].set(t):e.dataVar.set(t)}})},movedTo:function(e,t,n,o){i.nonreactive(function(){if(r.expandedValueDep)r.expandedValueDep.changed();else if(r._domrange)r._domrange.moveMember(n,o),a(Math.min(n,o),Math.max(n,o));else{var e=r.initialSubviews,t=e[n];e.splice(n,1),e.splice(o,0,t)}})}}),r.elseFunc&&0===r.numItems&&(r.inElseMode=!0,r.initialSubviews[0]=f.View("each_else",r.elseFunc))}),r.onViewDestroyed(function(){r.stopHandle&&r.stopHandle.stop()}),r},f._TemplateWith=function(e,t){var n,r=e;"function"!=typeof e&&(r=function(){return e});var a=function(){var e=null;return n.parentView&&"InOuterTemplateScope"===n.parentView.name&&(e=n.parentView.originalParentView),e?f._withCurrentView(e,r):r()},i=function(){var e=t.call(this);return e instanceof f.Template&&(e=e.constructView()),e instanceof f.View&&(e._hasGeneratedParent=!0),e};return n=f.With(a,i),n.__isTemplateWith=!0,n},f._InOuterTemplateScope=function(e,t){var n=f.View("InOuterTemplateScope",t),r=e.parentView;return r.__isTemplateWith&&(r=r.parentView),n.onViewCreated(function(){this.originalParentView=this.parentView,this.parentView=r,this.__childDoesntStartNewLexicalScope=!0}),n},f.InOuterTemplateScope=f._InOuterTemplateScope}.call(this),function(){f._globalHelpers={},f.registerHelper=function(e,t){f._globalHelpers[e]=t},f.deregisterHelper=function(e){delete f._globalHelpers[e]};var e=function(e,t){return"function"!=typeof e?e:c.bind(e,t)},t=function(e){return"function"==typeof e?function(){var t=f.getData();return null==t&&(t={}),e.apply(t,arguments)}:e};f._OLDSTYLE_HELPER={},f._getTemplateHelper=function(e,r,a){var i=!1;if(e.__helpers.has(r)){var o=e.__helpers.get(r);if(o!==f._OLDSTYLE_HELPER)return null!=o?n(t(o),a):null;i=!0}return r in e&&(i||(e.__helpers.set(r,f._OLDSTYLE_HELPER),e._NOWARN_OLDSTYLE_HELPERS||f._warn("Assigning helper with `"+e.viewName+"."+r+" = ...` is deprecated.  Use `"+e.viewName+".helpers(...)` instead.")),null!=e[r])?n(t(e[r]),a):null};var n=function(e,t){return"function"!=typeof e?e:function(){var n=this,r=arguments;return f.Template._withTemplateInstanceFunc(t,function(){return f._wrapCatchingExceptions(e,"template helper").apply(n,r)})}};f._lexicalBindingLookup=function(e,t){var n=e,r=[];do if(c.has(n._scopeBindings,t)){var a=n._scopeBindings[t];return function(){return a.get()}}while((!n.__startsNewLexicalScope||n.parentView&&n.parentView.__childDoesntStartNewLexicalScope)&&(n=n.parentView));return null},f._getTemplate=function(e,t){return e in f.Template&&f.Template[e]instanceof f.Template?f.Template[e]:null},f._getGlobalHelper=function(e,r){return null!=f._globalHelpers[e]?n(t(f._globalHelpers[e]),r):null;

},f.View.prototype.lookup=function(e,t){var n=this.template,r=t&&t.template,a,i,o,s;if(this.templateInstance&&(o=c.bind(this.templateInstance,this)),/^\./.test(e)){if(!/^(\.)+$/.test(e))throw new Error("id starting with dot must be a series of dots");return f._parentData(e.length-1,!0)}return n&&null!=(a=f._getTemplateHelper(n,e,o))?a:n&&null!=(i=f._lexicalBindingLookup(f.currentView,e))?i:r&&null!=(s=f._getTemplate(e,o))?s:null!=(a=f._getGlobalHelper(e,o))?a:function(){var t=arguments.length>0,n=f.getData(),a=n&&n[e];if(!a){if(r)throw new Error("No such template: "+e);if(t)throw new Error("No such function: "+e);if("@"===e.charAt(0)&&(null===a||void 0===a))throw new Error("Unsupported directive: "+e)}if(!n)return null;if("function"!=typeof a){if(t)throw new Error("Can't call non-function: "+a);return a}return a.apply(n,arguments)}},f._parentData=function(e,t){null==e&&(e=1);for(var n=f.getView("with"),r=0;e>r&&n;r++)n=f.getView(n,"with");return n?t?function(){return n.dataVar.get()}:n.dataVar.get():null},f.View.prototype.lookupTemplate=function(e){return this.lookup(e,{template:!0})}}.call(this),function(){f.Template=function(e,n){if(!(this instanceof f.Template))return new f.Template(e,n);if("function"==typeof e&&(n=e,e=""),"string"!=typeof e)throw new Error("viewName must be a String (or omitted)");if("function"!=typeof n)throw new Error("renderFunction must be a function");this.viewName=e,this.renderFunction=n,this.__helpers=new t,this.__eventMaps=[],this._callbacks={created:[],rendered:[],destroyed:[]}};var e=f.Template,t=function(){};t.prototype.get=function(e){return this[" "+e]},t.prototype.set=function(e,t){this[" "+e]=t},t.prototype.has=function(e){return" "+e in this},f.isTemplate=function(e){return e instanceof f.Template},e.prototype.onCreated=function(e){this._callbacks.created.push(e)},e.prototype.onRendered=function(e){this._callbacks.rendered.push(e)},e.prototype.onDestroyed=function(e){this._callbacks.destroyed.push(e)},e.prototype._getCallbacks=function(e){var t=this,n=t[e]?[t[e]]:[];return n=n.concat(t._callbacks[e])};var n=function(t,n){e._withTemplateInstanceFunc(function(){return n},function(){for(var e=0,r=t.length;r>e;e++)t[e].call(n)})};e.prototype.constructView=function(t,r){var a=this,i=f.View(a.viewName,a.renderFunction);i.template=a,i.templateContentBlock=t?new e("(contentBlock)",t):null,i.templateElseBlock=r?new e("(elseBlock)",r):null,(a.__eventMaps||"object"==typeof a.events)&&i._onViewRendered(function(){1===i.renderCount&&(a.__eventMaps.length||"object"!=typeof a.events||e.prototype.events.call(a,a.events),c.each(a.__eventMaps,function(e){f._addEventMap(i,e,i)}))}),i._templateInstance=new f.TemplateInstance(i),i.templateInstance=function(){var e=i._templateInstance;return e.data=f.getData(i),i._domrange&&!i.isDestroyed?(e.firstNode=i._domrange.firstNode(),e.lastNode=i._domrange.lastNode()):(e.firstNode=null,e.lastNode=null),e};var o=a._getCallbacks("created");i.onViewCreated(function(){n(o,i.templateInstance())});var s=a._getCallbacks("rendered");i.onViewReady(function(){n(s,i.templateInstance())});var l=a._getCallbacks("destroyed");return i.onViewDestroyed(function(){n(l,i.templateInstance())}),i},f.TemplateInstance=function(e){if(!(this instanceof f.TemplateInstance))return new f.TemplateInstance(e);if(!(e instanceof f.View))throw new Error("View required");e._templateInstance=this,this.view=e,this.data=null,this.firstNode=null,this.lastNode=null,this._allSubsReadyDep=new i.Dependency,this._allSubsReady=!1,this._subscriptionHandles={}},f.TemplateInstance.prototype.$=function(e){var t=this.view;if(!t._domrange)throw new Error("Can't use $ on template instance with no DOM");return t._domrange.$(e)},f.TemplateInstance.prototype.findAll=function(e){return Array.prototype.slice.call(this.$(e))},f.TemplateInstance.prototype.find=function(e){var t=this.$(e);return t[0]||null},f.TemplateInstance.prototype.autorun=function(e){return this.view.autorun(e)},f.TemplateInstance.prototype.subscribe=function(){var e=this,t=e._subscriptionHandles,n=c.toArray(arguments),r={};if(n.length){var a=c.last(n),i={onReady:l.Optional(Function),onError:l.Optional(Function),onStop:l.Optional(Function),connection:l.Optional(l.Any)};c.isFunction(a)?r.onReady=n.pop():a&&!c.isEmpty(a)&&l.test(a,i)&&(r=n.pop())}var o,s=r.onStop;r.onStop=function(n){delete t[o.subscriptionId],e._allSubsReady||e._allSubsReadyDep.changed(),s&&s(n)};var u=r.connection,d=c.pick(r,["onReady","onError","onStop"]);return n.push(d),o=e.view.subscribe.call(e.view,n,{connection:u}),c.has(t,o.subscriptionId)||(t[o.subscriptionId]=o,e._allSubsReady&&e._allSubsReadyDep.changed()),o},f.TemplateInstance.prototype.subscriptionsReady=function(){return this._allSubsReadyDep.depend(),this._allSubsReady=c.all(this._subscriptionHandles,function(e){return e.ready()}),this._allSubsReady},e.prototype.helpers=function(e){if(!c.isObject(e))throw new Error("Helpers dictionary has to be an object");for(var t in e)this.__helpers.set(t,e[t])},e._currentTemplateInstanceFunc=null,e._withTemplateInstanceFunc=function(t,n){if("function"!=typeof n)throw new Error("Expected function, got: "+n);var r=e._currentTemplateInstanceFunc;try{return e._currentTemplateInstanceFunc=t,n()}finally{e._currentTemplateInstanceFunc=r}},e.prototype.events=function(t){if(!c.isObject(t))throw new Error("Event map has to be an object");var n=this,r={};for(var a in t)r[a]=function(t,n){return function(t){var r=this,a=f.getData(t.currentTarget);null==a&&(a={});var i=Array.prototype.slice.call(arguments),o=c.bind(r.templateInstance,r);return i.splice(1,0,o()),e._withTemplateInstanceFunc(o,function(){return n.apply(a,i)})}}(a,t[a]);n.__eventMaps.push(r)},e.instance=function(){return e._currentTemplateInstanceFunc&&e._currentTemplateInstanceFunc()},e.currentData=f.getData,e.parentData=f._parentData,e.registerHelper=f.registerHelper,e.deregisterHelper=f.deregisterHelper}.call(this),function(){v=f,f.ReactiveVar=p,v._templateInstance=f.Template.instance,_={},_.registerHelper=f.registerHelper,_._escape=f._escape,_.SafeString=function(e){this.string=e},_.SafeString.prototype.toString=function(){return this.string.toString()}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.blaze={},{Blaze:f,UI:v,Handlebars:_})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.htmljs.HTML,a=Package.tracker.Tracker,u=Package.tracker.Deps,i=Package.blaze.Blaze,o=Package.blaze.UI,c=Package.blaze.Handlebars,l=Package["observe-sequence"].ObserveSequence,f=Package.underscore._,s;(function(){s={};var e=function(e,t){return e===t};s.include=function(t,n,r){if(!t)return null;if("function"!=typeof t){var a=t;if(!i.isTemplate(a))throw new Error("Expected template or null, found: "+a);var u=t.constructView(n,r);return u.__startsNewLexicalScope=!0,u}var o=i.ReactiveVar(null,e),u=i.View("Spacebars.include",function(){var e=o.get();if(null===e)return null;if(!i.isTemplate(e))throw new Error("Expected template or null, found: "+e);return e.constructView(n,r)});return u.__templateVar=o,u.onViewCreated(function(){this.autorun(function(){o.set(t())})}),u.__startsNewLexicalScope=!0,u},s.mustacheImpl=function(e){var t=arguments;if(t.length>1){var n=t[t.length-1];if(n instanceof s.kw){var r={};for(var a in n.hash){var u=n.hash[a];r[a]="function"==typeof u?u():u}t[t.length-1]=s.kw(r)}else n=s.kw(),t=Array.prototype.slice.call(arguments),t.push(n)}return s.call.apply(null,t)},s.mustache=function(e){var t=s.mustacheImpl.apply(null,arguments);return t instanceof s.SafeString?r.Raw(t.toString()):null==t||t===!1?null:String(t)},s.attrMustache=function(e){var t=s.mustacheImpl.apply(null,arguments);if(null==t||""===t)return null;if("object"==typeof t)return t;if("string"==typeof t&&r.isValidAttributeName(t)){var n={};return n[t]="",n}throw new Error("Expected valid attribute name, '', null, or object")},s.dataMustache=function(e){var t=s.mustacheImpl.apply(null,arguments);return t},s.makeRaw=function(e){return null==e?null:e instanceof r.Raw?e:r.Raw(e)},s.call=function(e){if("function"==typeof e){for(var t=[],n=1;n<arguments.length;n++){var r=arguments[n];t[n-1]="function"==typeof r?r():r}return e.apply(null,t)}if(null!=e&&arguments.length>1)throw new Error("Can't call non-function: "+e);return e},s.kw=function(e){return this instanceof s.kw?void(this.hash=e||{}):new s.kw(e)},s.SafeString=function(e){return this instanceof s.SafeString?new c.SafeString(e):new s.SafeString(e)},s.SafeString.prototype=c.SafeString.prototype,s.dot=function(e,t){if(arguments.length>2){var n=[];return n.push(s.dot(e,t)),n.push.apply(n,Array.prototype.slice.call(arguments,2)),s.dot.apply(null,n)}if("function"==typeof e&&(e=e()),!e)return e;var r=e[t];return"function"!=typeof r?r:function(){return r.apply(e,arguments)}},s.With=function(e,t,n){var r=new i.ReactiveVar,u=i.View("Spacebars_with",function(){return i.If(function(){return r.get()},function(){return i.With(function(){return r.get()},t)},n)});return u.onViewCreated(function(){this.autorun(function(){r.set(e()),a.onInvalidate(function(){r.dep.changed()})})}),u},s.TemplateWith=i._TemplateWith}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.spacebars={},{Spacebars:s})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,o=Package.blaze.Blaze,c=Package.blaze.UI,r=Package.blaze.Handlebars,i=Package.spacebars.Spacebars,u=Package.htmljs.HTML,l;(function(){l=o.Template;var e="__proto__ name".split(" ");l.__checkName=function(t){if(t in l||a.contains(e,t)){if(l[t]instanceof l&&"body"!==t)throw new Error("There are multiple templates named '"+t+"'. Each template needs a unique name.");throw new Error("This template name is reserved: "+t)}},l.__define__=function(e,t){l.__checkName(e),l[e]=new l("Template."+e,t),l[e]._NOWARN_OLDSTYLE_HELPERS=!0},l.body=new l("body",function(){var e=this;return a.map(l.body.contentRenderFuncs,function(t){return t.apply(e)})}),l.body.contentRenderFuncs=[],l.body.view=null,l.body.addContent=function(e){l.body.contentRenderFuncs.push(e)},l.body.renderToDocument=function(){if(!l.body.view){var e=o.render(l.body,document.body);l.body.view=e}},c.body=l.body,l.__body__=l.body,l.__body__.__contentParts=l.body.contentViews,l.__body__.__instantiate=l.body.renderToDocument}).call(this),function(){l.__checkName("__dynamic"),l.__dynamic=new l("Template.__dynamic",function(){var e=this;return[o.View("lookup:checkContext",function(){return i.mustache(e.lookup("checkContext"))}),"\n  ",o.If(function(){return i.call(e.lookup("dataContextPresent"))},function(){return["\n    ",i.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})}),"\n  "]},function(){return["\n    \n    ",o._TemplateWith(function(){return{template:i.call(e.lookup("template")),data:i.call(e.lookup(".."))}},function(){return i.include(e.lookupTemplate("__dynamicWithDataContext"),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})})}),"\n  "]})]}),l.__checkName("__dynamicWithDataContext"),l.__dynamicWithDataContext=new l("Template.__dynamicWithDataContext",function(){var e=this;return i.With(function(){return i.dataMustache(e.lookup("chooseTemplate"),e.lookup("template"))},function(){return["\n    \n    ",o._TemplateWith(function(){return i.call(i.dot(e.lookup(".."),"data"))},function(){return i.include(e.lookupTemplate(".."),function(){return o._InOuterTemplateScope(e,function(){return i.include(function(){return i.call(e.templateContentBlock)})})})}),"\n  "]})})}.call(this),function(){var e=o.Template;e.__dynamicWithDataContext.helpers({chooseTemplate:function(t){return o._getTemplate(t,function(){return e.instance()})}}),e.__dynamic.helpers({dataContextPresent:function(){return a.has(this,"data")},checkContext:function(){if(!a.has(this,"template"))throw new Error("Must specify name in the 'template' argument to {{> Template.dynamic}}.");a.each(this,function(e,t){if("template"!==t&&"data"!==t)throw new Error("Invalid argument to {{> Template.dynamic}}: "+t)})}})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.templating={},{Template:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package.blaze.Blaze,a=Package.blaze.UI,r=Package.blaze.Handlebars,i=Package.templating.Template,c=Package["reactive-dict"].ReactiveDict,u=Package.underscore._,l=Package.htmljs.HTML,d=Package.spacebars.Spacebars,g;(function(){(function(){g={}}).call(this),function(){var t=null,n=null,a=new c,r,l=!1;g.setRoot=function(e){g._root=e},g.render=function f(t,n){e.startup(function(){l?g._render(t,n):e.defer(function(){l=!0,g._render(t,n)})})},g.reset=function s(){var e=n;e&&(e._domrange?o.remove(e):e.onViewReady(function(){o.remove(e)}),n=null,t=null,a=new c)},g._regionsToData=function _(e,t){return t=t||{},u.each(e,function(e,n){a.set(n,e),t[n]=g._buildRegionGetter(n)}),t},g._updateRegions=function v(e){var t=!1;u.each(r,function(t,n){void 0===e[n]&&(a.set(n,void 0),delete r[n])}),u.each(e,function(e,n){r&&void 0===r[n]&&(t=!0,r[n]=g._buildRegionGetter(n)),a.set(n,e)}),n&&t&&n.dataVar.dep.changed()},g._getRootDomNode=function k(){var e=g._root;e||(e=$('<div id="__flow-root"></div>'),$("body").append(e),g.setRoot(e));var t=$(e).get(0);if(!t)throw new Error("Root element does not exist");return t},g._buildRegionGetter=function m(e){return function(){return a.get(e)}},g._render=function P(e,a){var c=g._getRootDomNode();t!=e?(g.reset(),r=g._regionsToData(a),n=o._TemplateWith(r,function(){return d.include(i[e])}),o.render(n,c),t=e):g._updateRegions(a)}}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package["meteorhacks:flow-layout"]={},{FlowLayout:g})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["ddp-rate-limiter"]={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,a=Package.random.Random;(function(){var t="_localstorage_test_"+a.id(),o;try{window.localStorage&&(window.localStorage.setItem(t,t),o=window.localStorage.getItem(t),window.localStorage.removeItem(t))}catch(n){}t===o&&(e._localStorage={getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){window.localStorage.setItem(e,t)},removeItem:function(e){window.localStorage.removeItem(e)}}),e._localStorage||(e._debug("You are running a browser with no localStorage or userData support. Logging in from one tab will not cause another tab to be logged in."),e._localStorage={_data:{},setItem:function(e,t){this._data[e]=t},removeItem:function(e){delete this._data[e]},getItem:function(e){var t=this._data[e];return void 0===t?null:t}})}).call(this),"undefined"==typeof Package&&(Package={}),Package.localstorage={}}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,t=Package.meteor.meteorEnv,a=Package.underscore._,r;(function(){r=function(n){var e=this;if(n=n||{},e.nextCallbackId=0,e.callbacks={},e.bindEnvironment=!0,n.bindEnvironment===!1&&(e.bindEnvironment=!1),n.exceptionHandler)e.exceptionHandler=n.exceptionHandler;else if(n.debugPrintExceptions){if(!a.isString(n.debugPrintExceptions))throw new Error("Hook option debugPrintExceptions should be a string");e.exceptionHandler=n.debugPrintExceptions}},a.extend(r.prototype,{register:function(t){var a=this,r=a.exceptionHandler||function(n){throw n};t=a.bindEnvironment?n.bindEnvironment(t,r):e(t,r);var i=a.nextCallbackId++;return a.callbacks[i]=t,{stop:function(){delete a.callbacks[i]}}},each:function(e){var t=this;n._nodeCodeMustBeInFiber();for(var r=a.keys(t.callbacks),i=0;i<r.length;++i){var o=r[i];if(a.has(t.callbacks,o)){var c=t.callbacks[o];if(!e(c))break}}}});var e=function(e,t,r){if(!t||"string"==typeof t){var i=t||"callback of async function";t=function(e){n._debug("Exception in "+i+":",e&&e.stack||e)}}return function(){var n=a.toArray(arguments),i=function(){try{var a=e.apply(r,n)}catch(i){t(i)}return a};return i()}}}).call(this),"undefined"==typeof Package&&(Package={}),function(n,e){for(var t in e)t in n||(n[t]=e[t])}(Package["callback-hook"]={},{Hook:r})}();

!function(){var n=Package.meteor.Meteor,e=Package.meteor.global,o=Package.meteor.meteorEnv,t=Package.underscore._,i=Package.tracker.Tracker,r=Package.tracker.Deps,a=Package.random.Random,c=Package["callback-hook"].Hook,s=Package["ddp-client"].DDP,l=Package.mongo.Mongo,u=Package.modules.meteorInstall,g=Package.modules.Buffer,_=Package.modules.process,p=Package["ecmascript-runtime"].Symbol,h=Package["ecmascript-runtime"].Map,d=Package["ecmascript-runtime"].Set,f=Package["babel-runtime"].meteorBabelHelpers,m=Package.promise.Promise,k,L,E,I=u({node_modules:{meteor:{"accounts-base":{"client_main.js":["./accounts_client.js","./url_client.js","./localstorage_token.js",function(e,o,t){t["export"]({AccountsClient:function(){return i},AccountsTest:function(){return r}});var i;t["import"]("./accounts_client.js",{AccountsClient:function(n){i=n}});var r;t["import"]("./url_client.js",{AccountsTest:function(n){r=n}}),t["import"]("./localstorage_token.js"),k=new i,n.users=k.users}],"accounts_client.js":["babel-runtime/helpers/classCallCheck","babel-runtime/helpers/possibleConstructorReturn","babel-runtime/helpers/inherits","./accounts_common.js",function(e,o,r){r["export"]({AccountsClient:function(){return u}});var a;r["import"]("babel-runtime/helpers/classCallCheck",{"default":function(n){a=n}});var c;r["import"]("babel-runtime/helpers/possibleConstructorReturn",{"default":function(n){c=n}});var s;r["import"]("babel-runtime/helpers/inherits",{"default":function(n){s=n}});var l;r["import"]("./accounts_common.js",{AccountsCommon:function(n){l=n}});var u=function(n){function e(o){a(this,e);var t=c(this,n.call(this,o));return t._loggingIn=!1,t._loggingInDeps=new i.Dependency,t._loginServicesHandle=t.connection.subscribe("meteor.loginServiceConfiguration"),t._pageLoadLoginCallbacks=[],t._pageLoadLoginAttemptInfo=null,t._initUrlMatching(),t._initLocalStorage(),t}return s(e,n),e.prototype.userId=function o(){return this.connection.userId()},e.prototype._setLoggingIn=function t(n){this._loggingIn!==n&&(this._loggingIn=n,this._loggingInDeps.changed())},e.prototype.loggingIn=function r(){return this._loggingInDeps.depend(),this._loggingIn},e.prototype.logout=function l(n){var e=this;e.connection.apply("logout",[],{wait:!0},function(o,t){o?n&&n(o):(e.makeClientLoggedOut(),n&&n())})},e.prototype.logoutOtherClients=function u(n){var e=this;e.connection.apply("getNewToken",[],{wait:!0},function(n,o){n||e._storeLoginToken(e.userId(),o.token,o.tokenExpires)}),e.connection.apply("removeOtherTokens",[],{wait:!0},function(e){n&&n(e)})},e}(l),g=u.prototype;n.loggingIn=function(){return k.loggingIn()},g.callLoginMethod=function(n){var e=this;n=t.extend({methodName:"login",methodArguments:[{}],_suppressLoggingIn:!1},n),t.each(["validateResult","userCallback"],function(e){n[e]||(n[e]=function(){})});var o=t.once(function(o){o?e._onLoginFailureHook.each(function(n){return n(),!0}):e._onLoginHook.each(function(n){return n(),!0}),n.userCallback.apply(this,arguments)}),i=!1,r=function c(n,t){!n&&t&&t.token&&(e.connection.onReconnect=function(){i=!0;var n=e._storedLoginToken();n&&(t={token:n,tokenExpires:e._storedLoginTokenExpires()}),t.tokenExpires||(t.tokenExpires=e._tokenExpiration(new Date)),e._tokenExpiresSoon(t.tokenExpires)?e.makeClientLoggedOut():e.callLoginMethod({methodArguments:[{resume:t.token}],_suppressLoggingIn:!0,userCallback:function r(n){var i=e._storedLoginToken();n&&i&&i===t.token&&e.makeClientLoggedOut(),o(n)}})})},a=function s(t,r){if(!i){if(e._setLoggingIn(!1),t||!r)return t=t||new Error("No result from call to "+n.methodName),void o(t);try{n.validateResult(r)}catch(a){return void o(a)}e.makeClientLoggedIn(r.id,r.token,r.tokenExpires),o()}};n._suppressLoggingIn||e._setLoggingIn(!0),e.connection.apply(n.methodName,n.methodArguments,{wait:!0,onResultReceived:r},a)},g.makeClientLoggedOut=function(){this.connection._userId&&this._onLogoutHook.each(function(n){return n(),!0}),this._unstoreLoginToken(),this.connection.setUserId(null),this.connection.onReconnect=null},g.makeClientLoggedIn=function(n,e,o){this._storeLoginToken(n,e,o),this.connection.setUserId(n)},n.logout=function(n){return k.logout(n)},n.logoutOtherClients=function(n){return k.logoutOtherClients(n)},g.loginServicesConfigured=function(){return this._loginServicesHandle.ready()},g.onPageLoadLogin=function(n){this._pageLoadLoginAttemptInfo?n(this._pageLoadLoginAttemptInfo):this._pageLoadLoginCallbacks.push(n)},g._pageLoadLogin=function(e){return this._pageLoadLoginAttemptInfo?void n._debug("Ignoring unexpected duplicate page load login attempt info"):(t.each(this._pageLoadLoginCallbacks,function(n){n(e)}),this._pageLoadLoginCallbacks=[],void(this._pageLoadLoginAttemptInfo=e))},Package.blaze&&(Package.blaze.Blaze.Template.registerHelper("currentUser",function(){return n.user()}),Package.blaze.Blaze.Template.registerHelper("loggingIn",function(){return n.loggingIn()}))}],"accounts_common.js":["babel-runtime/helpers/classCallCheck",function(e,o,i){i["export"]({AccountsCommon:function(){return a}});var r;i["import"]("babel-runtime/helpers/classCallCheck",{"default":function(n){r=n}});var a=function(){function e(n){r(this,e),this._options={},this.connection=void 0,this._initConnection(n||{}),this.users=new l.Collection("users",{_preventAutopublish:!0,connection:this.connection}),this._onLoginHook=new c({bindEnvironment:!1,debugPrintExceptions:"onLogin callback"}),this._onLoginFailureHook=new c({bindEnvironment:!1,debugPrintExceptions:"onLoginFailure callback"}),this._onLogoutHook=new c({bindEnvironment:!1,debugPrintExceptions:"onLogout callback"})}return e.prototype.userId=function o(){throw new Error("userId method not implemented")},e.prototype.user=function i(){var n=this.userId();return n?this.users.findOne(n):null},e.prototype.config=function a(e){var o=this;if(n.isServer?__meteor_runtime_config__.accountsConfigCalled=!0:__meteor_runtime_config__.accountsConfigCalled||n._debug("Accounts.config was called on the client but not on the server; some configuration options may not take effect."),t.has(e,"oauthSecretKey")){if(n.isClient)throw new Error("The oauthSecretKey option may only be specified on the server");if(!Package["oauth-encryption"])throw new Error("The oauth-encryption package must be loaded to set oauthSecretKey");Package["oauth-encryption"].OAuthEncryption.loadKey(e.oauthSecretKey),e=t.omit(e,"oauthSecretKey")}var i=["sendVerificationEmail","forbidClientAccountCreation","restrictCreationByEmailDomain","loginExpirationInDays","passwordResetTokenExpirationInDays"];t.each(t.keys(e),function(n){if(!t.contains(i,n))throw new Error("Accounts.config: Invalid key: "+n)}),t.each(i,function(n){if(n in e){if(n in o._options)throw new Error("Can't set `"+n+"` more than once");o._options[n]=e[n]}})},e.prototype.onLogin=function u(n){return this._onLoginHook.register(n)},e.prototype.onLoginFailure=function h(n){return this._onLoginFailureHook.register(n)},e.prototype.onLogout=function d(n){return this._onLogoutHook.register(n)},e.prototype._initConnection=function f(e){n.isClient&&(e.connection?this.connection=e.connection:e.ddpUrl?this.connection=s.connect(e.ddpUrl):"undefined"!=typeof __meteor_runtime_config__&&__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL?this.connection=s.connect(__meteor_runtime_config__.ACCOUNTS_CONNECTION_URL):this.connection=n.connection)},e.prototype._getTokenLifetimeMs=function m(){return 24*(this._options.loginExpirationInDays||g)*60*60*1e3},e.prototype._getPasswordResetTokenLifetimeMs=function k(){return 24*(this._options.passwordResetTokenExpirationInDays||_)*60*60*1e3},e.prototype._tokenExpiration=function L(n){return new Date(new Date(n).getTime()+this._getTokenLifetimeMs())},e.prototype._tokenExpiresSoon=function E(n){var e=.1*this._getTokenLifetimeMs(),o=1e3*p;return e>o&&(e=o),new Date>new Date(n)-e},e}(),u=a.prototype;n.userId=function(){return k.userId()},n.user=function(){return k.user()};var g=90,_=3,p=3600;L=6e5,E=1e4,n.startup(function(){var n=Package["service-configuration"].ServiceConfiguration;u.loginServiceConfiguration=n.configurations,u.ConfigError=n.ConfigError});var h="Accounts.LoginCancelledError";u.LoginCancelledError=n.makeErrorType(h,function(n){this.message=n}),u.LoginCancelledError.prototype.name=h,u.LoginCancelledError.numericError=145546287}],"localstorage_token.js":["./accounts_client.js",function(e,o,t){var i;t["import"]("./accounts_client.js",{AccountsClient:function(n){i=n}});var r=i.prototype;n.loginWithToken=function(n,e){return k.loginWithToken(n,e)},r.loginWithToken=function(n,e){this.callLoginMethod({methodArguments:[{resume:n}],userCallback:e})},r._enableAutoLogin=function(){this._autoLoginEnabled=!0,this._pollStoredLoginToken()},r._isolateLoginTokenForTest=function(){this.LOGIN_TOKEN_KEY=this.LOGIN_TOKEN_KEY+a.id(),this.USER_ID_KEY=this.USER_ID_KEY+a.id()},r._storeLoginToken=function(e,o,t){n._localStorage.setItem(this.USER_ID_KEY,e),n._localStorage.setItem(this.LOGIN_TOKEN_KEY,o),t||(t=this._tokenExpiration(new Date)),n._localStorage.setItem(this.LOGIN_TOKEN_EXPIRES_KEY,t),this._lastLoginTokenWhenPolled=o},r._unstoreLoginToken=function(){n._localStorage.removeItem(this.USER_ID_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_KEY),n._localStorage.removeItem(this.LOGIN_TOKEN_EXPIRES_KEY),this._lastLoginTokenWhenPolled=null},r._storedLoginToken=function(){return n._localStorage.getItem(this.LOGIN_TOKEN_KEY)},r._storedLoginTokenExpires=function(){return n._localStorage.getItem(this.LOGIN_TOKEN_EXPIRES_KEY)},r._storedUserId=function(){return n._localStorage.getItem(this.USER_ID_KEY)},r._unstoreLoginTokenIfExpiresSoon=function(){var n=this._storedLoginTokenExpires();n&&this._tokenExpiresSoon(new Date(n))&&this._unstoreLoginToken()},r._initLocalStorage=function(){var e=this;e.LOGIN_TOKEN_KEY="Meteor.loginToken",e.LOGIN_TOKEN_EXPIRES_KEY="Meteor.loginTokenExpires",e.USER_ID_KEY="Meteor.userId";var o=__meteor_runtime_config__.ROOT_URL_PATH_PREFIX;if(o||this.connection!==n.connection){var t=":"+this.connection._stream.rawUrl;o&&(t+=":"+o),e.LOGIN_TOKEN_KEY+=t,e.LOGIN_TOKEN_EXPIRES_KEY+=t,e.USER_ID_KEY+=t}if(e._autoLoginEnabled){e._unstoreLoginTokenIfExpiresSoon();var i=e._storedLoginToken();if(i){var r=e._storedUserId();r&&e.connection.setUserId(r),e.loginWithToken(i,function(o){o&&(n._debug("Error logging in with token: "+o),e.makeClientLoggedOut()),e._pageLoadLogin({type:"resume",allowed:!o,error:o,methodName:"login",methodArguments:[{resume:i}]})})}}e._lastLoginTokenWhenPolled=i,e._pollIntervalTimer&&clearInterval(e._pollIntervalTimer),e._pollIntervalTimer=setInterval(function(){e._pollStoredLoginToken()},3e3)},r._pollStoredLoginToken=function(){var n=this;if(n._autoLoginEnabled){var e=n._storedLoginToken();n._lastLoginTokenWhenPolled!=e&&(e?n.loginWithToken(e,function(e){e&&n.makeClientLoggedOut()}):n.logout()),n._lastLoginTokenWhenPolled=e}}}],"url_client.js":["./accounts_client.js",function(e,o,i){function r(n,e,o){t.each(l,function(t){var i,r=new RegExp("^\\#\\/"+t+"\\/(.*)$"),a=e.match(r);a&&(i=a[1],"reset-password"===t?n._resetPasswordToken=i:"verify-email"===t?n._verifyEmailToken=i:"enroll-account"===t&&(n._enrollAccountToken=i),window.location.hash="",o.call(n,i,t))})}function a(e,o){var t=this;t._autoLoginEnabled=!1,n.startup(function(){t._accountsCallbacks[o]&&t._accountsCallbacks[o](e,function(){t._enableAutoLogin()})})}i["export"]({AccountsTest:function(){return g}});var c;i["import"]("./accounts_client.js",{AccountsClient:function(n){c=n}});var s=c.prototype,l=["reset-password","verify-email","enroll-account"],u=window.location.hash;s._initUrlMatching=function(){this._autoLoginEnabled=!0,this._accountsCallbacks={},this._attemptToMatchHash()},s._attemptToMatchHash=function(){r(this,u,a)};var g={attemptToMatchHash:function _(n,e){return r(k,n,e)}};s.onResetPasswordLink=function(e){this._accountsCallbacks["reset-password"]&&n._debug("Accounts.onResetPasswordLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["reset-password"]=e},s.onEmailVerificationLink=function(e){this._accountsCallbacks["verify-email"]&&n._debug("Accounts.onEmailVerificationLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["verify-email"]=e},s.onEnrollmentLink=function(e){this._accountsCallbacks["enroll-account"]&&n._debug("Accounts.onEnrollmentLink was called more than once. Only one callback added will be executed."),this._accountsCallbacks["enroll-account"]=e}}]}}}},{extensions:[".js",".json"]}),b=I("./node_modules/meteor/accounts-base/client_main.js");"undefined"==typeof Package&&(Package={}),function(n,e){for(var o in e)o in n||(n[o]=e[o])}(Package["accounts-base"]=b,{Accounts:k})}();

!function(){var t=Package.meteor.Meteor,n=Package.meteor.global,e=Package.meteor.meteorEnv,i;(function(){(function(){i=i||function(t,n){var e={},i=e.lib={},r=i.Base=function(){function t(){}return{extend:function(n){t.prototype=this;var e=new t;return n&&e.mixIn(n),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=r.extend({init:function(t,e){t=this.words=t||[],e!=n?this.sigBytes=e:this.sigBytes=4*t.length},toString:function(t){return(t||a).stringify(this)},concat:function(t){var n=this.words,e=t.words,i=this.sigBytes,r=t.sigBytes;if(this.clamp(),i%4)for(var s=0;r>s;s++){var o=e[s>>>2]>>>24-s%4*8&255;n[i+s>>>2]|=o<<24-(i+s)%4*8}else if(e.length>65535)for(var s=0;r>s;s+=4)n[i+s>>>2]=e[s>>>2];else n.push.apply(n,e);return this.sigBytes+=r,this},clamp:function(){var n=this.words,e=this.sigBytes;n[e>>>2]&=4294967295<<32-e%4*8,n.length=t.ceil(e/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(n){for(var e=[],i=0;n>i;i+=4)e.push(4294967296*t.random()|0);return new s.init(e,n)}}),o=e.enc={},a=o.Hex={stringify:function(t){for(var n=t.words,e=t.sigBytes,i=[],r=0;e>r;r++){var s=n[r>>>2]>>>24-r%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(t){for(var n=t.length,e=[],i=0;n>i;i+=2)e[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new s.init(e,n/2)}},c=o.Latin1={stringify:function(t){for(var n=t.words,e=t.sigBytes,i=[],r=0;e>r;r++){var s=n[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(s))}return i.join("")},parse:function(t){for(var n=t.length,e=[],i=0;n>i;i++)e[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new s.init(e,n)}},u=o.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(n){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},f=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(n){var e=this._data,i=e.words,r=e.sigBytes,o=this.blockSize,a=4*o,c=r/a;c=n?t.ceil(c):t.max((0|c)-this._minBufferSize,0);var u=c*o,f=t.min(4*u,r);if(u){for(var h=0;u>h;h+=o)this._doProcessBlock(i,h);var p=i.splice(0,u);e.sigBytes-=f}return new s.init(p,f)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),h=i.Hasher=f.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){t&&this._append(t);var n=this._doFinalize();return n},blockSize:16,_createHelper:function(t){return function(n,e){return new t.init(e).finalize(n)}},_createHmacHelper:function(t){return function(n,e){return new p.HMAC.init(t,e).finalize(n)}}}),p=e.algo={};return e}(Math)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(t,n){for(var e in n)e in t||(t[e]=n[e])}(Package["jparker:crypto-core"]={},{CryptoJS:i})}();

!function(){var r=Package.meteor.Meteor,a=Package.meteor.global,e=Package.meteor.meteorEnv,t=Package["jparker:crypto-core"].CryptoJS;(function(){(function(){!function(r){function a(r,a,e,t,n,o,c){var i=r+(a&e|~a&t)+n+c;return(i<<o|i>>>32-o)+a}function e(r,a,e,t,n,o,c){var i=r+(a&t|e&~t)+n+c;return(i<<o|i>>>32-o)+a}function n(r,a,e,t,n,o,c){var i=r+(a^e^t)+n+c;return(i<<o|i>>>32-o)+a}function o(r,a,e,t,n,o,c){var i=r+(e^(a|~t))+n+c;return(i<<o|i>>>32-o)+a}var c=t,i=c.lib,s=i.WordArray,h=i.Hasher,u=c.algo,f=[];!function(){for(var a=0;64>a;a++)f[a]=4294967296*r.abs(r.sin(a+1))|0}();var l=u.MD5=h.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(r,t){for(var c=0;16>c;c++){var i=t+c,s=r[i];r[i]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}var h=this._hash.words,u=r[t+0],l=r[t+1],v=r[t+2],_=r[t+3],d=r[t+4],g=r[t+5],k=r[t+6],p=r[t+7],y=r[t+8],P=r[t+9],m=r[t+10],H=r[t+11],M=r[t+12],w=r[t+13],B=r[t+14],D=r[t+15],b=h[0],j=h[1],x=h[2],z=h[3];b=a(b,j,x,z,u,7,f[0]),z=a(z,b,j,x,l,12,f[1]),x=a(x,z,b,j,v,17,f[2]),j=a(j,x,z,b,_,22,f[3]),b=a(b,j,x,z,d,7,f[4]),z=a(z,b,j,x,g,12,f[5]),x=a(x,z,b,j,k,17,f[6]),j=a(j,x,z,b,p,22,f[7]),b=a(b,j,x,z,y,7,f[8]),z=a(z,b,j,x,P,12,f[9]),x=a(x,z,b,j,m,17,f[10]),j=a(j,x,z,b,H,22,f[11]),b=a(b,j,x,z,M,7,f[12]),z=a(z,b,j,x,w,12,f[13]),x=a(x,z,b,j,B,17,f[14]),j=a(j,x,z,b,D,22,f[15]),b=e(b,j,x,z,l,5,f[16]),z=e(z,b,j,x,k,9,f[17]),x=e(x,z,b,j,H,14,f[18]),j=e(j,x,z,b,u,20,f[19]),b=e(b,j,x,z,g,5,f[20]),z=e(z,b,j,x,m,9,f[21]),x=e(x,z,b,j,D,14,f[22]),j=e(j,x,z,b,d,20,f[23]),b=e(b,j,x,z,P,5,f[24]),z=e(z,b,j,x,B,9,f[25]),x=e(x,z,b,j,_,14,f[26]),j=e(j,x,z,b,y,20,f[27]),b=e(b,j,x,z,w,5,f[28]),z=e(z,b,j,x,v,9,f[29]),x=e(x,z,b,j,p,14,f[30]),j=e(j,x,z,b,M,20,f[31]),b=n(b,j,x,z,g,4,f[32]),z=n(z,b,j,x,y,11,f[33]),x=n(x,z,b,j,H,16,f[34]),j=n(j,x,z,b,B,23,f[35]),b=n(b,j,x,z,l,4,f[36]),z=n(z,b,j,x,d,11,f[37]),x=n(x,z,b,j,p,16,f[38]),j=n(j,x,z,b,m,23,f[39]),b=n(b,j,x,z,w,4,f[40]),z=n(z,b,j,x,u,11,f[41]),x=n(x,z,b,j,_,16,f[42]),j=n(j,x,z,b,k,23,f[43]),b=n(b,j,x,z,P,4,f[44]),z=n(z,b,j,x,M,11,f[45]),x=n(x,z,b,j,D,16,f[46]),j=n(j,x,z,b,v,23,f[47]),b=o(b,j,x,z,u,6,f[48]),z=o(z,b,j,x,p,10,f[49]),x=o(x,z,b,j,B,15,f[50]),j=o(j,x,z,b,g,21,f[51]),b=o(b,j,x,z,M,6,f[52]),z=o(z,b,j,x,_,10,f[53]),x=o(x,z,b,j,m,15,f[54]),j=o(j,x,z,b,l,21,f[55]),b=o(b,j,x,z,y,6,f[56]),z=o(z,b,j,x,D,10,f[57]),x=o(x,z,b,j,k,15,f[58]),j=o(j,x,z,b,w,21,f[59]),b=o(b,j,x,z,d,6,f[60]),z=o(z,b,j,x,H,10,f[61]),x=o(x,z,b,j,v,15,f[62]),j=o(j,x,z,b,P,21,f[63]),h[0]=h[0]+b|0,h[1]=h[1]+j|0,h[2]=h[2]+x|0,h[3]=h[3]+z|0},_doFinalize:function(){var a=this._data,e=a.words,t=8*this._nDataBytes,n=8*a.sigBytes;e[n>>>5]|=128<<24-n%32;var o=r.floor(t/4294967296),c=t;e[(n+64>>>9<<4)+15]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e[(n+64>>>9<<4)+14]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),a.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,s=i.words,h=0;4>h;h++){var u=s[h];s[h]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return i},clone:function(){var r=h.clone.call(this);return r._hash=this._hash.clone(),r}});c.MD5=h._createHelper(l),c.HmacMD5=h._createHmacHelper(l)}(Math)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["jparker:crypto-md5"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,a=Package.meteor.meteorEnv,r=Package.underscore._,c,t;(function(){c={};var e=function(e){return encodeURIComponent(e).replace(/[!'()]/g,escape).replace(/\*/g,"%2A")};c._encodeParams=function(n){var a=[];return r.each(n,function(n,r){a.length&&a.push("&"),a.push(e(r),"=",e(n))}),a.join("").replace(/%20/g,"+")},t=function(e,n,a,r){var t=e,o=n?n.slice(1):null;if("string"==typeof a&&(o=String(a)),r){o=o||"";var u=c._encodeParams(r);o&&u&&(o+="&"),o+=u}var i=t;return null!==o&&(i+="?"+o),i}}).call(this),function(){c._constructUrl=function(e,n,a){var r=/^(.*?)(\?.*)?$/.exec(e);return t(r[1],r[2],n,a)}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var a in n)a in e||(e[a]=n[a])}(Package.url={},{URL:c})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,a=Package.underscore._,r=Package.url.URL,o=Package.modules.meteorInstall,c=Package.modules.Buffer,s=Package.modules.process,i=Package["ecmascript-runtime"].Symbol,l=Package["ecmascript-runtime"].Map,u=Package["ecmascript-runtime"].Set,p=Package["babel-runtime"].meteorBabelHelpers,f=Package.promise.Promise,d,m,h,g=o({node_modules:{meteor:{http:{"httpcall_common.js":function(){function e(e,t){return e.length>t?e.slice(0,t)+"...":e}var t=500;d=function n(a,r){var o="failed ["+a+"]";if(r){var c="string"==typeof r?r:r.toString();o+=" "+e(c.replace(/\n/g," "),t)}return new Error(o)},m=function r(e){var t=(e.headers["content-type"]||";").split(";")[0];if(a.include(["application/json","text/javascript","application/javascript","application/x-javascript"],t))try{e.data=JSON.parse(e.content)}catch(n){e.data=null}else e.data=null},h={},h.get=function(){return h.call.apply(this,["GET"].concat(a.toArray(arguments)))},h.post=function(){return h.call.apply(this,["POST"].concat(a.toArray(arguments)))},h.put=function(){return h.call.apply(this,["PUT"].concat(a.toArray(arguments)))},h.del=function(){return h.call.apply(this,["DELETE"].concat(a.toArray(arguments)))},h.patch=function(){return h.call.apply(this,["PATCH"].concat(a.toArray(arguments)))}},"httpcall_client.js":function(t,n,o){h.call=function(t,n,o,c){if(c||"function"!=typeof o||(c=o,o=null),o=o||{},"function"!=typeof c)throw new Error("Can't make a blocking HTTP call from the client; callback required.");t=(t||"").toUpperCase();var s={},i=o.content;o.data&&(i=JSON.stringify(o.data),s["Content-Type"]="application/json");var l,u;if(i||"GET"===t||"HEAD"===t?l=o.params:u=o.params,n=r._constructUrl(n,o.query,l),o.followRedirects===!1)throw new Error("Option followRedirects:false not supported on client.");if(a.has(o,"npmRequestOptions"))throw new Error("Option npmRequestOptions not supported on client.");var p,f;if(o.auth){var h=o.auth.indexOf(":");if(0>h)throw new Error('auth option should be of the form "username:password"');p=o.auth.substring(0,h),f=o.auth.substring(h+1)}u&&(i=r._encodeParams(u)),a.extend(s,o.headers||{}),c=function(e){return function(t,n){t&&n&&(t.response=n),e(t,n)}}(c),c=a.once(c);try{var g;if("undefined"!=typeof XMLHttpRequest)g=new XMLHttpRequest;else{if("undefined"==typeof ActiveXObject)throw new Error("Can't create XMLHttpRequest");g=new ActiveXObject("Microsoft.XMLHttp")}g.open(t,n,!0,p,f);for(var y in s)g.setRequestHeader(y,s[y]);var v=!1,P;if(o.timeout&&(P=e.setTimeout(function(){v=!0,g.abort()},o.timeout)),g.onreadystatechange=function(t){if(4===g.readyState)if(P&&e.clearTimeout(P),v)c(new Error("timeout"));else if(g.status){var n={};n.statusCode=g.status,n.content=g.responseText,n.headers={};var r=g.getAllResponseHeaders();""===r&&g.getResponseHeader("content-type")&&(r="content-type: "+g.getResponseHeader("content-type"));var o=r.split(/\r?\n/);a.each(o,function(e){var t=/^(.*?):(?:\s+)(.*)$/.exec(e);t&&3===t.length&&(n.headers[t[1].toLowerCase()]=t[2])}),m(n);var s=null;n.statusCode>=400&&(s=d(n.statusCode,n.content)),c(s,n)}else c(new Error("network"))},o.beforeSend){var k=a.once(o.beforeSend);if(!1===k.call(null,g,o))return g.abort()}g.send(i)}catch(w){c(w)}}},"deprecated.js":function(){e.http=h}}}}},{extensions:[".js",".json"]});g("./node_modules/meteor/http/httpcall_common.js"),g("./node_modules/meteor/http/httpcall_client.js"),g("./node_modules/meteor/http/deprecated.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.http={},{HTTP:h})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["fami:aliyun-sdk"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv,r=Package["jparker:crypto-core"].CryptoJS;(function(){(function(){!function(){var e=r,a=e.lib,t=a.WordArray,o=a.Hasher,c=e.algo,n=[],s=c.SHA1=o.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,a){for(var t=this._hash.words,r=t[0],o=t[1],c=t[2],s=t[3],i=t[4],h=0;80>h;h++){if(16>h)n[h]=0|e[a+h];else{var l=n[h-3]^n[h-8]^n[h-14]^n[h-16];n[h]=l<<1|l>>>31}var f=(r<<5|r>>>27)+i+n[h];f+=20>h?(o&c|~o&s)+1518500249:40>h?(o^c^s)+1859775393:60>h?(o&c|o&s|c&s)-1894007588:(o^c^s)-899497514,i=s,s=c,c=o<<30|o>>>2,o=r,r=f}t[0]=t[0]+r|0,t[1]=t[1]+o|0,t[2]=t[2]+c|0,t[3]=t[3]+s|0,t[4]=t[4]+i|0},_doFinalize:function(){var e=this._data,a=e.words,t=8*this._nDataBytes,r=8*e.sigBytes;return a[r>>>5]|=128<<24-r%32,a[(r+64>>>9<<4)+14]=Math.floor(t/4294967296),a[(r+64>>>9<<4)+15]=t,e.sigBytes=4*a.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=o._createHelper(s),e.HmacSHA1=o._createHmacHelper(s)}()}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["jparker:crypto-sha1"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv;(function(){!function(){"use strict";function e(e){e.fn.swiper=function(a){var r;return e(this).each(function(){var e=new t(this,a);r||(r=e)}),r}}var a,t=function(e,i){function s(e){return Math.floor(e)}function n(){b.autoplayTimeoutId=setTimeout(function(){b.params.loop?(b.fixLoop(),b._slideNext(),b.emit("onAutoplay",b)):b.isEnd?i.autoplayStopOnLast?b.stopAutoplay():(b._slideTo(0),b.emit("onAutoplay",b)):(b._slideNext(),b.emit("onAutoplay",b))},b.params.autoplay)}function o(e,t){var r=a(e.target);if(!r.is(t))if("string"==typeof t)r=r.parents(t);else if(t.nodeType){var i;return r.parents().each(function(e,a){a===t&&(i=t)}),i?t:void 0}return 0===r.length?void 0:r[0]}function l(e,a){a=a||{};var t=window.MutationObserver||window.WebkitMutationObserver,r=new t(function(e){e.forEach(function(e){b.onResize(!0),b.emit("onObserverUpdate",b,e)})});r.observe(e,{attributes:"undefined"==typeof a.attributes?!0:a.attributes,childList:"undefined"==typeof a.childList?!0:a.childList,characterData:"undefined"==typeof a.characterData?!0:a.characterData}),b.observers.push(r)}function p(e){e.originalEvent&&(e=e.originalEvent);var a=e.keyCode||e.charCode;if(!b.params.allowSwipeToNext&&(b.isHorizontal()&&39===a||!b.isHorizontal()&&40===a))return!1;if(!b.params.allowSwipeToPrev&&(b.isHorizontal()&&37===a||!b.isHorizontal()&&38===a))return!1;if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===a||39===a||38===a||40===a){var t=!1;if(b.container.parents(".swiper-slide").length>0&&0===b.container.parents(".swiper-slide-active").length)return;var r={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,s=window.innerHeight,n=b.container.offset();b.rtl&&(n.left=n.left-b.container[0].scrollLeft);for(var o=[[n.left,n.top],[n.left+b.width,n.top],[n.left,n.top+b.height],[n.left+b.width,n.top+b.height]],l=0;l<o.length;l++){var p=o[l];p[0]>=r.left&&p[0]<=r.left+i&&p[1]>=r.top&&p[1]<=r.top+s&&(t=!0)}if(!t)return}b.isHorizontal()?((37===a||39===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===a&&!b.rtl||37===a&&b.rtl)&&b.slideNext(),(37===a&&!b.rtl||39===a&&b.rtl)&&b.slidePrev()):((38===a||40===a)&&(e.preventDefault?e.preventDefault():e.returnValue=!1),40===a&&b.slideNext(),38===a&&b.slidePrev())}}function d(e){e.originalEvent&&(e=e.originalEvent);var a=b.mousewheel.event,t=0,r=b.rtl?-1:1;if("mousewheel"===a)if(b.params.mousewheelForceToAxis)if(b.isHorizontal()){if(!(Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)))return;t=e.wheelDeltaX*r}else{if(!(Math.abs(e.wheelDeltaY)>Math.abs(e.wheelDeltaX)))return;t=e.wheelDeltaY}else t=Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)?-e.wheelDeltaX*r:-e.wheelDeltaY;else if("DOMMouseScroll"===a)t=-e.detail;else if("wheel"===a)if(b.params.mousewheelForceToAxis)if(b.isHorizontal()){if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY)))return;t=-e.deltaX*r}else{if(!(Math.abs(e.deltaY)>Math.abs(e.deltaX)))return;t=-e.deltaY}else t=Math.abs(e.deltaX)>Math.abs(e.deltaY)?-e.deltaX*r:-e.deltaY;if(0!==t){if(b.params.mousewheelInvert&&(t=-t),b.params.freeMode){var i=b.getWrapperTranslate()+t*b.params.mousewheelSensitivity,s=b.isBeginning,n=b.isEnd;if(i>=b.minTranslate()&&(i=b.minTranslate()),i<=b.maxTranslate()&&(i=b.maxTranslate()),b.setWrapperTransition(0),b.setWrapperTranslate(i),b.updateProgress(),b.updateActiveIndex(),(!s&&b.isBeginning||!n&&b.isEnd)&&b.updateClasses(),b.params.freeModeSticky?(clearTimeout(b.mousewheel.timeout),b.mousewheel.timeout=setTimeout(function(){b.slideReset()},300)):b.params.lazyLoading&&b.lazy&&b.lazy.load(),0===i||i===b.maxTranslate())return}else{if((new window.Date).getTime()-b.mousewheel.lastScrollTime>60)if(0>t)if(b.isEnd&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slideNext();else if(b.isBeginning&&!b.params.loop||b.animating){if(b.params.mousewheelReleaseOnEdges)return!0}else b.slidePrev();b.mousewheel.lastScrollTime=(new window.Date).getTime()}return b.params.autoplay&&b.stopAutoplay(),e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function u(e,t){e=a(e);var r,i,s,n=b.rtl?-1:1;r=e.attr("data-swiper-parallax")||"0",i=e.attr("data-swiper-parallax-x"),s=e.attr("data-swiper-parallax-y"),i||s?(i=i||"0",s=s||"0"):b.isHorizontal()?(i=r,s="0"):(s=r,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*t*n+"%":i*t*n+"px",s=s.indexOf("%")>=0?parseInt(s,10)*t+"%":s*t+"px",e.transform("translate3d("+i+", "+s+",0px)")}function c(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t))return new t(e,i);var m={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94},fade:{crossFade:!1},parallax:!1,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,hashnav:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},h=i&&i.virtualTranslate;i=i||{};var f={};for(var g in i)if("object"!=typeof i[g]||null===i[g]||(i[g].nodeType||i[g]===window||i[g]===document||"undefined"!=typeof r&&i[g]instanceof r||"undefined"!=typeof jQuery&&i[g]instanceof jQuery))f[g]=i[g];else{f[g]={};for(var v in i[g])f[g][v]=i[g][v]}for(var w in m)if("undefined"==typeof i[w])i[w]=m[w];else if("object"==typeof i[w])for(var y in m[w])"undefined"==typeof i[w][y]&&(i[w][y]=m[w][y]);var b=this;if(b.params=i,b.originalParams=f,b.classNames=[],"undefined"!=typeof a&&"undefined"!=typeof r&&(a=r),("undefined"!=typeof a||(a="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r))&&(b.$=a,b.currentBreakpoint=void 0,b.getActiveBreakpoint=function(){if(!b.params.breakpoints)return!1;var e=!1,a=[],t;for(t in b.params.breakpoints)b.params.breakpoints.hasOwnProperty(t)&&a.push(t);a.sort(function(e,a){return parseInt(e,10)>parseInt(a,10)});for(var r=0;r<a.length;r++)t=a[r],t>=window.innerWidth&&!e&&(e=t);return e||"max"},b.setBreakpoint=function(){var e=b.getActiveBreakpoint();if(e&&b.currentBreakpoint!==e){var a=e in b.params.breakpoints?b.params.breakpoints[e]:b.originalParams,t=b.params.loop&&a.slidesPerView!==b.params.slidesPerView;for(var r in a)b.params[r]=a[r];b.currentBreakpoint=e,t&&b.destroyLoop&&b.reLoop(!0)}},b.params.breakpoints&&b.setBreakpoint(),b.container=a(e),0!==b.container.length)){if(b.container.length>1){var x=[];return b.container.each(function(){var e=this;x.push(new t(this,i))}),x}b.container[0].swiper=b,b.container.data("swiper",b),b.classNames.push("swiper-container-"+b.params.direction),b.params.freeMode&&b.classNames.push("swiper-container-free-mode"),b.support.flexbox||(b.classNames.push("swiper-container-no-flexbox"),b.params.slidesPerColumn=1),b.params.autoHeight&&b.classNames.push("swiper-container-autoheight"),(b.params.parallax||b.params.watchSlidesVisibility)&&(b.params.watchSlidesProgress=!0),["cube","coverflow","flip"].indexOf(b.params.effect)>=0&&(b.support.transforms3d?(b.params.watchSlidesProgress=!0,b.classNames.push("swiper-container-3d")):b.params.effect="slide"),"slide"!==b.params.effect&&b.classNames.push("swiper-container-"+b.params.effect),"cube"===b.params.effect&&(b.params.resistanceRatio=0,b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.centeredSlides=!1,b.params.spaceBetween=0,b.params.virtualTranslate=!0,b.params.setWrapperSize=!1),("fade"===b.params.effect||"flip"===b.params.effect)&&(b.params.slidesPerView=1,b.params.slidesPerColumn=1,b.params.slidesPerGroup=1,b.params.watchSlidesProgress=!0,b.params.spaceBetween=0,b.params.setWrapperSize=!1,"undefined"==typeof h&&(b.params.virtualTranslate=!0)),b.params.grabCursor&&b.support.touch&&(b.params.grabCursor=!1),b.wrapper=b.container.children("."+b.params.wrapperClass),b.params.pagination&&(b.paginationContainer=a(b.params.pagination),b.params.uniqueNavElements&&"string"==typeof b.params.pagination&&b.paginationContainer.length>1&&1===b.container.find(b.params.pagination).length&&(b.paginationContainer=b.container.find(b.params.pagination)),"bullets"===b.params.paginationType&&b.params.paginationClickable?b.paginationContainer.addClass("swiper-pagination-clickable"):b.params.paginationClickable=!1,b.paginationContainer.addClass("swiper-pagination-"+b.params.paginationType)),(b.params.nextButton||b.params.prevButton)&&(b.params.nextButton&&(b.nextButton=a(b.params.nextButton),b.params.uniqueNavElements&&"string"==typeof b.params.nextButton&&b.nextButton.length>1&&1===b.container.find(b.params.nextButton).length&&(b.nextButton=b.container.find(b.params.nextButton))),b.params.prevButton&&(b.prevButton=a(b.params.prevButton),b.params.uniqueNavElements&&"string"==typeof b.params.prevButton&&b.prevButton.length>1&&1===b.container.find(b.params.prevButton).length&&(b.prevButton=b.container.find(b.params.prevButton)))),b.isHorizontal=function(){return"horizontal"===b.params.direction},b.rtl=b.isHorizontal()&&("rtl"===b.container[0].dir.toLowerCase()||"rtl"===b.container.css("direction")),b.rtl&&b.classNames.push("swiper-container-rtl"),b.rtl&&(b.wrongRTL="-webkit-box"===b.wrapper.css("display")),b.params.slidesPerColumn>1&&b.classNames.push("swiper-container-multirow"),b.device.android&&b.classNames.push("swiper-container-android"),b.container.addClass(b.classNames.join(" ")),b.translate=0,b.progress=0,b.velocity=0,b.lockSwipeToNext=function(){b.params.allowSwipeToNext=!1},b.lockSwipeToPrev=function(){b.params.allowSwipeToPrev=!1},b.lockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!1},b.unlockSwipeToNext=function(){b.params.allowSwipeToNext=!0},b.unlockSwipeToPrev=function(){b.params.allowSwipeToPrev=!0},b.unlockSwipes=function(){b.params.allowSwipeToNext=b.params.allowSwipeToPrev=!0},b.params.grabCursor&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grab",b.container[0].style.cursor="-moz-grab",b.container[0].style.cursor="grab"),b.imagesToLoad=[],b.imagesLoaded=0,b.loadImage=function(e,a,t,r,i){function s(){i&&i()}var n;e.complete&&r?s():a?(n=new window.Image,n.onload=s,n.onerror=s,t&&(n.srcset=t),a&&(n.src=a)):s()},b.preloadImages=function(){function e(){"undefined"!=typeof b&&null!==b&&(void 0!==b.imagesLoaded&&b.imagesLoaded++,b.imagesLoaded===b.imagesToLoad.length&&(b.params.updateOnImagesReady&&b.update(),b.emit("onImagesReady",b)))}b.imagesToLoad=b.container.find("img");for(var a=0;a<b.imagesToLoad.length;a++)b.loadImage(b.imagesToLoad[a],b.imagesToLoad[a].currentSrc||b.imagesToLoad[a].getAttribute("src"),b.imagesToLoad[a].srcset||b.imagesToLoad[a].getAttribute("srcset"),!0,e)},b.autoplayTimeoutId=void 0,b.autoplaying=!1,b.autoplayPaused=!1,b.startAutoplay=function(){return"undefined"!=typeof b.autoplayTimeoutId?!1:b.params.autoplay?b.autoplaying?!1:(b.autoplaying=!0,b.emit("onAutoplayStart",b),void n()):!1},b.stopAutoplay=function(e){b.autoplayTimeoutId&&(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplaying=!1,b.autoplayTimeoutId=void 0,b.emit("onAutoplayStop",b))},b.pauseAutoplay=function(e){b.autoplayPaused||(b.autoplayTimeoutId&&clearTimeout(b.autoplayTimeoutId),b.autoplayPaused=!0,0===e?(b.autoplayPaused=!1,n()):b.wrapper.transitionEnd(function(){b&&(b.autoplayPaused=!1,b.autoplaying?n():b.stopAutoplay())}))},b.minTranslate=function(){return-b.snapGrid[0]},b.maxTranslate=function(){return-b.snapGrid[b.snapGrid.length-1]},b.updateAutoHeight=function(){var e=b.slides.eq(b.activeIndex)[0];if("undefined"!=typeof e){var a=e.offsetHeight;a&&b.wrapper.css("height",a+"px")}},b.updateContainerSize=function(){var e,a;e="undefined"!=typeof b.params.width?b.params.width:b.container[0].clientWidth,a="undefined"!=typeof b.params.height?b.params.height:b.container[0].clientHeight,0===e&&b.isHorizontal()||0===a&&!b.isHorizontal()||(e=e-parseInt(b.container.css("padding-left"),10)-parseInt(b.container.css("padding-right"),10),a=a-parseInt(b.container.css("padding-top"),10)-parseInt(b.container.css("padding-bottom"),10),b.width=e,b.height=a,b.size=b.isHorizontal()?b.width:b.height)},b.updateSlidesSize=function(){b.slides=b.wrapper.children("."+b.params.slideClass),b.snapGrid=[],b.slidesGrid=[],b.slidesSizesGrid=[];var e=b.params.spaceBetween,a=-b.params.slidesOffsetBefore,t,r=0,i=0;if("undefined"!=typeof b.size){"string"==typeof e&&e.indexOf("%")>=0&&(e=parseFloat(e.replace("%",""))/100*b.size),b.virtualSize=-e,b.slides.css(b.rtl?{marginLeft:"",marginTop:""}:{marginRight:"",marginBottom:""});var n;b.params.slidesPerColumn>1&&(n=Math.floor(b.slides.length/b.params.slidesPerColumn)===b.slides.length/b.params.slidesPerColumn?b.slides.length:Math.ceil(b.slides.length/b.params.slidesPerColumn)*b.params.slidesPerColumn,"auto"!==b.params.slidesPerView&&"row"===b.params.slidesPerColumnFill&&(n=Math.max(n,b.params.slidesPerView*b.params.slidesPerColumn)));var o,l=b.params.slidesPerColumn,p=n/l,d=p-(b.params.slidesPerColumn*p-b.slides.length);for(t=0;t<b.slides.length;t++){o=0;var u=b.slides.eq(t);if(b.params.slidesPerColumn>1){var c,m,h;"column"===b.params.slidesPerColumnFill?(m=Math.floor(t/l),h=t-m*l,(m>d||m===d&&h===l-1)&&++h>=l&&(h=0,m++),c=m+h*n/l,u.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(h=Math.floor(t/p),m=t-h*p),u.css({"margin-top":0!==h&&b.params.spaceBetween&&b.params.spaceBetween+"px"}).attr("data-swiper-column",m).attr("data-swiper-row",h)}"none"!==u.css("display")&&("auto"===b.params.slidesPerView?(o=b.isHorizontal()?u.outerWidth(!0):u.outerHeight(!0),b.params.roundLengths&&(o=s(o))):(o=(b.size-(b.params.slidesPerView-1)*e)/b.params.slidesPerView,b.params.roundLengths&&(o=s(o)),b.isHorizontal()?b.slides[t].style.width=o+"px":b.slides[t].style.height=o+"px"),b.slides[t].swiperSlideSize=o,b.slidesSizesGrid.push(o),b.params.centeredSlides?(a=a+o/2+r/2+e,0===t&&(a=a-b.size/2-e),Math.abs(a)<.001&&(a=0),i%b.params.slidesPerGroup===0&&b.snapGrid.push(a),b.slidesGrid.push(a)):(i%b.params.slidesPerGroup===0&&b.snapGrid.push(a),b.slidesGrid.push(a),a=a+o+e),b.virtualSize+=o+e,r=o,i++)}b.virtualSize=Math.max(b.virtualSize,b.size)+b.params.slidesOffsetAfter;var f;if(b.rtl&&b.wrongRTL&&("slide"===b.params.effect||"coverflow"===b.params.effect)&&b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),(!b.support.flexbox||b.params.setWrapperSize)&&b.wrapper.css(b.isHorizontal()?{width:b.virtualSize+b.params.spaceBetween+"px"}:{height:b.virtualSize+b.params.spaceBetween+"px"}),b.params.slidesPerColumn>1&&(b.virtualSize=(o+b.params.spaceBetween)*n,b.virtualSize=Math.ceil(b.virtualSize/b.params.slidesPerColumn)-b.params.spaceBetween,b.wrapper.css({width:b.virtualSize+b.params.spaceBetween+"px"}),b.params.centeredSlides)){for(f=[],t=0;t<b.snapGrid.length;t++)b.snapGrid[t]<b.virtualSize+b.snapGrid[0]&&f.push(b.snapGrid[t]);b.snapGrid=f}if(!b.params.centeredSlides){for(f=[],t=0;t<b.snapGrid.length;t++)b.snapGrid[t]<=b.virtualSize-b.size&&f.push(b.snapGrid[t]);b.snapGrid=f,Math.floor(b.virtualSize-b.size)-Math.floor(b.snapGrid[b.snapGrid.length-1])>1&&b.snapGrid.push(b.virtualSize-b.size)}0===b.snapGrid.length&&(b.snapGrid=[0]),0!==b.params.spaceBetween&&b.slides.css(b.isHorizontal()?b.rtl?{marginLeft:e+"px"}:{marginRight:e+"px"}:{marginBottom:e+"px"}),b.params.watchSlidesProgress&&b.updateSlidesOffset()}},b.updateSlidesOffset=function(){for(var e=0;e<b.slides.length;e++)b.slides[e].swiperSlideOffset=b.isHorizontal()?b.slides[e].offsetLeft:b.slides[e].offsetTop},b.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=b.translate||0),0!==b.slides.length){"undefined"==typeof b.slides[0].swiperSlideOffset&&b.updateSlidesOffset();var a=-e;b.rtl&&(a=e),b.slides.removeClass(b.params.slideVisibleClass);for(var t=0;t<b.slides.length;t++){var r=b.slides[t],i=(a-r.swiperSlideOffset)/(r.swiperSlideSize+b.params.spaceBetween);if(b.params.watchSlidesVisibility){var s=-(a-r.swiperSlideOffset),n=s+b.slidesSizesGrid[t],o=s>=0&&s<b.size||n>0&&n<=b.size||0>=s&&n>=b.size;o&&b.slides.eq(t).addClass(b.params.slideVisibleClass)}r.progress=b.rtl?-i:i}}},b.updateProgress=function(e){"undefined"==typeof e&&(e=b.translate||0);var a=b.maxTranslate()-b.minTranslate(),t=b.isBeginning,r=b.isEnd;0===a?(b.progress=0,b.isBeginning=b.isEnd=!0):(b.progress=(e-b.minTranslate())/a,b.isBeginning=b.progress<=0,b.isEnd=b.progress>=1),b.isBeginning&&!t&&b.emit("onReachBeginning",b),b.isEnd&&!r&&b.emit("onReachEnd",b),b.params.watchSlidesProgress&&b.updateSlidesProgress(e),b.emit("onProgress",b,b.progress)},b.updateActiveIndex=function(){var e=b.rtl?b.translate:-b.translate,a,t,r;for(t=0;t<b.slidesGrid.length;t++)"undefined"!=typeof b.slidesGrid[t+1]?e>=b.slidesGrid[t]&&e<b.slidesGrid[t+1]-(b.slidesGrid[t+1]-b.slidesGrid[t])/2?a=t:e>=b.slidesGrid[t]&&e<b.slidesGrid[t+1]&&(a=t+1):e>=b.slidesGrid[t]&&(a=t);(0>a||"undefined"==typeof a)&&(a=0),r=Math.floor(a/b.params.slidesPerGroup),r>=b.snapGrid.length&&(r=b.snapGrid.length-1),a!==b.activeIndex&&(b.snapIndex=r,b.previousIndex=b.activeIndex,b.activeIndex=a,b.updateClasses())},b.updateClasses=function(){b.slides.removeClass(b.params.slideActiveClass+" "+b.params.slideNextClass+" "+b.params.slidePrevClass);var e=b.slides.eq(b.activeIndex);e.addClass(b.params.slideActiveClass);var t=e.next("."+b.params.slideClass).addClass(b.params.slideNextClass);b.params.loop&&0===t.length&&b.slides.eq(0).addClass(b.params.slideNextClass);var r=e.prev("."+b.params.slideClass).addClass(b.params.slidePrevClass);if(b.params.loop&&0===r.length&&b.slides.eq(-1).addClass(b.params.slidePrevClass),b.paginationContainer&&b.paginationContainer.length>0){var i,s=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length;if(b.params.loop?(i=Math.ceil((b.activeIndex-b.loopedSlides)/b.params.slidesPerGroup),i>b.slides.length-1-2*b.loopedSlides&&(i-=b.slides.length-2*b.loopedSlides),i>s-1&&(i-=s),0>i&&"bullets"!==b.params.paginationType&&(i=s+i)):i="undefined"!=typeof b.snapIndex?b.snapIndex:b.activeIndex||0,"bullets"===b.params.paginationType&&b.bullets&&b.bullets.length>0&&(b.bullets.removeClass(b.params.bulletActiveClass),b.paginationContainer.length>1?b.bullets.each(function(){a(this).index()===i&&a(this).addClass(b.params.bulletActiveClass)}):b.bullets.eq(i).addClass(b.params.bulletActiveClass)),"fraction"===b.params.paginationType&&(b.paginationContainer.find("."+b.params.paginationCurrentClass).text(i+1),b.paginationContainer.find("."+b.params.paginationTotalClass).text(s)),"progress"===b.params.paginationType){var n=(i+1)/s,o=n,l=1;b.isHorizontal()||(l=n,o=1),b.paginationContainer.find("."+b.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+o+") scaleY("+l+")").transition(b.params.speed)}"custom"===b.params.paginationType&&b.params.paginationCustomRender&&(b.paginationContainer.html(b.params.paginationCustomRender(b,i+1,s)),b.emit("onPaginationRendered",b,b.paginationContainer[0]))}b.params.loop||(b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.isBeginning?(b.prevButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.prevButton)):(b.prevButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.prevButton))),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.isEnd?(b.nextButton.addClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.disable(b.nextButton)):(b.nextButton.removeClass(b.params.buttonDisabledClass),b.params.a11y&&b.a11y&&b.a11y.enable(b.nextButton))))},b.updatePagination=function(){if(b.params.pagination&&b.paginationContainer&&b.paginationContainer.length>0){var e="";if("bullets"===b.params.paginationType){for(var a=b.params.loop?Math.ceil((b.slides.length-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length,t=0;a>t;t++)e+=b.params.paginationBulletRender?b.params.paginationBulletRender(t,b.params.bulletClass):"<"+b.params.paginationElement+' class="'+b.params.bulletClass+'"></'+b.params.paginationElement+">";b.paginationContainer.html(e),b.bullets=b.paginationContainer.find("."+b.params.bulletClass),b.params.paginationClickable&&b.params.a11y&&b.a11y&&b.a11y.initPagination()}"fraction"===b.params.paginationType&&(e=b.params.paginationFractionRender?b.params.paginationFractionRender(b,b.params.paginationCurrentClass,b.params.paginationTotalClass):'<span class="'+b.params.paginationCurrentClass+'"></span> / <span class="'+b.params.paginationTotalClass+'"></span>',b.paginationContainer.html(e)),"progress"===b.params.paginationType&&(e=b.params.paginationProgressRender?b.params.paginationProgressRender(b,b.params.paginationProgressbarClass):'<span class="'+b.params.paginationProgressbarClass+'"></span>',b.paginationContainer.html(e)),"custom"!==b.params.paginationType&&b.emit("onPaginationRendered",b,b.paginationContainer[0])}},b.update=function(e){function a(){r=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate()),b.setWrapperTranslate(r),b.updateActiveIndex(),b.updateClasses()}if(b.updateContainerSize(),b.updateSlidesSize(),b.updateProgress(),b.updatePagination(),b.updateClasses(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),e){var t,r;b.controller&&b.controller.spline&&(b.controller.spline=void 0),b.params.freeMode?(a(),b.params.autoHeight&&b.updateAutoHeight()):(t=("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0),t||a())}else b.params.autoHeight&&b.updateAutoHeight()},b.onResize=function(e){b.params.breakpoints&&b.setBreakpoint();var a=b.params.allowSwipeToPrev,t=b.params.allowSwipeToNext;b.params.allowSwipeToPrev=b.params.allowSwipeToNext=!0,b.updateContainerSize(),b.updateSlidesSize(),("auto"===b.params.slidesPerView||b.params.freeMode||e)&&b.updatePagination(),b.params.scrollbar&&b.scrollbar&&b.scrollbar.set(),b.controller&&b.controller.spline&&(b.controller.spline=void 0);var r=!1;if(b.params.freeMode){var i=Math.min(Math.max(b.translate,b.maxTranslate()),b.minTranslate());b.setWrapperTranslate(i),b.updateActiveIndex(),b.updateClasses(),b.params.autoHeight&&b.updateAutoHeight()}else b.updateClasses(),r=("auto"===b.params.slidesPerView||b.params.slidesPerView>1)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0);b.params.lazyLoading&&!r&&b.lazy&&b.lazy.load(),b.params.allowSwipeToPrev=a,b.params.allowSwipeToNext=t};var T=["mousedown","mousemove","mouseup"];window.navigator.pointerEnabled?T=["pointerdown","pointermove","pointerup"]:window.navigator.msPointerEnabled&&(T=["MSPointerDown","MSPointerMove","MSPointerUp"]),b.touchEvents={start:b.support.touch||!b.params.simulateTouch?"touchstart":T[0],move:b.support.touch||!b.params.simulateTouch?"touchmove":T[1],end:b.support.touch||!b.params.simulateTouch?"touchend":T[2]},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===b.params.touchEventsTarget?b.container:b.wrapper).addClass("swiper-wp8-"+b.params.direction),b.initEvents=function(e){var a=e?"off":"on",t=e?"removeEventListener":"addEventListener",r="container"===b.params.touchEventsTarget?b.container[0]:b.wrapper[0],s=b.support.touch?r:document,n=b.params.nested?!0:!1;b.browser.ie?(r[t](b.touchEvents.start,b.onTouchStart,!1),s[t](b.touchEvents.move,b.onTouchMove,n),s[t](b.touchEvents.end,b.onTouchEnd,!1)):(b.support.touch&&(r[t](b.touchEvents.start,b.onTouchStart,!1),r[t](b.touchEvents.move,b.onTouchMove,n),r[t](b.touchEvents.end,b.onTouchEnd,!1)),!i.simulateTouch||b.device.ios||b.device.android||(r[t]("mousedown",b.onTouchStart,!1),document[t]("mousemove",b.onTouchMove,n),document[t]("mouseup",b.onTouchEnd,!1))),window[t]("resize",b.onResize),b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.nextButton[a]("click",b.onClickNext),b.params.a11y&&b.a11y&&b.nextButton[a]("keydown",b.a11y.onEnterKey)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.prevButton[a]("click",b.onClickPrev),b.params.a11y&&b.a11y&&b.prevButton[a]("keydown",b.a11y.onEnterKey)),b.params.pagination&&b.params.paginationClickable&&(b.paginationContainer[a]("click","."+b.params.bulletClass,b.onClickIndex),b.params.a11y&&b.a11y&&b.paginationContainer[a]("keydown","."+b.params.bulletClass,b.a11y.onEnterKey)),(b.params.preventClicks||b.params.preventClicksPropagation)&&r[t]("click",b.preventClicks,!0)},b.attachEvents=function(){b.initEvents()},b.detachEvents=function(){b.initEvents(!0)},b.allowClick=!0,b.preventClicks=function(e){b.allowClick||(b.params.preventClicks&&e.preventDefault(),b.params.preventClicksPropagation&&b.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},b.onClickNext=function(e){e.preventDefault(),(!b.isEnd||b.params.loop)&&b.slideNext()},b.onClickPrev=function(e){e.preventDefault(),(!b.isBeginning||b.params.loop)&&b.slidePrev()},b.onClickIndex=function(e){e.preventDefault();var t=a(this).index()*b.params.slidesPerGroup;b.params.loop&&(t+=b.loopedSlides),b.slideTo(t)},b.updateClickedSlide=function(e){var t=o(e,"."+b.params.slideClass),r=!1;if(t)for(var i=0;i<b.slides.length;i++)b.slides[i]===t&&(r=!0);if(!t||!r)return b.clickedSlide=void 0,void(b.clickedIndex=void 0);if(b.clickedSlide=t,b.clickedIndex=a(t).index(),b.params.slideToClickedSlide&&void 0!==b.clickedIndex&&b.clickedIndex!==b.activeIndex){var s=b.clickedIndex,n,l;if(b.params.loop){if(b.animating)return;n=a(b.clickedSlide).attr("data-swiper-slide-index"),b.params.centeredSlides?s<b.loopedSlides-b.params.slidesPerView/2||s>b.slides.length-b.loopedSlides+b.params.slidesPerView/2?(b.fixLoop(),s=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+n+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){b.slideTo(s)},0)):b.slideTo(s):s>b.slides.length-b.params.slidesPerView?(b.fixLoop(),s=b.wrapper.children("."+b.params.slideClass+'[data-swiper-slide-index="'+n+'"]:not(.swiper-slide-duplicate)').eq(0).index(),setTimeout(function(){b.slideTo(s)},0)):b.slideTo(s)}else b.slideTo(s)}};var S,C,z,M,P,E,k,I,L="input, select, textarea, button",B=Date.now(),D,H=[],A;b.animating=!1,b.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var G,O;if(b.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),G="touchstart"===e.type,G||!("which"in e)||3!==e.which){if(b.params.noSwiping&&o(e,"."+b.params.noSwipingClass))return void(b.allowClick=!0);if(!b.params.swipeHandler||o(e,b.params.swipeHandler)){var t=b.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,r=b.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(b.device.ios&&b.params.iOSEdgeSwipeDetection&&t<=b.params.iOSEdgeSwipeThreshold)){if(S=!0,C=!1,z=!0,P=void 0,O=void 0,b.touches.startX=t,b.touches.startY=r,M=Date.now(),b.allowClick=!0,b.updateContainerSize(),b.swipeDirection=void 0,b.params.threshold>0&&(I=!1),"touchstart"!==e.type){var i=!0;a(e.target).is(L)&&(i=!1),document.activeElement&&a(document.activeElement).is(L)&&document.activeElement.blur(),i&&e.preventDefault()}b.emit("onTouchStart",b,e)}}}},b.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!G||"mousemove"!==e.type){if(e.preventedByNestedSwiper)return b.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void(b.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY);if(b.params.onlyExternal)return b.allowClick=!1,void(S&&(b.touches.startX=b.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.startY=b.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,M=Date.now()));if(G&&document.activeElement&&e.target===document.activeElement&&a(e.target).is(L))return C=!0,void(b.allowClick=!1);if(z&&b.emit("onTouchMove",b,e),!(e.targetTouches&&e.targetTouches.length>1)){if(b.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,b.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof P){var t=180*Math.atan2(Math.abs(b.touches.currentY-b.touches.startY),Math.abs(b.touches.currentX-b.touches.startX))/Math.PI;P=b.isHorizontal()?t>b.params.touchAngle:90-t>b.params.touchAngle}if(P&&b.emit("onTouchMoveOpposite",b,e),"undefined"==typeof O&&b.browser.ieTouch&&(b.touches.currentX!==b.touches.startX||b.touches.currentY!==b.touches.startY)&&(O=!0),S){if(P)return void(S=!1);if(O||!b.browser.ieTouch){b.allowClick=!1,b.emit("onSliderMove",b,e),e.preventDefault(),b.params.touchMoveStopPropagation&&!b.params.nested&&e.stopPropagation(),C||(i.loop&&b.fixLoop(),k=b.getWrapperTranslate(),b.setWrapperTransition(0),b.animating&&b.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),b.params.autoplay&&b.autoplaying&&(b.params.autoplayDisableOnInteraction?b.stopAutoplay():b.pauseAutoplay()),A=!1,b.params.grabCursor&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grabbing",b.container[0].style.cursor="-moz-grabbin",b.container[0].style.cursor="grabbing")),C=!0;var r=b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY;r*=b.params.touchRatio,b.rtl&&(r=-r),b.swipeDirection=r>0?"prev":"next",E=r+k;var s=!0;if(r>0&&E>b.minTranslate()?(s=!1,b.params.resistance&&(E=b.minTranslate()-1+Math.pow(-b.minTranslate()+k+r,b.params.resistanceRatio))):0>r&&E<b.maxTranslate()&&(s=!1,
b.params.resistance&&(E=b.maxTranslate()+1-Math.pow(b.maxTranslate()-k-r,b.params.resistanceRatio))),s&&(e.preventedByNestedSwiper=!0),!b.params.allowSwipeToNext&&"next"===b.swipeDirection&&k>E&&(E=k),!b.params.allowSwipeToPrev&&"prev"===b.swipeDirection&&E>k&&(E=k),b.params.followFinger){if(b.params.threshold>0){if(!(Math.abs(r)>b.params.threshold||I))return void(E=k);if(!I)return I=!0,b.touches.startX=b.touches.currentX,b.touches.startY=b.touches.currentY,E=k,void(b.touches.diff=b.isHorizontal()?b.touches.currentX-b.touches.startX:b.touches.currentY-b.touches.startY)}(b.params.freeMode||b.params.watchSlidesProgress)&&b.updateActiveIndex(),b.params.freeMode&&(0===H.length&&H.push({position:b.touches[b.isHorizontal()?"startX":"startY"],time:M}),H.push({position:b.touches[b.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),b.updateProgress(E),b.setWrapperTranslate(E)}}}}}},b.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),z&&b.emit("onTouchEnd",b,e),z=!1,S){b.params.grabCursor&&C&&S&&(b.container[0].style.cursor="move",b.container[0].style.cursor="-webkit-grab",b.container[0].style.cursor="-moz-grab",b.container[0].style.cursor="grab");var t=Date.now(),r=t-M;if(b.allowClick&&(b.updateClickedSlide(e),b.emit("onTap",b,e),300>r&&t-B>300&&(D&&clearTimeout(D),D=setTimeout(function(){b&&(b.params.paginationHide&&b.paginationContainer.length>0&&!a(e.target).hasClass(b.params.bulletClass)&&b.paginationContainer.toggleClass(b.params.paginationHiddenClass),b.emit("onClick",b,e))},300)),300>r&&300>t-B&&(D&&clearTimeout(D),b.emit("onDoubleTap",b,e))),B=Date.now(),setTimeout(function(){b&&(b.allowClick=!0)},0),!S||!C||!b.swipeDirection||0===b.touches.diff||E===k)return void(S=C=!1);S=C=!1;var i;if(i=b.params.followFinger?b.rtl?b.translate:-b.translate:-E,b.params.freeMode){if(i<-b.minTranslate())return void b.slideTo(b.activeIndex);if(i>-b.maxTranslate())return void b.slideTo(b.slides.length<b.snapGrid.length?b.snapGrid.length-1:b.slides.length-1);if(b.params.freeModeMomentum){if(H.length>1){var s=H.pop(),n=H.pop(),o=s.position-n.position,l=s.time-n.time;b.velocity=o/l,b.velocity=b.velocity/2,Math.abs(b.velocity)<b.params.freeModeMinimumVelocity&&(b.velocity=0),(l>150||(new window.Date).getTime()-s.time>300)&&(b.velocity=0)}else b.velocity=0;H.length=0;var p=1e3*b.params.freeModeMomentumRatio,d=b.velocity*p,u=b.translate+d;b.rtl&&(u=-u);var c=!1,m,h=20*Math.abs(b.velocity)*b.params.freeModeMomentumBounceRatio;if(u<b.maxTranslate())b.params.freeModeMomentumBounce?(u+b.maxTranslate()<-h&&(u=b.maxTranslate()-h),m=b.maxTranslate(),c=!0,A=!0):u=b.maxTranslate();else if(u>b.minTranslate())b.params.freeModeMomentumBounce?(u-b.minTranslate()>h&&(u=b.minTranslate()+h),m=b.minTranslate(),c=!0,A=!0):u=b.minTranslate();else if(b.params.freeModeSticky){var f=0,g;for(f=0;f<b.snapGrid.length;f+=1)if(b.snapGrid[f]>-u){g=f;break}u=Math.abs(b.snapGrid[g]-u)<Math.abs(b.snapGrid[g-1]-u)||"next"===b.swipeDirection?b.snapGrid[g]:b.snapGrid[g-1],b.rtl||(u=-u)}if(0!==b.velocity)p=Math.abs(b.rtl?(-u-b.translate)/b.velocity:(u-b.translate)/b.velocity);else if(b.params.freeModeSticky)return void b.slideReset();b.params.freeModeMomentumBounce&&c?(b.updateProgress(m),b.setWrapperTransition(p),b.setWrapperTranslate(u),b.onTransitionStart(),b.animating=!0,b.wrapper.transitionEnd(function(){b&&A&&(b.emit("onMomentumBounce",b),b.setWrapperTransition(b.params.speed),b.setWrapperTranslate(m),b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))})):b.velocity?(b.updateProgress(u),b.setWrapperTransition(p),b.setWrapperTranslate(u),b.onTransitionStart(),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd()}))):b.updateProgress(u),b.updateActiveIndex()}return void((!b.params.freeModeMomentum||r>=b.params.longSwipesMs)&&(b.updateProgress(),b.updateActiveIndex()))}var v,w=0,y=b.slidesSizesGrid[0];for(v=0;v<b.slidesGrid.length;v+=b.params.slidesPerGroup)"undefined"!=typeof b.slidesGrid[v+b.params.slidesPerGroup]?i>=b.slidesGrid[v]&&i<b.slidesGrid[v+b.params.slidesPerGroup]&&(w=v,y=b.slidesGrid[v+b.params.slidesPerGroup]-b.slidesGrid[v]):i>=b.slidesGrid[v]&&(w=v,y=b.slidesGrid[b.slidesGrid.length-1]-b.slidesGrid[b.slidesGrid.length-2]);var x=(i-b.slidesGrid[w])/y;if(r>b.params.longSwipesMs){if(!b.params.longSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(x>=b.params.longSwipesRatio?w+b.params.slidesPerGroup:w),"prev"===b.swipeDirection&&b.slideTo(x>1-b.params.longSwipesRatio?w+b.params.slidesPerGroup:w)}else{if(!b.params.shortSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(w+b.params.slidesPerGroup),"prev"===b.swipeDirection&&b.slideTo(w)}}},b._slideTo=function(e,a){return b.slideTo(e,a,!0,!0)},b.slideTo=function(e,a,t,r){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=0),0>e&&(e=0),b.snapIndex=Math.floor(e/b.params.slidesPerGroup),b.snapIndex>=b.snapGrid.length&&(b.snapIndex=b.snapGrid.length-1);var i=-b.snapGrid[b.snapIndex];b.params.autoplay&&b.autoplaying&&(r||!b.params.autoplayDisableOnInteraction?b.pauseAutoplay(a):b.stopAutoplay()),b.updateProgress(i);for(var s=0;s<b.slidesGrid.length;s++)-Math.floor(100*i)>=Math.floor(100*b.slidesGrid[s])&&(e=s);return!b.params.allowSwipeToNext&&i<b.translate&&i<b.minTranslate()?!1:!b.params.allowSwipeToPrev&&i>b.translate&&i>b.maxTranslate()&&(b.activeIndex||0)!==e?!1:("undefined"==typeof a&&(a=b.params.speed),b.previousIndex=b.activeIndex||0,b.activeIndex=e,b.rtl&&-i===b.translate||!b.rtl&&i===b.translate?(b.params.autoHeight&&b.updateAutoHeight(),b.updateClasses(),"slide"!==b.params.effect&&b.setWrapperTranslate(i),!1):(b.updateClasses(),b.onTransitionStart(t),0===a?(b.setWrapperTranslate(i),b.setWrapperTransition(0),b.onTransitionEnd(t)):(b.setWrapperTranslate(i),b.setWrapperTransition(a),b.animating||(b.animating=!0,b.wrapper.transitionEnd(function(){b&&b.onTransitionEnd(t)}))),!0))},b.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),b.params.autoHeight&&b.updateAutoHeight(),b.lazy&&b.lazy.onTransitionStart(),e&&(b.emit("onTransitionStart",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeStart",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextStart",b):b.emit("onSlidePrevStart",b)))},b.onTransitionEnd=function(e){b.animating=!1,b.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),b.lazy&&b.lazy.onTransitionEnd(),e&&(b.emit("onTransitionEnd",b),b.activeIndex!==b.previousIndex&&(b.emit("onSlideChangeEnd",b),b.activeIndex>b.previousIndex?b.emit("onSlideNextEnd",b):b.emit("onSlidePrevEnd",b))),b.params.hashnav&&b.hashnav&&b.hashnav.setHash()},b.slideNext=function(e,a,t){if(b.params.loop){if(b.animating)return!1;b.fixLoop();var r=b.container[0].clientLeft;return b.slideTo(b.activeIndex+b.params.slidesPerGroup,a,e,t)}return b.slideTo(b.activeIndex+b.params.slidesPerGroup,a,e,t)},b._slideNext=function(e){return b.slideNext(!0,e,!0)},b.slidePrev=function(e,a,t){if(b.params.loop){if(b.animating)return!1;b.fixLoop();var r=b.container[0].clientLeft;return b.slideTo(b.activeIndex-1,a,e,t)}return b.slideTo(b.activeIndex-1,a,e,t)},b._slidePrev=function(e){return b.slidePrev(!0,e,!0)},b.slideReset=function(e,a,t){return b.slideTo(b.activeIndex,a,e)},b.setWrapperTransition=function(e,a){b.wrapper.transition(e),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTransition(e),b.params.parallax&&b.parallax&&b.parallax.setTransition(e),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTransition(e),b.params.control&&b.controller&&b.controller.setTransition(e,a),b.emit("onSetTransition",b,e)},b.setWrapperTranslate=function(e,a,t){var r=0,i=0,n=0;b.isHorizontal()?r=b.rtl?-e:e:i=e,b.params.roundLengths&&(r=s(r),i=s(i)),b.params.virtualTranslate||b.wrapper.transform(b.support.transforms3d?"translate3d("+r+"px, "+i+"px, "+n+"px)":"translate("+r+"px, "+i+"px)"),b.translate=b.isHorizontal()?r:i;var o,l=b.maxTranslate()-b.minTranslate();o=0===l?0:(e-b.minTranslate())/l,o!==b.progress&&b.updateProgress(e),a&&b.updateActiveIndex(),"slide"!==b.params.effect&&b.effects[b.params.effect]&&b.effects[b.params.effect].setTranslate(b.translate),b.params.parallax&&b.parallax&&b.parallax.setTranslate(b.translate),b.params.scrollbar&&b.scrollbar&&b.scrollbar.setTranslate(b.translate),b.params.control&&b.controller&&b.controller.setTranslate(b.translate,t),b.emit("onSetTranslate",b,b.translate)},b.getTranslate=function(e,a){var t,r,i,s;return"undefined"==typeof a&&(a="x"),b.params.virtualTranslate?b.rtl?-b.translate:b.translate:(i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(r=i.transform||i.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),s=new window.WebKitCSSMatrix("none"===r?"":r)):(s=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=s.toString().split(",")),"x"===a&&(r=window.WebKitCSSMatrix?s.m41:parseFloat(16===t.length?t[12]:t[4])),"y"===a&&(r=window.WebKitCSSMatrix?s.m42:parseFloat(16===t.length?t[13]:t[5])),b.rtl&&r&&(r=-r),r||0)},b.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=b.isHorizontal()?"x":"y"),b.getTranslate(b.wrapper[0],e)},b.observers=[],b.initObservers=function(){if(b.params.observeParents)for(var e=b.container.parents(),a=0;a<e.length;a++)l(e[a]);l(b.container[0],{childList:!1}),l(b.wrapper[0],{attributes:!1})},b.disconnectObservers=function(){for(var e=0;e<b.observers.length;e++)b.observers[e].disconnect();b.observers=[]},b.createLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove();var e=b.wrapper.children("."+b.params.slideClass);"auto"!==b.params.slidesPerView||b.params.loopedSlides||(b.params.loopedSlides=e.length),b.loopedSlides=parseInt(b.params.loopedSlides||b.params.slidesPerView,10),b.loopedSlides=b.loopedSlides+b.params.loopAdditionalSlides,b.loopedSlides>e.length&&(b.loopedSlides=e.length);var t=[],r=[],i;for(e.each(function(i,s){var n=a(this);i<b.loopedSlides&&r.push(s),i<e.length&&i>=e.length-b.loopedSlides&&t.push(s),n.attr("data-swiper-slide-index",i)}),i=0;i<r.length;i++)b.wrapper.append(a(r[i].cloneNode(!0)).addClass(b.params.slideDuplicateClass));for(i=t.length-1;i>=0;i--)b.wrapper.prepend(a(t[i].cloneNode(!0)).addClass(b.params.slideDuplicateClass))},b.destroyLoop=function(){b.wrapper.children("."+b.params.slideClass+"."+b.params.slideDuplicateClass).remove(),b.slides.removeAttr("data-swiper-slide-index")},b.reLoop=function(e){var a=b.activeIndex-b.loopedSlides;b.destroyLoop(),b.createLoop(),b.updateSlidesSize(),e&&b.slideTo(a+b.loopedSlides,0,!1)},b.fixLoop=function(){var e;b.activeIndex<b.loopedSlides?(e=b.slides.length-3*b.loopedSlides+b.activeIndex,e+=b.loopedSlides,b.slideTo(e,0,!1,!0)):("auto"===b.params.slidesPerView&&b.activeIndex>=2*b.loopedSlides||b.activeIndex>b.slides.length-2*b.params.slidesPerView)&&(e=-b.slides.length+b.activeIndex+b.loopedSlides,e+=b.loopedSlides,b.slideTo(e,0,!1,!0))},b.appendSlide=function(e){if(b.params.loop&&b.destroyLoop(),"object"==typeof e&&e.length)for(var a=0;a<e.length;a++)e[a]&&b.wrapper.append(e[a]);else b.wrapper.append(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0)},b.prependSlide=function(e){b.params.loop&&b.destroyLoop();var a=b.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++)e[t]&&b.wrapper.prepend(e[t]);a=b.activeIndex+e.length}else b.wrapper.prepend(e);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.slideTo(a,0,!1)},b.removeSlide=function(e){b.params.loop&&(b.destroyLoop(),b.slides=b.wrapper.children("."+b.params.slideClass));var a=b.activeIndex,t;if("object"==typeof e&&e.length){for(var r=0;r<e.length;r++)t=e[r],b.slides[t]&&b.slides.eq(t).remove(),a>t&&a--;a=Math.max(a,0)}else t=e,b.slides[t]&&b.slides.eq(t).remove(),a>t&&a--,a=Math.max(a,0);b.params.loop&&b.createLoop(),b.params.observer&&b.support.observer||b.update(!0),b.params.loop?b.slideTo(a+b.loopedSlides,0,!1):b.slideTo(a,0,!1)},b.removeAllSlides=function(){for(var e=[],a=0;a<b.slides.length;a++)e.push(a);b.removeSlide(e)},b.effects={fade:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var a=b.slides.eq(e),t=a[0].swiperSlideOffset,r=-t;b.params.virtualTranslate||(r-=b.translate);var i=0;b.isHorizontal()||(i=r,r=0);var s=b.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:s}).transform("translate3d("+r+"px, "+i+"px, 0px)")}},setTransition:function(e){if(b.slides.transition(e),b.params.virtualTranslate&&0!==e){var a=!1;b.slides.transitionEnd(function(){if(!a&&b){a=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++)b.wrapper.trigger(e[t])}})}}},flip:{setTranslate:function(){for(var e=0;e<b.slides.length;e++){var t=b.slides.eq(e),r=t[0].progress;b.params.flip.limitRotation&&(r=Math.max(Math.min(t[0].progress,1),-1));var i=t[0].swiperSlideOffset,s=-180*r,n=s,o=0,l=-i,p=0;if(b.isHorizontal()?b.rtl&&(n=-n):(p=l,l=0,o=-n,n=0),t[0].style.zIndex=-Math.abs(Math.round(r))+b.slides.length,b.params.flip.slideShadows){var d=t.find(b.isHorizontal()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),u=t.find(b.isHorizontal()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===d.length&&(d=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),t.append(d)),0===u.length&&(u=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),t.append(u)),d.length&&(d[0].style.opacity=Math.max(-r,0)),u.length&&(u[0].style.opacity=Math.max(r,0))}t.transform("translate3d("+l+"px, "+p+"px, 0px) rotateX("+o+"deg) rotateY("+n+"deg)")}},setTransition:function(e){if(b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.virtualTranslate&&0!==e){var t=!1;b.slides.eq(b.activeIndex).transitionEnd(function(){if(!t&&b&&a(this).hasClass(b.params.slideActiveClass)){t=!0,b.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r=0;r<e.length;r++)b.wrapper.trigger(e[r])}})}}},cube:{setTranslate:function(){var e=0,t;b.params.cube.shadow&&(b.isHorizontal()?(t=b.wrapper.find(".swiper-cube-shadow"),0===t.length&&(t=a('<div class="swiper-cube-shadow"></div>'),b.wrapper.append(t)),t.css({height:b.width+"px"})):(t=b.container.find(".swiper-cube-shadow"),0===t.length&&(t=a('<div class="swiper-cube-shadow"></div>'),b.container.append(t))));for(var r=0;r<b.slides.length;r++){var i=b.slides.eq(r),s=90*r,n=Math.floor(s/360);b.rtl&&(s=-s,n=Math.floor(-s/360));var o=Math.max(Math.min(i[0].progress,1),-1),l=0,p=0,d=0;r%4===0?(l=4*-n*b.size,d=0):(r-1)%4===0?(l=0,d=4*-n*b.size):(r-2)%4===0?(l=b.size+4*n*b.size,d=b.size):(r-3)%4===0&&(l=-b.size,d=3*b.size+4*b.size*n),b.rtl&&(l=-l),b.isHorizontal()||(p=l,l=0);var u="rotateX("+(b.isHorizontal()?0:-s)+"deg) rotateY("+(b.isHorizontal()?s:0)+"deg) translate3d("+l+"px, "+p+"px, "+d+"px)";if(1>=o&&o>-1&&(e=90*r+90*o,b.rtl&&(e=90*-r-90*o)),i.transform(u),b.params.cube.slideShadows){var c=i.find(b.isHorizontal()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),m=i.find(b.isHorizontal()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===c.length&&(c=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),i.append(c)),0===m.length&&(m=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),i.append(m)),c.length&&(c[0].style.opacity=Math.max(-o,0)),m.length&&(m[0].style.opacity=Math.max(o,0))}}if(b.wrapper.css({"-webkit-transform-origin":"50% 50% -"+b.size/2+"px","-moz-transform-origin":"50% 50% -"+b.size/2+"px","-ms-transform-origin":"50% 50% -"+b.size/2+"px","transform-origin":"50% 50% -"+b.size/2+"px"}),b.params.cube.shadow)if(b.isHorizontal())t.transform("translate3d(0px, "+(b.width/2+b.params.cube.shadowOffset)+"px, "+-b.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+b.params.cube.shadowScale+")");else{var h=Math.abs(e)-90*Math.floor(Math.abs(e)/90),f=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),g=b.params.cube.shadowScale,v=b.params.cube.shadowScale/f,w=b.params.cube.shadowOffset;t.transform("scale3d("+g+", 1, "+v+") translate3d(0px, "+(b.height/2+w)+"px, "+-b.height/2/v+"px) rotateX(-90deg)")}var y=b.isSafari||b.isUiWebView?-b.size/2:0;b.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(b.isHorizontal()?0:e)+"deg) rotateY("+(b.isHorizontal()?-e:0)+"deg)")},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),b.params.cube.shadow&&!b.isHorizontal()&&b.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=b.translate,t=b.isHorizontal()?-e+b.width/2:-e+b.height/2,r=b.isHorizontal()?b.params.coverflow.rotate:-b.params.coverflow.rotate,i=b.params.coverflow.depth,s=0,n=b.slides.length;n>s;s++){var o=b.slides.eq(s),l=b.slidesSizesGrid[s],p=o[0].swiperSlideOffset,d=(t-p-l/2)/l*b.params.coverflow.modifier,u=b.isHorizontal()?r*d:0,c=b.isHorizontal()?0:r*d,m=-i*Math.abs(d),h=b.isHorizontal()?0:b.params.coverflow.stretch*d,f=b.isHorizontal()?b.params.coverflow.stretch*d:0;Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(m)<.001&&(m=0),Math.abs(u)<.001&&(u=0),Math.abs(c)<.001&&(c=0);var g="translate3d("+f+"px,"+h+"px,"+m+"px)  rotateX("+c+"deg) rotateY("+u+"deg)";if(o.transform(g),o[0].style.zIndex=-Math.abs(Math.round(d))+1,b.params.coverflow.slideShadows){var v=o.find(b.isHorizontal()?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),w=o.find(b.isHorizontal()?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===v.length&&(v=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),o.append(v)),0===w.length&&(w=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),o.append(w)),v.length&&(v[0].style.opacity=d>0?d:0),w.length&&(w[0].style.opacity=-d>0?-d:0)}}if(b.browser.ie){var y=b.wrapper[0].style;y.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){b.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},b.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,t){if("undefined"!=typeof e&&("undefined"==typeof t&&(t=!0),0!==b.slides.length)){var r=b.slides.eq(e),i=r.find(".swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)");!r.hasClass("swiper-lazy")||r.hasClass("swiper-lazy-loaded")||r.hasClass("swiper-lazy-loading")||(i=i.add(r[0])),0!==i.length&&i.each(function(){var e=a(this);e.addClass("swiper-lazy-loading");var i=e.attr("data-background"),s=e.attr("data-src"),n=e.attr("data-srcset");b.loadImage(e[0],s||i,n,!1,function(){if(i?(e.css("background-image",'url("'+i+'")'),e.removeAttr("data-background")):(n&&(e.attr("srcset",n),e.removeAttr("data-srcset")),s&&(e.attr("src",s),e.removeAttr("data-src"))),e.addClass("swiper-lazy-loaded").removeClass("swiper-lazy-loading"),r.find(".swiper-lazy-preloader, .preloader").remove(),b.params.loop&&t){var a=r.attr("data-swiper-slide-index");if(r.hasClass(b.params.slideDuplicateClass)){var o=b.wrapper.children('[data-swiper-slide-index="'+a+'"]:not(.'+b.params.slideDuplicateClass+")");b.lazy.loadImageInSlide(o.index(),!1)}else{var l=b.wrapper.children("."+b.params.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]');b.lazy.loadImageInSlide(l.index(),!1)}}b.emit("onLazyImageReady",b,r[0],e[0])}),b.emit("onLazyImageLoad",b,r[0],e[0])})}},load:function(){var e;if(b.params.watchSlidesVisibility)b.wrapper.children("."+b.params.slideVisibleClass).each(function(){b.lazy.loadImageInSlide(a(this).index())});else if(b.params.slidesPerView>1)for(e=b.activeIndex;e<b.activeIndex+b.params.slidesPerView;e++)b.slides[e]&&b.lazy.loadImageInSlide(e);else b.lazy.loadImageInSlide(b.activeIndex);if(b.params.lazyLoadingInPrevNext)if(b.params.slidesPerView>1||b.params.lazyLoadingInPrevNextAmount&&b.params.lazyLoadingInPrevNextAmount>1){var t=b.params.lazyLoadingInPrevNextAmount,r=b.params.slidesPerView,i=Math.min(b.activeIndex+r+Math.max(t,r),b.slides.length),s=Math.max(b.activeIndex-Math.max(r,t),0);for(e=b.activeIndex+b.params.slidesPerView;i>e;e++)b.slides[e]&&b.lazy.loadImageInSlide(e);for(e=s;e<b.activeIndex;e++)b.slides[e]&&b.lazy.loadImageInSlide(e)}else{var n=b.wrapper.children("."+b.params.slideNextClass);n.length>0&&b.lazy.loadImageInSlide(n.index());var o=b.wrapper.children("."+b.params.slidePrevClass);o.length>0&&b.lazy.loadImageInSlide(o.index())}},onTransitionStart:function(){b.params.lazyLoading&&(b.params.lazyLoadingOnTransitionStart||!b.params.lazyLoadingOnTransitionStart&&!b.lazy.initialImageLoaded)&&b.lazy.load()},onTransitionEnd:function(){b.params.lazyLoading&&!b.params.lazyLoadingOnTransitionStart&&b.lazy.load()}},b.scrollbar={isTouched:!1,setDragPosition:function(e){var a=b.scrollbar,t=0,r=0,i,s=b.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,n=s-a.track.offset()[b.isHorizontal()?"left":"top"]-a.dragSize/2,o=-b.minTranslate()*a.moveDivider,l=-b.maxTranslate()*a.moveDivider;o>n?n=o:n>l&&(n=l),n=-n/a.moveDivider,b.updateProgress(n),b.setWrapperTranslate(n,!0)},dragStart:function(e){var a=b.scrollbar;a.isTouched=!0,e.preventDefault(),e.stopPropagation(),a.setDragPosition(e),clearTimeout(a.dragTimeout),a.track.transition(0),b.params.scrollbarHide&&a.track.css("opacity",1),b.wrapper.transition(100),a.drag.transition(100),b.emit("onScrollbarDragStart",b)},dragMove:function(e){var a=b.scrollbar;a.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),b.wrapper.transition(0),a.track.transition(0),a.drag.transition(0),b.emit("onScrollbarDragMove",b))},dragEnd:function(e){var a=b.scrollbar;a.isTouched&&(a.isTouched=!1,b.params.scrollbarHide&&(clearTimeout(a.dragTimeout),a.dragTimeout=setTimeout(function(){a.track.css("opacity",0),a.track.transition(400)},1e3)),b.emit("onScrollbarDragEnd",b),b.params.scrollbarSnapOnRelease&&b.slideReset())},enableDraggable:function(){var e=b.scrollbar,t=b.support.touch?e.track:document;a(e.track).on(b.touchEvents.start,e.dragStart),a(t).on(b.touchEvents.move,e.dragMove),a(t).on(b.touchEvents.end,e.dragEnd)},disableDraggable:function(){var e=b.scrollbar,t=b.support.touch?e.track:document;a(e.track).off(b.touchEvents.start,e.dragStart),a(t).off(b.touchEvents.move,e.dragMove),a(t).off(b.touchEvents.end,e.dragEnd)},set:function(){if(b.params.scrollbar){var e=b.scrollbar;e.track=a(b.params.scrollbar),b.params.uniqueNavElements&&"string"==typeof b.params.scrollbar&&e.track.length>1&&1===b.container.find(b.params.scrollbar).length&&(e.track=b.container.find(b.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=a('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=b.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=b.size/b.virtualSize,e.moveDivider=e.divider*(e.trackSize/b.size),e.dragSize=e.trackSize*e.divider,b.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",b.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(b.params.scrollbar){var e,a=b.scrollbar,t=b.translate||0,r,i=a.dragSize;r=(a.trackSize-a.dragSize)*b.progress,b.rtl&&b.isHorizontal()?(r=-r,r>0?(i=a.dragSize-r,r=0):-r+a.dragSize>a.trackSize&&(i=a.trackSize+r)):0>r?(i=a.dragSize+r,r=0):r+a.dragSize>a.trackSize&&(i=a.trackSize-r),b.isHorizontal()?(a.drag.transform(b.support.transforms3d?"translate3d("+r+"px, 0, 0)":"translateX("+r+"px)"),a.drag[0].style.width=i+"px"):(a.drag.transform(b.support.transforms3d?"translate3d(0px, "+r+"px, 0)":"translateY("+r+"px)"),a.drag[0].style.height=i+"px"),b.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1e3))}},setTransition:function(e){b.params.scrollbar&&b.scrollbar.drag.transition(e)}},b.controller={LinearSpline:function(e,a){this.x=e,this.y=a,this.lastIndex=e.length-1;var t,r,i=this.x.length;this.interpolate=function(e){return e?(r=s(this.x,e),t=r-1,(e-this.x[t])*(this.y[r]-this.y[t])/(this.x[r]-this.x[t])+this.y[t]):0};var s=function(){var e,a,t;return function(r,i){for(a=-1,e=r.length;e-a>1;)r[t=e+a>>1]<=i?a=t:e=t;return e}}()},getInterpolateFunction:function(e){b.controller.spline||(b.controller.spline=b.params.loop?new b.controller.LinearSpline(b.slidesGrid,e.slidesGrid):new b.controller.LinearSpline(b.snapGrid,e.snapGrid))},setTranslate:function(e,a){function r(a){e=a.rtl&&"horizontal"===a.params.direction?-b.translate:b.translate,"slide"===b.params.controlBy&&(b.controller.getInterpolateFunction(a),n=-b.controller.spline.interpolate(-e)),n&&"container"!==b.params.controlBy||(s=(a.maxTranslate()-a.minTranslate())/(b.maxTranslate()-b.minTranslate()),n=(e-b.minTranslate())*s+a.minTranslate()),b.params.controlInverse&&(n=a.maxTranslate()-n),a.updateProgress(n),a.setWrapperTranslate(n,!1,b),a.updateActiveIndex()}var i=b.params.control,s,n;if(b.isArray(i))for(var o=0;o<i.length;o++)i[o]!==a&&i[o]instanceof t&&r(i[o]);else i instanceof t&&a!==i&&r(i)},setTransition:function(e,a){function r(a){a.setWrapperTransition(e,b),0!==e&&(a.onTransitionStart(),a.wrapper.transitionEnd(function(){i&&(a.params.loop&&"slide"===b.params.controlBy&&a.fixLoop(),a.onTransitionEnd())}))}var i=b.params.control,s;if(b.isArray(i))for(s=0;s<i.length;s++)i[s]!==a&&i[s]instanceof t&&r(i[s]);else i instanceof t&&a!==i&&r(i)}},b.hashnav={init:function(){if(b.params.hashnav){b.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e)for(var a=0,t=0,r=b.slides.length;r>t;t++){var i=b.slides.eq(t),s=i.attr("data-hash");if(s===e&&!i.hasClass(b.params.slideDuplicateClass)){var n=i.index();b.slideTo(n,a,b.params.runCallbacksOnInit,!0)}}}},setHash:function(){b.hashnav.initialized&&b.params.hashnav&&(document.location.hash=b.slides.eq(b.activeIndex).attr("data-hash")||"")}},b.disableKeyboardControl=function(){b.params.keyboardControl=!1,a(document).off("keydown",p)},b.enableKeyboardControl=function(){b.params.keyboardControl=!0,a(document).on("keydown",p)},b.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},b.params.mousewheelControl){try{new window.WheelEvent("wheel"),b.mousewheel.event="wheel"}catch(N){(window.WheelEvent||b.container[0]&&"wheel"in b.container[0])&&(b.mousewheel.event="wheel")}!b.mousewheel.event&&window.WheelEvent,b.mousewheel.event||void 0===document.onmousewheel||(b.mousewheel.event="mousewheel"),b.mousewheel.event||(b.mousewheel.event="DOMMouseScroll")}b.disableMousewheelControl=function(){return b.mousewheel.event?(b.container.off(b.mousewheel.event,d),!0):!1},b.enableMousewheelControl=function(){return b.mousewheel.event?(b.container.on(b.mousewheel.event,d),!0):!1},b.parallax={setTranslate:function(){b.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){u(this,b.progress)}),b.slides.each(function(){var e=a(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=Math.min(Math.max(e[0].progress,-1),1);u(this,a)})})},setTransition:function(e){"undefined"==typeof e&&(e=b.params.speed),b.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=a(this),r=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),t.transition(r)})}},b._plugins=[];for(var R in b.plugins){var W=b.plugins[R](b,b.params[R]);W&&b._plugins.push(W)}return b.callPlugins=function(e){for(var a=0;a<b._plugins.length;a++)e in b._plugins[a]&&b._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.emitterEventListeners={},b.emit=function(e){b.params[e]&&b.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var a;if(b.emitterEventListeners[e])for(a=0;a<b.emitterEventListeners[e].length;a++)b.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);b.callPlugins&&b.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},b.on=function(e,a){return e=c(e),b.emitterEventListeners[e]||(b.emitterEventListeners[e]=[]),b.emitterEventListeners[e].push(a),b},b.off=function(e,a){var t;if(e=c(e),"undefined"==typeof a)return b.emitterEventListeners[e]=[],b;if(b.emitterEventListeners[e]&&0!==b.emitterEventListeners[e].length){for(t=0;t<b.emitterEventListeners[e].length;t++)b.emitterEventListeners[e][t]===a&&b.emitterEventListeners[e].splice(t,1);return b}},b.once=function(e,a){e=c(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),b.off(e,t)};return b.on(e,t),b},b.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(a(e.target).is(b.params.nextButton)?(b.onClickNext(e),b.a11y.notify(b.isEnd?b.params.lastSlideMessage:b.params.nextSlideMessage)):a(e.target).is(b.params.prevButton)&&(b.onClickPrev(e),b.a11y.notify(b.isBeginning?b.params.firstSlideMessage:b.params.prevSlideMessage)),a(e.target).is("."+b.params.bulletClass)&&a(e.target)[0].click())},liveRegion:a('<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=b.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){b.params.nextButton&&b.nextButton&&b.nextButton.length>0&&(b.a11y.makeFocusable(b.nextButton),b.a11y.addRole(b.nextButton,"button"),b.a11y.addLabel(b.nextButton,b.params.nextSlideMessage)),b.params.prevButton&&b.prevButton&&b.prevButton.length>0&&(b.a11y.makeFocusable(b.prevButton),b.a11y.addRole(b.prevButton,"button"),b.a11y.addLabel(b.prevButton,b.params.prevSlideMessage)),a(b.container).append(b.a11y.liveRegion)},initPagination:function(){b.params.pagination&&b.params.paginationClickable&&b.bullets&&b.bullets.length&&b.bullets.each(function(){var e=a(this);b.a11y.makeFocusable(e),b.a11y.addRole(e,"button"),b.a11y.addLabel(e,b.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){b.a11y.liveRegion&&b.a11y.liveRegion.length>0&&b.a11y.liveRegion.remove()}},b.init=function(){b.params.loop&&b.createLoop(),b.updateContainerSize(),b.updateSlidesSize(),b.updatePagination(),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.set(),b.params.scrollbarDraggable&&b.scrollbar.enableDraggable()),"slide"!==b.params.effect&&b.effects[b.params.effect]&&(b.params.loop||b.updateProgress(),b.effects[b.params.effect].setTranslate()),b.params.loop?b.slideTo(b.params.initialSlide+b.loopedSlides,0,b.params.runCallbacksOnInit):(b.slideTo(b.params.initialSlide,0,b.params.runCallbacksOnInit),0===b.params.initialSlide&&(b.parallax&&b.params.parallax&&b.parallax.setTranslate(),b.lazy&&b.params.lazyLoading&&(b.lazy.load(),b.lazy.initialImageLoaded=!0))),b.attachEvents(),b.params.observer&&b.support.observer&&b.initObservers(),b.params.preloadImages&&!b.params.lazyLoading&&b.preloadImages(),b.params.autoplay&&b.startAutoplay(),b.params.keyboardControl&&b.enableKeyboardControl&&b.enableKeyboardControl(),b.params.mousewheelControl&&b.enableMousewheelControl&&b.enableMousewheelControl(),b.params.hashnav&&b.hashnav&&b.hashnav.init(),
b.params.a11y&&b.a11y&&b.a11y.init(),b.emit("onInit",b)},b.cleanupStyles=function(){b.container.removeClass(b.classNames.join(" ")).removeAttr("style"),b.wrapper.removeAttr("style"),b.slides&&b.slides.length&&b.slides.removeClass([b.params.slideVisibleClass,b.params.slideActiveClass,b.params.slideNextClass,b.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),b.paginationContainer&&b.paginationContainer.length&&b.paginationContainer.removeClass(b.params.paginationHiddenClass),b.bullets&&b.bullets.length&&b.bullets.removeClass(b.params.bulletActiveClass),b.params.prevButton&&a(b.params.prevButton).removeClass(b.params.buttonDisabledClass),b.params.nextButton&&a(b.params.nextButton).removeClass(b.params.buttonDisabledClass),b.params.scrollbar&&b.scrollbar&&(b.scrollbar.track&&b.scrollbar.track.length&&b.scrollbar.track.removeAttr("style"),b.scrollbar.drag&&b.scrollbar.drag.length&&b.scrollbar.drag.removeAttr("style"))},b.destroy=function(e,a){b.detachEvents(),b.stopAutoplay(),b.params.scrollbar&&b.scrollbar&&b.params.scrollbarDraggable&&b.scrollbar.disableDraggable(),b.params.loop&&b.destroyLoop(),a&&b.cleanupStyles(),b.disconnectObservers(),b.params.keyboardControl&&b.disableKeyboardControl&&b.disableKeyboardControl(),b.params.mousewheelControl&&b.disableMousewheelControl&&b.disableMousewheelControl(),b.params.a11y&&b.a11y&&b.a11y.destroy(),b.emit("onDestroy"),e!==!1&&(b=null)},b.init(),b}};t.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1},device:function(){var e=navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),r=e.match(/(iPod)(.*OS\s([\d_]+))?/),i=!t&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:t||i||r,android:a}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++)if(a[t]in e)return!0}(),observer:function(){return"MutationObserver"in window||"WebkitMutationObserver"in window}()},plugins:{}};for(var r=(function(){var e=function(e){var a=this,t=0;for(t=0;t<e.length;t++)a[t]=e[t];return a.length=e.length,this},a=function(a,t){var r=[],i=0;if(a&&!t&&a instanceof e)return a;if(a)if("string"==typeof a){var s,n,o=a.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),(0===o.indexOf("<td")||0===o.indexOf("<th"))&&(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),n=document.createElement(l),n.innerHTML=a,i=0;i<n.childNodes.length;i++)r.push(n.childNodes[i])}else for(s=t||"#"!==a[0]||a.match(/[ .<>:~]/)?(t||document).querySelectorAll(a):[document.getElementById(a.split("#")[1])],i=0;i<s.length;i++)s[i]&&r.push(s[i])}else if(a.nodeType||a===window||a===document)r.push(a);else if(a.length>0&&a[0].nodeType)for(i=0;i<a.length;i++)r.push(a[i]);return new e(r)};return e.prototype={addClass:function(e){if("undefined"==typeof e)return this;for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.add(a[t]);return this},removeClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.remove(a[t]);return this},hasClass:function(e){return this[0]?this[0].classList.contains(e):!1},toggleClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++)for(var r=0;r<this.length;r++)this[r].classList.toggle(a[t]);return this},attr:function(e,a){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var t=0;t<this.length;t++)if(2===arguments.length)this[t].setAttribute(e,a);else for(var r in e)this[t][r]=e[r],this[t].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var a=0;a<this.length;a++)this[a].removeAttribute(e);return this},data:function(e,a){if("undefined"==typeof a){if(this[0]){var t=this[0].getAttribute("data-"+e);return t?t:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}return void 0}for(var r=0;r<this.length;r++){var i=this[r];i.dom7ElementDataStorage||(i.dom7ElementDataStorage={}),i.dom7ElementDataStorage[e]=a}return this},transform:function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this},on:function(e,t,r,i){function s(e){var i=e.target;if(a(i).is(t))r.call(i,e);else for(var s=a(i).parents(),n=0;n<s.length;n++)a(s[n]).is(t)&&r.call(s[n],e)}var n=e.split(" "),o,l;for(o=0;o<this.length;o++)if("function"==typeof t||t===!1)for("function"==typeof t&&(r=arguments[1],i=arguments[2]||!1),l=0;l<n.length;l++)this[o].addEventListener(n[l],r,i);else for(l=0;l<n.length;l++)this[o].dom7LiveListeners||(this[o].dom7LiveListeners=[]),this[o].dom7LiveListeners.push({listener:r,liveListener:s}),this[o].addEventListener(n[l],s,i);return this},off:function(e,a,t,r){for(var i=e.split(" "),s=0;s<i.length;s++)for(var n=0;n<this.length;n++)if("function"==typeof a||a===!1)"function"==typeof a&&(t=arguments[1],r=arguments[2]||!1),this[n].removeEventListener(i[s],t,r);else if(this[n].dom7LiveListeners)for(var o=0;o<this[n].dom7LiveListeners.length;o++)this[n].dom7LiveListeners[o].listener===t&&this[n].removeEventListener(i[s],this[n].dom7LiveListeners[o].liveListener,r);return this},once:function(e,a,t,r){function i(n){t(n),s.off(e,a,i,r)}var s=this;"function"==typeof a&&(a=!1,t=arguments[1],r=arguments[2]),s.on(e,a,i,r)},trigger:function(e,a){for(var t=0;t<this.length;t++){var r;try{r=new window.CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0})}catch(i){r=document.createEvent("Event"),r.initEvent(e,!0,!0),r.detail=a}this[t].dispatchEvent(r)}return this},transitionEnd:function(e){function a(i){if(i.target===this)for(e.call(this,i),r=0;r<t.length;r++)s.off(t[r],a)}var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r,i,s=this;if(e)for(r=0;r<t.length;r++)s.on(t[r],a);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],a=e.getBoundingClientRect(),t=document.body,r=e.clientTop||t.clientTop||0,i=e.clientLeft||t.clientLeft||0,s=window.pageYOffset||e.scrollTop,n=window.pageXOffset||e.scrollLeft;return{top:a.top+s-r,left:a.left+n-i}}return null},css:function(e,a){var t;if(1===arguments.length){if("string"!=typeof e){for(t=0;t<this.length;t++)for(var r in e)this[t].style[r]=e[r];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(t=0;t<this.length;t++)this[t].style[e]=a;return this}return this},each:function(e){for(var a=0;a<this.length;a++)e.call(this[a],a,this[a]);return this},html:function(e){if("undefined"==typeof e)return this[0]?this[0].innerHTML:void 0;for(var a=0;a<this.length;a++)this[a].innerHTML=e;return this},text:function(e){if("undefined"==typeof e)return this[0]?this[0].textContent.trim():null;for(var a=0;a<this.length;a++)this[a].textContent=e;return this},is:function(t){if(!this[0])return!1;var r,i;if("string"==typeof t){var s=this[0];if(s===document)return t===document;if(s===window)return t===window;if(s.matches)return s.matches(t);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector)return s.mozMatchesSelector(t);if(s.msMatchesSelector)return s.msMatchesSelector(t);for(r=a(t),i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}if(t===document)return this[0]===document;if(t===window)return this[0]===window;if(t.nodeType||t instanceof e){for(r=t.nodeType?[t]:t,i=0;i<r.length;i++)if(r[i]===this[0])return!0;return!1}return!1},index:function(){if(this[0]){for(var e=this[0],a=0;null!==(e=e.previousSibling);)1===e.nodeType&&a++;return a}return void 0},eq:function(a){if("undefined"==typeof a)return this;var t=this.length,r;return a>t-1?new e([]):0>a?(r=t+a,new e(0>r?[]:[this[r]])):new e([this[a]])},append:function(a){var t,r;for(t=0;t<this.length;t++)if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a;i.firstChild;)this[t].appendChild(i.firstChild)}else if(a instanceof e)for(r=0;r<a.length;r++)this[t].appendChild(a[r]);else this[t].appendChild(a);return this},prepend:function(a){var t,r;for(t=0;t<this.length;t++)if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a,r=i.childNodes.length-1;r>=0;r--)this[t].insertBefore(i.childNodes[r],this[t].childNodes[0])}else if(a instanceof e)for(r=0;r<a.length;r++)this[t].insertBefore(a[r],this[t].childNodes[0]);else this[t].insertBefore(a,this[t].childNodes[0]);return this},insertBefore:function(e){for(var t=a(e),r=0;r<this.length;r++)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0]);else if(t.length>1)for(var i=0;i<t.length;i++)t[i].parentNode.insertBefore(this[r].cloneNode(!0),t[i])},insertAfter:function(e){for(var t=a(e),r=0;r<this.length;r++)if(1===t.length)t[0].parentNode.insertBefore(this[r],t[0].nextSibling);else if(t.length>1)for(var i=0;i<t.length;i++)t[i].parentNode.insertBefore(this[r].cloneNode(!0),t[i].nextSibling)},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var r=[],i=this[0];if(!i)return new e([]);for(;i.nextElementSibling;){var s=i.nextElementSibling;t?a(s).is(t)&&r.push(s):r.push(s),i=s}return new e(r)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&a(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var r=[],i=this[0];if(!i)return new e([]);for(;i.previousElementSibling;){var s=i.previousElementSibling;t?a(s).is(t)&&r.push(s):r.push(s),i=s}return new e(r)},parent:function(e){for(var t=[],r=0;r<this.length;r++)e?a(this[r].parentNode).is(e)&&t.push(this[r].parentNode):t.push(this[r].parentNode);return a(a.unique(t))},parents:function(e){for(var t=[],r=0;r<this.length;r++)for(var i=this[r].parentNode;i;)e?a(i).is(e)&&t.push(i):t.push(i),i=i.parentNode;return a(a.unique(t))},find:function(a){for(var t=[],r=0;r<this.length;r++)for(var i=this[r].querySelectorAll(a),s=0;s<i.length;s++)t.push(i[s]);return new e(t)},children:function(t){for(var r=[],i=0;i<this.length;i++)for(var s=this[i].childNodes,n=0;n<s.length;n++)t?1===s[n].nodeType&&a(s[n]).is(t)&&r.push(s[n]):1===s[n].nodeType&&r.push(s[n]);return new e(a.unique(r))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e=this,t,r;for(t=0;t<arguments.length;t++){var i=a(arguments[t]);for(r=0;r<i.length;r++)e[e.length]=i[r],e.length++}return e}},a.fn=e.prototype,a.unique=function(e){for(var a=[],t=0;t<e.length;t++)-1===a.indexOf(e[t])&&a.push(e[t]);return a},a}()),i=["jQuery","Zepto","Dom7"],s=0;s<i.length;s++)window[i[s]]&&e(window[i[s]]);var n;n="undefined"==typeof r?window.Dom7||window.Zepto||window.jQuery:r,n&&("transitionEnd"in n.fn||(n.fn.transitionEnd=function(e){function a(i){if(i.target===this)for(e.call(this,i),r=0;r<t.length;r++)s.off(t[r],a)}var t=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],r,i,s=this;if(e)for(r=0;r<t.length;r++)s.on(t[r],a);return this}),"transform"in n.fn||(n.fn.transform=function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this}),"transition"in n.fn||(n.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this})),window.Swiper=t}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.Swiper})}).call(this),"undefined"==typeof Package&&(Package={}),Package["nolimits4web:swiper"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv,n=Package.tracker.Tracker,r=Package.tracker.Deps,t=Package.retry.Retry,c=Package["ddp-client"].DDP,i=Package.mongo.Mongo,u=Package.underscore._,d=Package.http.HTTP,s=Package.random.Random,g,_;(function(){var a=__meteor_runtime_config__.autoupdateVersionCordova||"unknown";g=new i.Collection("meteor_autoupdate_clientVersions"),_={},_.newClientAvailable=function(){return!!g.findOne({_id:"version-cordova",version:{$ne:a}})};var o=new t({minCount:0,baseTimeout:3e4}),n=0;_._retrySubscription=function(){var t=__meteor_runtime_config__.appId;e.subscribe("meteor_autoupdate_clientVersions",t,{onError:function(e){console.log("autoupdate subscription failed:",e),n++,o.retryLater(n,function(){_._retrySubscription()})},onReady:function(){if(Package.reload)var e=function(e){var o=this;e.version!==a&&r()},o=g.find({_id:"version-cordova"}).observe({added:e,changed:e})}})},e.startup(function(){WebAppLocalServer.onNewVersionReady(function(){Package.reload&&Package.reload.Reload._reload()}),_._retrySubscription()});var r=function(){WebAppLocalServer.checkForUpdates()}}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var o in a)o in e||(e[o]=a[o])}(Package.autoupdate={},{Autoupdate:_})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv,t=Package.reload.Reload,c=Package.autoupdate.Autoupdate;"undefined"==typeof Package&&(Package={}),Package["meteor-platform"]={}}();

!function(){var r=Package.meteor.Meteor,t=Package.meteor.global,e=Package.meteor.meteorEnv,n=Package.jquery.$,o=Package.jquery.jQuery;(function(){(function(){!function(r){"use strict";var t=function(r,t,e){var n=i(r,t);return n.addData(e),n.make(),n},e=function(r){for(var e=2;40>=e;e+=1)try{return t(e,"L",r)}catch(n){}return null},n=function(t){var n=e(t.text),o=r("<canvas/>").attr("width",t.width).attr("height",t.height),a=o[0].getContext("2d");if(t.bgColor&&(a.fillStyle=t.bgColor,a.fillRect(0,0,t.width,t.height)),n){var i=n.getModuleCount(),u=t.width/i,f=t.height/i,g,c;for(a.beginPath(),g=0;i>g;g+=1)for(c=0;i>c;c+=1)n.isDark(g,c)&&a.rect(c*u,g*f,u,f);a.fillStyle=t.color,a.fill()}return o},o=function(t){var n=e(t.text),o=r("<div/>").css({position:"relative",left:0,top:0,padding:0,margin:0,width:t.width,height:t.height});if(t.bgColor&&o.css("background-color",t.bgColor),n){var a=n.getModuleCount(),i=Math.floor(t.width/a),u=Math.floor(t.height/a),f=Math.floor(.5*(t.width-i*a)),g=Math.floor(.5*(t.height-u*a)),c,h;for(c=0;a>c;c+=1)for(h=0;a>h;h+=1)n.isDark(c,h)&&r("<div/>").css({left:f+h*i,top:g+c*u}).appendTo(o);o.children().css({position:"absolute",padding:0,margin:0,width:i,height:u,"background-color":t.color})}return o},a={render:"canvas",width:256,height:256,color:"#000",bgColor:null,text:"no text"};r.fn.qrcode=function(t){var e=r.extend({},a,t);return this.each(function(){r(this).append("canvas"===e.render?n(e):o(e))})};var i=function(){function r(t,e){if("undefined"==typeof t.length)throw new Error(t.length+"/"+e);var n=function(){for(var r=0;r<t.length&&0==t[r];)r+=1;for(var n=new Array(t.length-r+e),o=0;o<t.length-r;o+=1)n[o]=t[o+r];return n}(),o={};return o.get=function(r){return n[r]},o.getLength=function(){return n.length},o.multiply=function(t){for(var e=new Array(o.getLength()+t.getLength()-1),n=0;n<o.getLength();n+=1)for(var a=0;a<t.getLength();a+=1)e[n+a]^=i.gexp(i.glog(o.get(n))+i.glog(t.get(a)));return r(e,0)},o.mod=function(t){if(o.getLength()-t.getLength()<0)return o;for(var e=i.glog(o.get(0))-i.glog(t.get(0)),n=new Array(o.getLength()),a=0;a<o.getLength();a+=1)n[a]=o.get(a);for(var a=0;a<t.getLength();a+=1)n[a]^=i.gexp(i.glog(t.get(a))+e);return r(n,0).mod(t)},o}var t=function(t,e){var o=236,i=17,c=t,h=n[e],l=null,v=0,d=null,w=new Array,y={},B=function(r,t){v=4*c+17,l=function(r){for(var t=new Array(r),e=0;r>e;e+=1){t[e]=new Array(r);for(var n=0;r>n;n+=1)t[e][n]=null}return t}(v),p(0,0),p(v-7,0),p(0,v-7),M(),A(),k(r,t),c>=7&&T(r),null==d&&(d=P(c,h,w)),C(d,t)},p=function(r,t){for(var e=-1;7>=e;e+=1)if(!(-1>=r+e||r+e>=v))for(var n=-1;7>=n;n+=1)-1>=t+n||t+n>=v||(e>=0&&6>=e&&(0==n||6==n)||n>=0&&6>=n&&(0==e||6==e)||e>=2&&4>=e&&n>=2&&4>=n?l[r+e][t+n]=!0:l[r+e][t+n]=!1)},E=function(){for(var r=0,t=0,e=0;8>e;e+=1){B(!0,e);var n=a.getLostPoint(y);(0==e||r>n)&&(r=n,t=e)}return t},A=function(){for(var r=8;v-8>r;r+=1)null==l[r][6]&&(l[r][6]=r%2==0);for(var t=8;v-8>t;t+=1)null==l[6][t]&&(l[6][t]=t%2==0)},M=function(){for(var r=a.getPatternPosition(c),t=0;t<r.length;t+=1)for(var e=0;e<r.length;e+=1){var n=r[t],o=r[e];if(null==l[n][o])for(var i=-2;2>=i;i+=1)for(var u=-2;2>=u;u+=1)-2==i||2==i||-2==u||2==u||0==i&&0==u?l[n+i][o+u]=!0:l[n+i][o+u]=!1}},T=function(r){for(var t=a.getBCHTypeNumber(c),e=0;18>e;e+=1){var n=!r&&1==(t>>e&1);l[Math.floor(e/3)][e%3+v-8-3]=n}for(var e=0;18>e;e+=1){var n=!r&&1==(t>>e&1);l[e%3+v-8-3][Math.floor(e/3)]=n}},k=function(r,t){for(var e=h<<3|t,n=a.getBCHTypeInfo(e),o=0;15>o;o+=1){var i=!r&&1==(n>>o&1);6>o?l[o][8]=i:8>o?l[o+1][8]=i:l[v-15+o][8]=i}for(var o=0;15>o;o+=1){var i=!r&&1==(n>>o&1);8>o?l[8][v-o-1]=i:9>o?l[8][15-o-1+1]=i:l[8][15-o-1]=i}l[v-8][8]=!r},C=function(r,t){for(var e=-1,n=v-1,o=7,i=0,u=a.getMaskFunction(t),f=v-1;f>0;f-=2)for(6==f&&(f-=1);;){for(var g=0;2>g;g+=1)if(null==l[n][f-g]){var c=!1;i<r.length&&(c=1==(r[i]>>>o&1));var h=u(n,f-g);h&&(c=!c),l[n][f-g]=c,o-=1,-1==o&&(i+=1,o=7)}if(n+=e,0>n||n>=v){n-=e,e=-e;break}}},D=function(t,e){for(var n=0,o=0,i=0,u=new Array(e.length),f=new Array(e.length),g=0;g<e.length;g+=1){var c=e[g].dataCount,h=e[g].totalCount-c;o=Math.max(o,c),i=Math.max(i,h),u[g]=new Array(c);for(var l=0;l<u[g].length;l+=1)u[g][l]=255&t.getBuffer()[l+n];n+=c;var v=a.getErrorCorrectPolynomial(h),s=r(u[g],v.getLength()-1),d=s.mod(v);f[g]=new Array(v.getLength()-1);for(var l=0;l<f[g].length;l+=1){var w=l+d.getLength()-f[g].length;f[g][l]=w>=0?d.get(w):0}}for(var y=0,l=0;l<e.length;l+=1)y+=e[l].totalCount;for(var B=new Array(y),p=0,l=0;o>l;l+=1)for(var g=0;g<e.length;g+=1)l<u[g].length&&(B[p]=u[g][l],p+=1);for(var l=0;i>l;l+=1)for(var g=0;g<e.length;g+=1)l<f[g].length&&(B[p]=f[g][l],p+=1);return B},P=function(r,t,e){for(var n=u.getRSBlocks(r,t),g=f(),c=0;c<e.length;c+=1){var h=e[c];g.put(h.getMode(),4),g.put(h.getLength(),a.getLengthInBits(h.getMode(),r)),h.write(g)}for(var l=0,c=0;c<n.length;c+=1)l+=n[c].dataCount;if(g.getLengthInBits()>8*l)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+8*l+")");for(g.getLengthInBits()+4<=8*l&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;;){if(g.getLengthInBits()>=8*l)break;if(g.put(o,8),g.getLengthInBits()>=8*l)break;g.put(i,8)}return D(g,n)};return y.addData=function(r){var t=g(r);w.push(t),d=null},y.isDark=function(r,t){if(0>r||r>=v||0>t||t>=v)throw new Error(r+","+t);return l[r][t]},y.getModuleCount=function(){return v},y.make=function(){B(!1,E())},y.createTableTag=function(r,t){r=r||2,t="undefined"==typeof t?4*r:t;var e="";e+='<table style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: "+t+"px;",e+='">',e+="<tbody>";for(var n=0;n<y.getModuleCount();n+=1){e+="<tr>";for(var o=0;o<y.getModuleCount();o+=1)e+='<td style="',e+=" border-width: 0px; border-style: none;",e+=" border-collapse: collapse;",e+=" padding: 0px; margin: 0px;",e+=" width: "+r+"px;",e+=" height: "+r+"px;",e+=" background-color: ",e+=y.isDark(n,o)?"#000000":"#ffffff",e+=";",e+='"/>';e+="</tr>"}return e+="</tbody>",e+="</table>"},y.createImgTag=function(r,t){r=r||2,t="undefined"==typeof t?4*r:t;var e=y.getModuleCount()*r+2*t,n=t,o=e-t;return s(e,e,function(t,e){if(t>=n&&o>t&&e>=n&&o>e){var a=Math.floor((t-n)/r),i=Math.floor((e-n)/r);return y.isDark(i,a)?0:1}return 1})},y};t.stringToBytes=function(r){for(var t=new Array,e=0;e<r.length;e+=1){var n=r.charCodeAt(e);t.push(255&n)}return t},t.createStringToBytes=function(r,t){var e=function(){for(var e=l(r),n=function(){var r=e.read();if(-1==r)throw new Error;return r},o=0,a={};;){var i=e.read();if(-1==i)break;var u=n(),f=n(),g=n(),c=String.fromCharCode(i<<8|u),h=f<<8|g;a[c]=h,o+=1}if(o!=t)throw new Error(o+" != "+t);return a}(),n="?".charCodeAt(0);return function(r){for(var t=new Array,o=0;o<r.length;o+=1){var a=r.charCodeAt(o);if(128>a)t.push(a);else{var i=e[r.charAt(o)];"number"==typeof i?(255&i)==i?t.push(i):(t.push(i>>>8),t.push(255&i)):t.push(n)}}return t}};var e={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},o={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,a=7973,u=21522,f={},g=function(r){for(var t=0;0!=r;)t+=1,r>>>=1;return t};return f.getBCHTypeInfo=function(r){for(var t=r<<10;g(t)-g(n)>=0;)t^=n<<g(t)-g(n);return(r<<10|t)^u},f.getBCHTypeNumber=function(r){for(var t=r<<12;g(t)-g(a)>=0;)t^=a<<g(t)-g(a);return r<<12|t},f.getPatternPosition=function(r){return t[r-1]},f.getMaskFunction=function(r){switch(r){case o.PATTERN000:return function(r,t){return(r+t)%2==0};case o.PATTERN001:return function(r,t){return r%2==0};case o.PATTERN010:return function(r,t){return t%3==0};case o.PATTERN011:return function(r,t){return(r+t)%3==0};case o.PATTERN100:return function(r,t){return(Math.floor(r/2)+Math.floor(t/3))%2==0};case o.PATTERN101:return function(r,t){return r*t%2+r*t%3==0};case o.PATTERN110:return function(r,t){return(r*t%2+r*t%3)%2==0};case o.PATTERN111:return function(r,t){return(r*t%3+(r+t)%2)%2==0};default:throw new Error("bad maskPattern:"+r)}},f.getErrorCorrectPolynomial=function(t){for(var e=r([1],0),n=0;t>n;n+=1)e=e.multiply(r([1,i.gexp(n)],0));return e},f.getLengthInBits=function(r,t){if(t>=1&&10>t)switch(r){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(27>t)switch(r){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else{if(!(41>t))throw new Error("type:"+t);switch(r){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}}},f.getLostPoint=function(r){for(var t=r.getModuleCount(),e=0,n=0;t>n;n+=1)for(var o=0;t>o;o+=1){for(var a=0,i=r.isDark(n,o),u=-1;1>=u;u+=1)if(!(0>n+u||n+u>=t))for(var f=-1;1>=f;f+=1)0>o+f||o+f>=t||(0!=u||0!=f)&&i==r.isDark(n+u,o+f)&&(a+=1);a>5&&(e+=3+a-5)}for(var n=0;t-1>n;n+=1)for(var o=0;t-1>o;o+=1){var g=0;r.isDark(n,o)&&(g+=1),r.isDark(n+1,o)&&(g+=1),r.isDark(n,o+1)&&(g+=1),r.isDark(n+1,o+1)&&(g+=1),(0==g||4==g)&&(e+=3)}for(var n=0;t>n;n+=1)for(var o=0;t-6>o;o+=1)r.isDark(n,o)&&!r.isDark(n,o+1)&&r.isDark(n,o+2)&&r.isDark(n,o+3)&&r.isDark(n,o+4)&&!r.isDark(n,o+5)&&r.isDark(n,o+6)&&(e+=40);for(var o=0;t>o;o+=1)for(var n=0;t-6>n;n+=1)r.isDark(n,o)&&!r.isDark(n+1,o)&&r.isDark(n+2,o)&&r.isDark(n+3,o)&&r.isDark(n+4,o)&&!r.isDark(n+5,o)&&r.isDark(n+6,o)&&(e+=40);for(var c=0,o=0;t>o;o+=1)for(var n=0;t>n;n+=1)r.isDark(n,o)&&(c+=1);var h=Math.abs(100*c/t/t-50)/5;return e+=10*h},f}(),i=function(){for(var r=new Array(256),t=new Array(256),e=0;8>e;e+=1)r[e]=1<<e;for(var e=8;256>e;e+=1)r[e]=r[e-4]^r[e-5]^r[e-6]^r[e-8];for(var e=0;255>e;e+=1)t[r[e]]=e;var n={};return n.glog=function(r){if(1>r)throw new Error("glog("+r+")");return t[r]},n.gexp=function(t){for(;0>t;)t+=255;for(;t>=256;)t-=255;return r[t]},n}(),u=function(){var r=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(r,t){var e={};return e.totalCount=r,e.dataCount=t,e},e={},o=function(t,e){switch(e){case n.L:return r[4*(t-1)+0];case n.M:return r[4*(t-1)+1];case n.Q:return r[4*(t-1)+2];case n.H:return r[4*(t-1)+3];default:return void 0}};return e.getRSBlocks=function(r,e){var n=o(r,e);if("undefined"==typeof n)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+e);for(var a=n.length/3,i=new Array,u=0;a>u;u+=1)for(var f=n[3*u+0],g=n[3*u+1],c=n[3*u+2],h=0;f>h;h+=1)i.push(t(g,c));return i},e}(),f=function(){var r=new Array,t=0,e={};return e.getBuffer=function(){return r},e.get=function(t){var e=Math.floor(t/8);return 1==(r[e]>>>7-t%8&1)},e.put=function(r,t){for(var n=0;t>n;n+=1)e.putBit(1==(r>>>t-n-1&1))},e.getLengthInBits=function(){return t},e.putBit=function(e){var n=Math.floor(t/8);r.length<=n&&r.push(0),e&&(r[n]|=128>>>t%8),t+=1},e},g=function(r){var n=e.MODE_8BIT_BYTE,o=r,a=t.stringToBytes(r),i={};return i.getMode=function(){return n},i.getLength=function(r){return a.length},i.write=function(r){for(var t=0;t<a.length;t+=1)r.put(a[t],8)},i},c=function(){var r=new Array,t={};return t.writeByte=function(t){r.push(255&t)},t.writeShort=function(r){t.writeByte(r),t.writeByte(r>>>8)},t.writeBytes=function(r,e,n){e=e||0,n=n||r.length;for(var o=0;n>o;o+=1)t.writeByte(r[o+e])},t.writeString=function(r){for(var e=0;e<r.length;e+=1)t.writeByte(r.charCodeAt(e))},t.toByteArray=function(){return r},t.toString=function(){var t="";t+="[";for(var e=0;e<r.length;e+=1)e>0&&(t+=","),t+=r[e];return t+="]"},t},h=function(){var r=0,t=0,e=0,n="",o={},a=function(r){n+=String.fromCharCode(i(63&r))},i=function(r){if(0>r);else{if(26>r)return 65+r;if(52>r)return 97+(r-26);if(62>r)return 48+(r-52);if(62==r)return 43;if(63==r)return 47}throw new Error("n:"+r)};return o.writeByte=function(n){for(r=r<<8|255&n,t+=8,e+=1;t>=6;)a(r>>>t-6),t-=6},o.flush=function(){if(t>0&&(a(r<<6-t),r=0,t=0),e%3!=0)for(var o=3-e%3,i=0;o>i;i+=1)n+="="},o.toString=function(){return n},o},l=function(r){var t=r,e=0,n=0,o=0,a={};a.read=function(){for(;8>o;){if(e>=t.length){if(0==o)return-1;throw new Error("unexpected end of file./"+o)}var r=t.charAt(e);if(e+=1,"="==r)return o=0,-1;r.match(/^\s$/)||(n=n<<6|i(r.charCodeAt(0)),o+=6)}var a=n>>>o-8&255;return o-=8,a};var i=function(r){if(r>=65&&90>=r)return r-65;if(r>=97&&122>=r)return r-97+26;if(r>=48&&57>=r)return r-48+52;if(43==r)return 62;if(47==r)return 63;throw new Error("c:"+r)};return a},v=function(r,t){var e=r,n=t,o=new Array(r*t),a={};a.setPixel=function(r,t,n){o[t*e+r]=n},a.write=function(r){r.writeString("GIF87a"),r.writeShort(e),r.writeShort(n),r.writeByte(128),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(255),r.writeByte(255),r.writeByte(255),r.writeString(","),r.writeShort(0),r.writeShort(0),r.writeShort(e),r.writeShort(n),r.writeByte(0);var t=2,o=u(t);r.writeByte(t);for(var a=0;o.length-a>255;)r.writeByte(255),r.writeBytes(o,a,255),a+=255;r.writeByte(o.length-a),r.writeBytes(o,a,o.length-a),r.writeByte(0),r.writeString(";")};var i=function(r){var t=r,e=0,n=0,o={};return o.write=function(r,o){if(r>>>o!=0)throw new Error("length over");for(;e+o>=8;)t.writeByte(255&(r<<e|n)),o-=8-e,r>>>=8-e,n=0,e=0;n=r<<e|n,e+=o},o.flush=function(){e>0&&t.writeByte(n)},o},u=function(r){for(var t=1<<r,e=(1<<r)+1,n=r+1,a=f(),u=0;t>u;u+=1)a.add(String.fromCharCode(u));a.add(String.fromCharCode(t)),a.add(String.fromCharCode(e));var g=c(),h=i(g);h.write(t,n);var l=0,v=String.fromCharCode(o[l]);for(l+=1;l<o.length;){var s=String.fromCharCode(o[l]);l+=1,a.contains(v+s)?v+=s:(h.write(a.indexOf(v),n),a.size()<4095&&(a.size()==1<<n&&(n+=1),a.add(v+s)),v=s)}return h.write(a.indexOf(v),n),h.write(e,n),h.flush(),g.toByteArray()},f=function(){var r={},t=0,e={};return e.add=function(n){if(e.contains(n))throw new Error("dup key:"+n);r[n]=t,t+=1},e.size=function(){return t},e.indexOf=function(t){return r[t]},e.contains=function(t){return"undefined"!=typeof r[t]},e};return a},s=function(r,t,e,n){for(var o=v(r,t),a=0;t>a;a+=1)for(var i=0;r>i;i+=1)o.setPixel(i,a,e(i,a));var u=c();o.write(u);for(var f=h(),g=u.toByteArray(),l=0;l<g.length;l+=1)f.writeByte(g[l]);f.flush();var s="";return s+="<img",s+=' src="',s+="data:image/gif;base64,",s+=f,s+='"',s+=' width="',s+=r,s+='"',s+=' height="',s+=t,s+='"',n&&(s+=' alt="',s+=n,s+='"'),s+="/>"};return t}()}(o)}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["steeve:jquery-qrcode"]={}}();

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,a=Package.meteor.meteorEnv,r=Package.underscore._,t=Package.modules.meteorInstall,n=Package.modules.Buffer,c=Package.modules.process,s=Package["ecmascript-runtime"].Symbol,u=Package["ecmascript-runtime"].Map,m=Package["ecmascript-runtime"].Set,p=Package["babel-runtime"].meteorBabelHelpers,i=Package.promise.Promise,l,d=t({node_modules:{meteor:{webapp:{"webapp_client.js":function(){l={_isCssLoaded:function e(){return 0===document.styleSheets.length?!0:r.find(document.styleSheets,function(e){return e.cssText&&!e.cssRules?!e.cssText.match(/meteor-css-not-found-error/):!r.find(e.cssRules,function(e){return".meteor-css-not-found-error"===e.selectorText})})}}},"webapp_cordova.js":function(){e.startup(function(){WebAppLocalServer.onError(function(e){console.error(e)})})}}}}},{extensions:[".js",".json"]});d("./node_modules/meteor/webapp/webapp_client.js"),d("./node_modules/meteor/webapp/webapp_cordova.js"),"undefined"==typeof Package&&(Package={}),function(e,o){for(var a in o)a in e||(e[a]=o[a])}(Package.webapp={},{WebApp:l})}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,n=Package.meteor.meteorEnv,r=Package.underscore._,i=Package.ejson.EJSON,a=Package.modules.meteorInstall,f=Package.modules.Buffer,o=Package.modules.process,c,s,l=a({node_modules:{meteor:{logging:{"logging.js":["cli-color",function(t){c=function(){return c.info.apply(this,arguments)};var n=0,a=[],f=0;c._intercept=function(e){n+=e},c._suppress=function(e){f+=e},c._intercepted=function(){var e=a;return a=[],n=0,e},c.outputFormat="json";var o={debug:"green",warn:"magenta",error:"red"},s="blue",l=["time","timeInexact","level","file","line","program","originApp","satellite","stderr"],u=l.concat(["app","message"]),d=function(t){var n=c.format(t),r=t.level;"undefined"!=typeof console&&console[r]?console[r](n):e._debug(n)};c._getCallerDetails=function(){var e=function(){var e=new Error,t=e.stack;return t},t=e();if(!t)return{};for(var n=t.split("\n"),r,i=1;i<n.length;++i){if(r=n[i],r.match(/^\s*at eval \(eval/))return{file:"eval"};if(!r.match(/packages\/(?:local-test[:_])?logging(?:\/|\.js)/))break}var a={},f=/(?:[@(]| at )([^(]+?):([0-9:]+)(?:\)|$)/.exec(r);return f?(a.line=f[2].split(":")[0],a.file=f[1].split("/").slice(-1)[0].split("?")[0],a):a},r.each(["debug","info","warn","error"],function(t){c[t]=function(o){if(f)return void f--;var s=!1;n&&(n--,s=!0);var u=!r.isObject(o)||r.isRegExp(o)||r.isDate(o)?{message:new String(o).toString()}:o;if(r.each(l,function(e){if(u[e])throw new Error("Can't set '"+e+"' in log message")}),r.has(u,"message")&&!r.isString(u.message))throw new Error("The 'message' field in log objects must be a string");if(u.omitCallerDetails||(u=r.extend(c._getCallerDetails(),u)),u.time=new Date,u.level=t,"debug"!==t)if(s)a.push(i.stringify(u));else if(e.isServer)if("colored-text"===c.outputFormat)console.log(c.format(u,{color:!0}));else{if("json"!==c.outputFormat)throw new Error("Unknown logging output format: "+c.outputFormat);console.log(i.stringify(u))}else d(u)}}),c.parse=function(e){var t=null;if(e&&"{"===e.charAt(0))try{t=i.parse(e)}catch(n){}return t&&t.time&&t.time instanceof Date?t:null},c.format=function(n,a){n=i.clone(n),a=a||{};var f=n.time;if(!(f instanceof Date))throw new Error("'time' must be a Date object");var c=n.timeInexact,l=n.level||"info",d=n.file,p=n.line,m=n.app||"",g=n.originApp,b=n.message||"",h=n.program||"",v=n.satellite,x=n.stderr||"";r.each(u,function(e){delete n[e]}),r.isEmpty(n)||(b&&(b+=" "),b+=i.stringify(n));var y=function(e){return 10>e?"0"+e:e.toString()},j=function(e){return 100>e?"0"+y(e):e.toString()},O=f.getFullYear().toString()+y(f.getMonth()+1)+y(f.getDate()),_=y(f.getHours())+":"+y(f.getMinutes())+":"+y(f.getSeconds())+"."+j(f.getMilliseconds()),w="("+-((new Date).getTimezoneOffset()/60)+")",A="";m&&(A+=m),g&&g!==m&&(A+=" via "+g),A&&(A="["+A+"] ");var N=[];h&&N.push(h),d&&N.push(d),p&&N.push(p);var S=r.isEmpty(N)?"":"("+N.join(":")+") ";v&&(S+=["[",v,"]"].join(""));var P=x?"(STDERR) ":"",z=[l.charAt(0).toUpperCase(),O,"-",_,w,c?"? ":" ",A,S,P].join(""),k=function(n,r){return a.color&&e.isServer&&r?t("cli-color")[r](n):n};return k(z,a.metaColor||s)+k(b,o[l])},c.objFromText=function(e,t){var n={message:e,level:"info",time:new Date,timeInexact:!0};return r.extend(n,t)}}],"logging_cordova.js":function(){/Android/i.test(navigator.userAgent)||(window.onerror=function(e,t,n){t=t.replace(/^.*?\/www\//,""),console.log("Uncaught Error: "+e+":"+n+":"+t)})},node_modules:{"cli-color":{"package.json":function(e,t){t.name="cli-color",t.version="0.2.3",t.main="lib"},lib:{"index.js":["es5-ext/lib/Object/descriptor","es5-ext/lib/Object/extend","es5-ext/lib/Object/map","es5-ext/lib/Object/reduce","es5-ext/lib/String/prototype/repeat","memoizee","tty","./_xterm-match",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/descriptor"),i=e("es5-ext/lib/Object/extend"),a=e("es5-ext/lib/Object/map"),f=e("es5-ext/lib/Object/reduce"),c=e("es5-ext/lib/String/prototype/repeat"),s=e("memoizee"),l=e("tty"),u=Array.prototype.join,d=Object.defineProperty,p=Object.defineProperties,m=Math.abs,g=Math.floor,b=Math.max,h=Math.min,v,x,y,j,O,_,w,A,N,S,P;v=i({bold:{_bold:[1,22]},italic:{_italic:[3,23]},underline:{_underline:[4,24]},blink:{_blink:[5,25]},inverse:{_inverse:[7,27]},strike:{_strike:[9,29]}},["black","red","green","yellow","blue","magenta","cyan","white"].reduce(function(e,t,n){return e[t]={_fg:[30+n,39]},e[t+"Bright"]={_fg:[90+n,39]},e["bg"+t[0].toUpperCase()+t.slice(1)]={_bg:[40+n,49]},e["bg"+t[0].toUpperCase()+t.slice(1)+"Bright"]={_bg:[100+n,49]},e},{})),P=s(function(e,t){return d(y(),"_cliColorData",r(i({},e._cliColorData,t)))}),x=Object.create(Function.prototype,i(a(v,function(e){return r.gs(function(){return P(this,e)})}),{xterm:r(s(function(e){return e=isNaN(e)?255:h(b(e,0),255),d(y(),"_cliColorData",r(i({},this._cliColorData,{_fg:[O?O[e]:"38;5;"+e,39]})))},{method:"xterm"})),bgXterm:r(s(function(e){return e=isNaN(e)?255:h(b(e,0),255),d(y(),"_cliColorData",r(i({},this._cliColorData,{_bg:[O?O[e]+10:"48;5;"+e,49]})))},{method:"bgXterm"}))})),"win32"===o.platform&&(O=e("./_xterm-match")),y=function(){var e=function(){var t=e._cliColorData,n="";return f(t,function(e,t){return n="["+t[1]+"m"+n,e+"["+t[0]+"m"},"",!0)+u.call(arguments," ")+n};return e.__proto__=x,e},j=function(e){return function(t){return t=isNaN(t)?0:b(g(t),0),t?"["+t+e:""}},n.exports=p(y(),{width:r.gs(o.stdout.getWindowSize?function(){return o.stdout.getWindowSize()[0]}:function(){return l.getWindowSize?l.getWindowSize()[1]:0}),height:r.gs(S=o.stdout.getWindowSize?function(){return o.stdout.getWindowSize()[1]}:function(){return l.getWindowSize?l.getWindowSize()[0]:0}),reset:r.gs(function(){return c.call("\n",S()-1)+"c"}),up:r(_=j("A")),down:r(w=j("B")),right:r(A=j("C")),left:r(N=j("D")),move:r(function(e,t){return e=isNaN(e)?0:g(e),t=isNaN(t)?0:g(t),(e>0?A(e):N(-e))+(t>0?w(t):_(-t))}),moveTo:r(function(e,t){return e=isNaN(e)?1:b(g(e),0)+1,t=isNaN(t)?1:b(g(t),0)+1,"["+t+";"+e+"H"}),bol:r(function(e){var t;return e=isNaN(e)?0:Number(e),t=e>=0?"E":"F",e=g(m(e)),arguments[1]?(e&&"F"!==t?"":"[0EK")+c.call("[1"+t+"[K",e):"["+e+t}),beep:r(""),xtermSupported:r(!O),_cliColorData:r({})})}],"_xterm-match.js":["./_xterm-colors",function(e,t,n){"use strict";var r=Array.prototype.push,i=Array.prototype.reduce,a=Math.abs,f,o,c,s;for(f=e("./_xterm-colors").map(function(e){return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4),16)}}),o=f.slice(0,16),n.exports=c=[],s=0;8>s;)c.push(30+s++);for(s=0;8>s;)c.push(90+s++);r.apply(c,f.slice(16).map(function(e){var t,n=1/0;return o.every(function(r,f){var o=i.call("rgb",function(t,n){return t+=a(r[n]-e[n])},0);return n>o&&(t=f,n=o),o}),c[t]}))}],"_xterm-colors.js":function(e,t,n){"use strict";n.exports=["000000","800000","008000","808000","000080","800080","008080","c0c0c0","808080","ff0000","00ff00","ffff00","0000ff","ff00ff","00ffff","ffffff","000000","00005f","000087","0000af","0000d7","0000ff","005f00","005f5f","005f87","005faf","005fd7","005fff","008700","00875f","008787","0087af","0087d7","0087ff","00af00","00af5f","00af87","00afaf","00afd7","00afff","00d700","00d75f","00d787","00d7af","00d7d7","00d7ff","00ff00","00ff5f","00ff87","00ffaf","00ffd7","00ffff","5f0000","5f005f","5f0087","5f00af","5f00d7","5f00ff","5f5f00","5f5f5f","5f5f87","5f5faf","5f5fd7","5f5fff","5f8700","5f875f","5f8787","5f87af","5f87d7","5f87ff","5faf00","5faf5f","5faf87","5fafaf","5fafd7","5fafff","5fd700","5fd75f","5fd787","5fd7af","5fd7d7","5fd7ff","5fff00","5fff5f","5fff87","5fffaf","5fffd7","5fffff","870000","87005f","870087","8700af","8700d7","8700ff","875f00","875f5f","875f87","875faf","875fd7","875fff","878700","87875f","878787","8787af","8787d7","8787ff","87af00","87af5f","87af87","87afaf","87afd7","87afff","87d700","87d75f","87d787","87d7af","87d7d7","87d7ff","87ff00","87ff5f","87ff87","87ffaf","87ffd7","87ffff","af0000","af005f","af0087","af00af","af00d7","af00ff","af5f00","af5f5f","af5f87","af5faf","af5fd7","af5fff","af8700","af875f","af8787","af87af","af87d7","af87ff","afaf00","afaf5f","afaf87","afafaf","afafd7","afafff","afd700","afd75f","afd787","afd7af","afd7d7","afd7ff","afff00","afff5f","afff87","afffaf","afffd7","afffff","d70000","d7005f","d70087","d700af","d700d7","d700ff","d75f00","d75f5f","d75f87","d75faf","d75fd7","d75fff","d78700","d7875f","d78787","d787af","d787d7","d787ff","d7af00","d7af5f","d7af87","d7afaf","d7afd7","d7afff","d7d700","d7d75f","d7d787","d7d7af","d7d7d7","d7d7ff","d7ff00","d7ff5f","d7ff87","d7ffaf","d7ffd7","d7ffff","ff0000","ff005f","ff0087","ff00af","ff00d7","ff00ff","ff5f00","ff5f5f","ff5f87","ff5faf","ff5fd7","ff5fff","ff8700","ff875f","ff8787","ff87af","ff87d7","ff87ff","ffaf00","ffaf5f","ffaf87","ffafaf","ffafd7","ffafff","ffd700","ffd75f","ffd787","ffd7af","ffd7d7","ffd7ff","ffff00","ffff5f","ffff87","ffffaf","ffffd7","ffffff","080808","121212","1c1c1c","262626","303030","3a3a3a","444444","4e4e4e","585858","626262","6c6c6c","767676","808080","8a8a8a","949494","9e9e9e","a8a8a8","b2b2b2","bcbcbc","c6c6c6","d0d0d0","dadada","e4e4e4","eeeeee"]}},node_modules:{"es5-ext":{lib:{Object:{"descriptor.js":["./is-callable","./valid-callable","./valid-value","./copy","./map","../String/is-string","../String/prototype/contains",function(e,t,n){"use strict";var r=e("./is-callable"),i=e("./valid-callable"),a=e("./valid-value"),f=e("./copy"),o=e("./map"),c=e("../String/is-string"),s=e("../String/prototype/contains"),l=Function.prototype.bind,u=Object.defineProperty,d;d=n.exports=function(e,t){var n,r,i;return arguments.length<2&&(t=e,e=null),null==e?(n=i=!0,r=!1):(n=s.call(e,"c"),r=s.call(e,"e"),i=s.call(e,"w")),{value:t,configurable:n,enumerable:r,writable:i}},d.gs=function(e,t,n){var a,f;return r(e)?(n=null==t?void 0:i(t),t=e,e=null):(t=null==t?void 0:i(t),n=null==n?void 0:i(n)),null==e?(a=!0,f=!1):(a=s.call(e,"c"),f=s.call(e,"e")),{get:t,set:n,configurable:a,enumerable:f}},d.binder=function p(e,t){var n,r;return c(e)?(n=a(t)&&i(t.value),r=f(t),delete r.writable,delete r.value,r.get=function(){return t.value=l.call(n,this),u(this,e,t),this[e]},r):o(e,function(e,t){return p(t,e)})}}],"is-callable.js":function(e,t,n){"use strict";var r=Array.prototype.forEach.bind([]);n.exports=function(e){var t;if(!e)return!1;if(t=typeof e,"function"===t)return!0;if("object"!==t)return!1;try{return r(e),!0}catch(n){if(n instanceof TypeError)return!1;throw n}}},"valid-callable.js":["./is-callable",function(e,t,n){"use strict";var r=e("./is-callable");n.exports=function(e){if(!r(e))throw new TypeError(e+" is not a function");return e}}],"valid-value.js":function(e,t,n){"use strict";n.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},"copy.js":["./is-plain-object","./for-each","./extend","./valid-value",function(e,t,n){"use strict";var r=e("./is-plain-object"),i=e("./for-each"),a=e("./extend"),f=e("./valid-value"),o;o=function(e,t,n){i(t,function(t,i){var f;r(t)&&(-1===(f=n[0].indexOf(t))?(n[0].push(t),n[1].push(e[i]=a({},t)),o(e[i],t,n)):e[i]=n[1][f])},t)},n.exports=function(e){var t;return(t=Object(f(e)))===e&&(t=a({},e),arguments[1]&&o(t,e,[[e],[t]])),t}}],"is-plain-object.js":function(e,t,n){"use strict";var r=Object.getPrototypeOf,i=Object.prototype,a=i.toString,f={}.toString();n.exports=function(e){var t;return e&&"object"==typeof e&&a.call(e)===f?(t=r(e),t===i||null===r(t)):!1}},"for-each.js":["./_iterate",function(e,t,n){"use strict";n.exports=e("./_iterate")("forEach")}],"_iterate.js":["./is-callable","./valid-callable","./valid-value",function(e,t,n){"use strict";var r=e("./is-callable"),i=e("./valid-callable"),a=e("./valid-value"),f=Function.prototype.call,o=Object.keys;n.exports=function(e){return function(t,n){var c,s=arguments[2],l=arguments[3];return t=Object(a(t)),i(n),c=o(t),l&&c.sort(r(l)?l.bind(t):void 0),c[e](function(e,r){return f.call(n,s,t[e],e,t,r)})}}}],"extend.js":["./valid-value",function(e,t,n){"use strict";var r=e("./valid-value"),i=Array.prototype.forEach,a=Array.prototype.slice,f=Object.keys,o;o=function(e){f(Object(e)).forEach(function(t){this[t]=e[t]},this)},n.exports=function(e){return i.call(arguments,r),a.call(arguments,1).forEach(o,e),e}}],"map.js":["./valid-callable","./for-each",function(e,t,n){"use strict";var r=e("./valid-callable"),i=e("./for-each"),a=Function.prototype.call;n.exports=function(e,t){var n={},f=arguments[2];return r(t),i(e,function(e,r,i,o){n[r]=a.call(t,f,e,r,i,o)}),n}}],"reduce.js":["./is-callable","./valid-callable","./valid-value",function(e,t,n){"use strict";var r=e("./is-callable"),i=e("./valid-callable"),a=e("./valid-value"),f=Function.prototype.call,o=Object.keys;n.exports=t=function c(e,t){var n,s,l,u,d;return a(e)&&i(t),e=Object(e),l=arguments[2],u=arguments[3],n=o(e),u&&n.sort(r(u)?u.bind(e):void 0),s=function(n,r,i){return d?f.call(t,void 0,n,e[r],r,e,i):(d=!0,f.call(t,void 0,e[n],e[r],r,e,i,n))},arguments.length<3||l===c.NO_INITIAL?n.reduce(s):(d=!0,n.reduce(s,l))},t.NO_INITIAL={}}],"is.js":function(e,t,n){"use strict";n.exports=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}},"is-empty.js":["./valid-value",function(e,t,n){"use strict";var r=e("./valid-value");n.exports=function(e){var t;r(e);for(t in e)if(e.propertyIsEnumerable(t))return!1;return!0}}]},String:{"is-string.js":function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call("");n.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===i)||!1}},prototype:{"contains.js":function(e,t,n){"use strict";var r=String.prototype.indexOf;n.exports=function(e){return r.call(this,e,arguments[1])>-1}},"repeat.js":["../../Object/valid-value","../../Number/to-uint",function(e,t,n){"use strict";var r=e("../../Object/valid-value"),i=e("../../Number/to-uint");n.exports=function(e){return new Array((isNaN(e)?1:i(e))+1).join(String(r(this)))}}]}},Number:{"to-uint.js":["./to-int",function(e,t,n){"use strict";var r=e("./to-int"),i=Math.max;n.exports=function(e){return i(0,r(e))}}],"to-int.js":["../Math/sign",function(e,t,n){"use strict";var r=e("../Math/sign"),i=Math.abs,a=Math.floor;n.exports=function(e){return isNaN(e)?0:(e=Number(e),0!==e&&isFinite(e)?r(e)*a(i(e)):e)}}],"is-nan.js":function(e,t,n){"use strict";n.exports=function(e){return e!==e}},"is-number.js":function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(1);n.exports=function(e){return"number"==typeof e||e instanceof Number||"object"==typeof e&&r.call(e)===i}}},Math:{"sign.js":function(e,t,n){"use strict";n.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}}},Error:{"custom.js":["../Object/descriptor","../Object/extend",function(e,t,n){"use strict";var r=e("../Object/descriptor"),i=e("../Object/extend"),a=Error.captureStackTrace,f;f=n.exports=function o(e,t){var n=arguments[2];null!=n&&i(this,n),this.message=String(e),null!=t&&(this.code=String(t)),a&&a(this,o)},f.prototype=Object.create(Error.prototype,{constructor:r(f),name:r("CustomError")})}]},Array:{prototype:{"e-index-of.js":["../../Number/is-nan","../../Object/is","../../Object/valid-value",function(e,t,n){"use strict";var r=e("../../Number/is-nan"),i=e("../../Object/is"),a=e("../../Object/valid-value"),f=Array.prototype.indexOf;n.exports=function(e){var t;if(!r(e)&&0!==e)return f.apply(this,arguments);for(t=arguments[1]>>>0;t<a(this).length>>>0;++t)if(this.hasOwnProperty(t)&&i(e,this[t]))return t;return-1}}],"last.js":["./last-index",function(e,t,n){"use strict";var r=e("./last-index");n.exports=function(){var e;return null!==(e=r.call(this))?this[e]:void 0}}],"last-index.js":["../../Object/valid-value",function(e,t,n){"use strict";var r=e("../../Object/valid-value");n.exports=function(){var e,t;if(!(t=r(this).length>>>0))return null;for(e=t-1;!this.hasOwnProperty(e);)if(-1===--e)return null;return e}}]},"from.js":["../Function/is-arguments",function(e,t,n){"use strict";var r=e("../Function/is-arguments"),i=Array.isArray,a=Array.prototype.slice;n.exports=function(e){return i(e)?e:r(e)?1===e.length?[e[0]]:Array.apply(null,e):a.call(e)}}]},Function:{"is-arguments.js":function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());n.exports=function(e){return r.call(e)===i}}},"global.js":function(e,t,n){"use strict";n.exports=new Function("return this")()}}},memoizee:{"package.json":function(e,t){t.name="memoizee",t.version="0.2.5",t.main="lib"},lib:{"index.js":["./regular","./primitive","./ext/dispose","./ext/resolvers","./ext/async","./ext/ref-counter","./ext/method","./ext/max-age","./ext/max",function(e,t,n){"use strict";var r=e("./regular"),i=e("./primitive"),a=Function.prototype.call;e("./ext/dispose"),e("./ext/resolvers"),e("./ext/async"),e("./ext/ref-counter"),e("./ext/method"),e("./ext/max-age"),e("./ext/max"),n.exports=function(e){var t=Object(arguments[1]);return a.call(t.primitive?i:r,this,e,t)}}],"regular.js":["es5-ext/lib/Error/custom","es5-ext/lib/Array/prototype/e-index-of","event-emitter/lib/has-listeners","./_base",function(e,t,n){"use strict";var r=e("es5-ext/lib/Error/custom"),i=e("es5-ext/lib/Array/prototype/e-index-of"),a=e("event-emitter/lib/has-listeners"),f=Function.prototype.apply;n.exports=e("./_base")(function(e,t){var n,o,c,s,l,u,d,p,m,g,b,h=e.cache={},v;0===t?(n=null,s=e.get=function(){return n},l=function(){return n=1},u=function(){n=null},e.clearAll=function(){n=null,h=e.cache={}}):(d=0,1===t?(o=[],c=[],s=e.get=function(e){var t=i.call(o,e[0]);return-1===t?null:c[t]},l=function(e){return o.push(e[0]),c.push(++d),d},u=function(e){var t=i.call(c,e);-1!==t&&(o.splice(t,1),c.splice(t,1))},e.clearAll=function(){o=[],c=[],h=e.cache={}}):t===!1?(n=[],v={},s=e.get=function(e){var t=0,r=n,a,f=e.length;if(0===f)return r[f]||null;if(r=r[f]){for(;f-1>t;){if(a=i.call(r[0],e[t]),-1===a)return null;r=r[1][a],++t}return a=i.call(r[0],e[t]),-1===a?null:r[1][a]||null}return null},l=function(e){var t=0,r=n,a,f=e.length;if(0===f)r[f]=++d;else{for(r[f]||(r[f]=[[],[]]),r=r[f];f-1>t;)a=i.call(r[0],e[t]),-1===a&&(a=r[0].push(e[t])-1,r[1].push([[],[]])),r=r[1][a],++t;a=i.call(r[0],e[t]),-1===a&&(a=r[0].push(e[t])-1),r[1][a]=++d}return v[d]=e,d},u=function(e){var t=0,r=n,a,f=v[e],o=f.length,c=[];if(0===o)delete r[o];else if(r=r[o]){for(;o-1>t;){if(a=i.call(r[0],f[t]),-1===a)return;c.push(r,a),r=r[1][a],++t}if(a=i.call(r[0],f[t]),-1===a)return;for(e=r[1][a],r[0].splice(a,1),r[1].splice(a,1);!r[0].length&&c.length;)a=c.pop(),r=c.pop(),r[0].splice(a,1),r[1].splice(a,1)}delete v[e]},e.clearAll=function(){n=[],h=e.cache={},v={}}):(n=[[],[]],v={},s=e.get=function(e){for(var r=0,a=n,f;t-1>r;){if(f=i.call(a[0],e[r]),-1===f)return null;a=a[1][f],++r}return f=i.call(a[0],e[r]),-1===f?null:a[1][f]||null},l=function(e){for(var r=0,a=n,f;t-1>r;)f=i.call(a[0],e[r]),-1===f&&(f=a[0].push(e[r])-1,a[1].push([[],[]])),a=a[1][f],++r;return f=i.call(a[0],e[r]),-1===f&&(f=a[0].push(e[r])-1),a[1][f]=++d,v[d]=e,d},u=function(e){for(var r=0,a=n,f,o=[],c=v[e];t-1>r;){if(f=i.call(a[0],c[r]),-1===f)return;o.push(a,f),a=a[1][f],++r}if(f=i.call(a[0],c[r]),-1!==f){for(e=a[1][f],a[0].splice(f,1),a[1].splice(f,1);!a[0].length&&o.length;)f=o.pop(),a=o.pop(),a[0].splice(f,1),a[1].splice(f,1);delete v[e]}},e.clearAll=function(){n=[[],[]],h=e.cache={},v={}})),e.memoized=function(){var t=s(arguments),n;if(null!=t)return m&&e.emit("hit",t,arguments,this),h[t];if(n=f.call(p,this,arguments),t=s(arguments),null!=t)throw new r("Circular invocation","CIRCULAR_INVOCATION");return t=l(arguments),h[t]=n,g&&e.emit("init",t),n},e.clear=function(t){h.hasOwnProperty(t)&&(b&&e.emit("purge",t),u(t),delete h[t])},e.once("ready",function(){p=e.fn,m=a(e,"hit"),g=a(e,"init"),b=a(e,"purge")})})}],"_base.js":["es5-ext/lib/Object/valid-callable","es5-ext/lib/Object/for-each","event-emitter/lib/core",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/valid-callable"),i=e("es5-ext/lib/Object/for-each"),a=e("event-emitter/lib/core"),f;n.exports=t=function(e){return function t(n){var o,c,s,l,u;return r(n),n.memoized?n:(o=Object(arguments[1]),u=a({memoize:t,fn:n}),isNaN(o.length)?(c=n.length,o.async&&f.async&&--c):c=o.length===!1?!1:o.length>>>0,e(u,c),i(f,function(e,t){e.force?e(u,o):o[t]&&e(o[t],u,o)}),n=u.fn,s=u.get,l=u.clear,u.memoized.clear=function(){l(s(arguments))},u.memoized.clearAll=function(){u.emit("purgeall"),u.clearAll()},u.memoized.memoized=!0,u.emit("ready"),u.memoized)}},f=t.ext={}}],"primitive.js":["es5-ext/lib/Error/custom","event-emitter/lib/has-listeners","./_base",function(e,t,n){"use strict";var r=e("es5-ext/lib/Error/custom"),i=e("event-emitter/lib/has-listeners"),a=function(){return""},f=function(e){return e[0]},o=Function.prototype.apply,c=Function.prototype.call;n.exports=e("./_base")(function(e,t){var n,s=e.cache={},l,u,d,p;n=1===t?e.get=f:t===!1?e.get=function(e){var t="",n,r=e.length;if(r)for(t+=e[n=0];--r;)t+=""+e[++n];else t="";return t}:t?e.get=function(e){for(var n=String(e[0]),r=0,i=t;--i;)n+=""+e[++r];return n}:e.get=a,e.memoized=1===t?function(t){var n;if(s.hasOwnProperty(t))return u&&e.emit("hit",t,arguments,this),s[t];if(n=1===arguments.length?c.call(l,this,t):o.call(l,this,arguments),s.hasOwnProperty(t))throw new r("Circular invocation","CIRCULAR_INVOCATION");return s[t]=n,d&&e.emit("init",t),n}:function(){var t=n(arguments),i;if(s.hasOwnProperty(t))return u&&e.emit("hit",t,arguments,this),s[t];if(i=o.call(e.fn,this,arguments),s.hasOwnProperty(t))throw new r("Circular invocation","CIRCULAR_INVOCATION");return s[t]=i,d&&e.emit("init",t),i},e.clear=function(t){s.hasOwnProperty(t)&&(p&&e.emit("purge",t),delete s[t])},e.clearAll=function(){s=e.cache={}},e.once("ready",function(){l=e.fn,u=i(e,"hit"),d=i(e,"init"),p=i(e,"purge")})})}],ext:{"dispose.js":["es5-ext/lib/Object/valid-callable","es5-ext/lib/Object/for-each","../_base",function(e){"use strict";var t=e("es5-ext/lib/Object/valid-callable"),n=e("es5-ext/lib/Object/for-each"),r=e("../_base").ext,i=Array.prototype.slice;r.dispose=function(e,a,f){var o,c;t(e),c=f.async&&r.async,a.on("purge"+(c?"async":""),o=c?function(t){var n=a.async[t];delete a.cache[t],e.apply(a.memoized["_memoize:context_"],i.call(n,1))}:function(t){var n=a.cache[t];delete a.cache[t],e.call(a.memoized["_memoize:context_"],n)}),c||a.on("purgeall",function(){n(a.cache,function(e,t){o(t)})})}}],"resolvers.js":["es5-ext/lib/Array/from","es5-ext/lib/Object/for-each","es5-ext/lib/Object/valid-callable","../_base",function(e){"use strict";var t=e("es5-ext/lib/Array/from"),n=e("es5-ext/lib/Object/for-each"),r=e("es5-ext/lib/Object/valid-callable"),i=Array.prototype.slice,a;a=function(e){return this.map(function(t,n){return t?t(e[n]):e[n]}).concat(i.call(e,this.length))},e("../_base").ext.resolvers=function(e,i){var f;f=t(e),f.forEach(function(e){null==e||r(e)}),f=a.bind(f),function(e){i.memoized=function(){var t;return i.memoized.args=arguments,t=e.apply(this,f(arguments)),delete i.memoized.args,t},n(e,function(t,n){i.memoized[n]=function(){return e[n].apply(this,f(arguments))}})}(i.memoized)}}],"async.js":["es5-ext/lib/Array/from","es5-ext/lib/Array/prototype/last","es5-ext/lib/Object/for-each","es5-ext/lib/Object/is-callable","next-tick","../_base",function(e){"use strict";var t=e("es5-ext/lib/Array/from"),n=e("es5-ext/lib/Array/prototype/last"),r=e("es5-ext/lib/Object/for-each"),i=e("es5-ext/lib/Object/is-callable"),a=e("next-tick"),f=Array.isArray,o=Array.prototype.slice,c=Function.prototype.apply;e("../_base").ext.async=function(e,s){var l,u;l=s.async={},function(e){var u,d,p,m,g,b;s.on("init",function(e){u.id=e,l[e]=d?[d]:[]}),s.on("hit",function(e,t,n){d&&(f(l[e])?l[e].push(d):(a(function(e,r,i,a){l[r]?(s.emit("hitasync",r,t,n),c.call(e,this.context,this)):g.apply(i,a)}.bind(l[e],d,e,p,m)),p=m=null))}),s.fn=function(){var n,r;return n=arguments,r=t(n),r.push(u=function i(e){var t,n,r,f;if(null==i.id)return void a(c.bind(i,this,arguments));for(r=l[i.id],s.cache.hasOwnProperty(i.id)?e?(delete l[i.id],s.clear(i.id)):(arguments.context=this,l[i.id]=arguments,s.emit("initasync",i.id,r.length)):delete l[i.id],t=0;n=r[t];++t)f=c.call(n,this,arguments);return f}),c.call(e,this,r)},g=s.memoized,b=function(e){return d=n.call(e),i(d)?o.call(e,0,-1):(d=null,e)},s.memoized=function(){return g.apply(p=this,m=b(arguments))},r(g,function(e,t){s.memoized[t]=function(){return g[t].apply(this,b(arguments))}})}(s.fn),s.on("purge",u=function(e){f(l[e])||(s.emit("purgeasync",e),delete l[e])}),s.on("purgeall",function(){r(s.async,function(e,t){u(t)})})}}],"ref-counter.js":["../_base",function(e){"use strict";var t=e("../_base").ext;t.refCounter=function(e,n,r){var i,a;i={},a=r.async&&t.async,n.on("init"+(a?"async":""),a?function(e,t){i[e]=t}:function(e){i[e]=1}),n.on("hit"+(a?"async":""),function(e){++i[e]}),n.on("purge"+(a?"async":""),function(e){delete i[e]}),a||n.on("purgeall",function(){i={}}),n.memoized.clearRef=function(){var e=n.get(arguments);return i.hasOwnProperty(e)?--i[e]?!1:(n.clear(e),!0):null}}}],"method.js":["es5-ext/lib/Object/descriptor","es5-ext/lib/global","es5-ext/lib/Object/extend","es5-ext/lib/String/is-string","../_base",function(e){"use strict";var t=e("es5-ext/lib/Object/descriptor"),n=e("es5-ext/lib/global"),r=e("es5-ext/lib/Object/extend"),i=e("es5-ext/lib/String/is-string"),a=Object.create,f=Object.defineProperty;e("../_base").ext.method=function(e,o,c){i(c.method)?e={name:String(c.method),descriptor:{configurable:!0,writable:!0}}:(e=c.method,e.name=String(e.name),e.descriptor=null==e.descriptor?{configurable:!0,writable:!0}:Object(e.descriptor)),c=a(c),c.method=void 0,function(i){o.memoized=function(){var r;return this&&this!==n?(r=e.descriptor.value=o.memoize(o.fn.bind(this),c),f(this,e.name,e.descriptor),f(r,"_memoize:context_",t(this)),r.apply(this,arguments)):i.apply(this,arguments)},r(o.memoized,i)}(o.memoized)}}],"max-age.js":["es5-ext/lib/Number/is-number","es5-ext/lib/Object/for-each","next-tick","../_base",function(e){"use strict";var t=e("es5-ext/lib/Number/is-number"),n=e("es5-ext/lib/Object/for-each"),r=e("next-tick"),i=e("../_base").ext,a=Math.max,f=Math.min;i.maxAge=function(e,o,c){var s,l,u,d;e>>>=0,e&&(s={},l=c.async&&i.async,o.on("init"+(l?"async":""),function(t){s[t]=setTimeout(function(){o.clear(t)},e),d&&(d[t]=setTimeout(function(){delete d[t]},u))}),o.on("purge"+(l?"async":""),function(e){clearTimeout(s[e]),d&&d[e]&&(clearTimeout(d[e]),delete d[e]),delete s[e]}),c.preFetch&&(u=t(c.preFetch)?a(f(Number(c.preFetch),1),0):.333,u&&(d={},u=(1-u)*e,o.on("hit"+(l?"async":""),function(e,t,n){d[e]||(d[e]=!0,r(function(){d[e]===!0&&(delete d[e],o.clear(e),o.memoized.apply(n,t))}))}))),l||o.on("purgeall",function(){n(s,function(e){clearTimeout(e)}),s={},d&&(n(d,function(e){clearTimeout(e)}),d={})}))}}],"max.js":["../_base",function(e){"use strict";var t=e("../_base").ext;t.max=function(e,n,r){var i,a,f,o,c,s;e>>>=0,e&&(i=-1,a=f=0,o={},c={},s=r.async&&t.async,n.on("init"+(s?"async":""),function(t){o[++i]=t,c[t]=i,++f,f>e&&n.clear(o[a])}),n.on("hit"+(s?"async":""),function(e){var t=c[e];if(o[++i]=e,c[e]=i,delete o[t],a===t)for(;!o.hasOwnProperty(++a);)continue}),n.on("purge"+(s?"async":""),function(e){var t=c[e];if(delete o[t],--f,a===t)if(f)for(;!o.hasOwnProperty(++a);)continue;else i=-1,a=0}),s||n.on("purgeall",function(){i=-1,a=f=0,o={},c={}}))}}]}},node_modules:{"event-emitter":{lib:{"has-listeners.js":["es5-ext/lib/Object/is-empty","es5-ext/lib/Object/valid-value","./_id",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/is-empty"),i=e("es5-ext/lib/Object/valid-value"),a=e("./_id");n.exports=function(e){var t;return i(e),t=arguments[1],arguments.length>1?e.hasOwnProperty(a)&&e[a].hasOwnProperty(t):e.hasOwnProperty(a)&&!r(e[a])}}],"_id.js":function(e,t,n){"use strict";n.exports="_ee2_"},"core.js":["es5-ext/lib/Object/descriptor","es5-ext/lib/Object/valid-callable","./_id",function(e,t,n){"use strict";var r=e("es5-ext/lib/Object/descriptor"),i=e("es5-ext/lib/Object/valid-callable"),a=e("./_id"),f=Function.prototype.apply,o=Function.prototype.call,c=Object.create,s=Object.defineProperty,l=Object.defineProperties,u={configurable:!0,enumerable:!1,writable:!0},d,p,m,g,b,h,v,x;b=a+"l_",d=function(e,t){var n;return i(t),this.hasOwnProperty(a)?n=this[a]:(n=u.value={},s(this,a,u),u.value=null),n.hasOwnProperty(e)?n[e].hasOwnProperty(b)?n[e].push(t):(n[e]=[n[e],t])[b]=!0:n[e]=t,this},p=function(e,t){var n,r;return i(t),r=this,d.call(this,e,n=function(){m.call(r,e,n),f.call(t,this,arguments)}),n._listener=t,this},m=function(e,t){var n,r,f,o;if(i(t),!this.hasOwnProperty(a))return this;if(n=this[a],!n.hasOwnProperty(e))return this;if(r=n[e],r.hasOwnProperty(b))for(o=0;f=r[o];++o)(f===t||f._listener===t)&&(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else(r===t||r._listener===t)&&delete n[e];return this},g=function(e){var t,n,r,i,c,s;if(this.hasOwnProperty(a)&&(t=this[a],t.hasOwnProperty(e)))if(c=t[e],c.hasOwnProperty(b)){for(r=arguments.length,s=new Array(r-1),n=1;r>n;++n)s[n-1]=arguments[n];for(c=c.slice(),n=0;i=c[n];++n)f.call(i,this,s)}else switch(arguments.length){case 1:o.call(c,this);break;case 2:o.call(c,this,arguments[1]);break;case 3:o.call(c,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,s=new Array(r-1),n=1;r>n;++n)s[n-1]=arguments[n];f.call(c,this,s)}},h={on:d,once:p,off:m,emit:g},v={on:r(d),once:r(p),off:r(m),emit:r(g)},x=l({},v),n.exports=t=function(e){return null==e?c(x):l(Object(e),v)},t.methods=h}]}},"next-tick":{"package.json":function(e,t){t.name="next-tick",t.version="0.1.0",t.main="lib/next-tick"},lib:{"next-tick.js":function(e,t,n){"use strict";"undefined"!=typeof o&&o&&"function"==typeof o.nextTick?n.exports=o.nextTick:"function"==typeof setImmediate?n.exports=function(e){setImmediate(e)}:n.exports=function(e){setTimeout(e,0)}}}}}}}}}}}}},{extensions:[".js",".json"]});l("./node_modules/meteor/logging/logging.js"),l("./node_modules/meteor/logging/logging_cordova.js"),"undefined"==typeof Package&&(Package={}),function(e,t){for(var n in t)n in e||(e[n]=t[n])}(Package.logging={},{Log:c})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,t=Package.meteor.meteorEnv,c=Package["ddp-client"].DDP,n;"undefined"==typeof Package&&(Package={}),function(e,a){for(var t in a)t in e||(e[t]=a[t])}(Package.livedata={},{DDP:c,LivedataTest:n})}();

!function(){var a=Package.meteor.Meteor,e=Package.meteor.global,c=Package.meteor.meteorEnv,g=Package.blaze.Blaze,n=Package.blaze.UI,k=Package.blaze.Handlebars,l=Package.htmljs.HTML;"undefined"==typeof Package&&(Package={}),function(a,e){for(var c in e)c in a||(a[c]=e[c])}(Package.ui={},{Blaze:g,UI:n,Handlebars:k})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,o,i;(function(){o={exports:{}}}).call(this),function(){function t(e,o){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var r;if(o=o||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=o.touchBoundary||10,this.layer=e,this.tapDelay=o.tapDelay||200,this.tapTimeout=o.tapTimeout||700,!t.notNeeded(e)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],c=this,s=0,u=a.length;u>s;s++)c[a[s]]=i(c[a[s]],c);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,o){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,o):i.call(e,t,n,o)},e.addEventListener=function(t,n,o){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),o):i.call(e,t,n,o)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(t){r(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=i&&/OS [6-7]_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,o;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),o=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,o,c,s,u,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(u=t.changedTouches[0],l=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),c=l.tagName.toLowerCase(),"label"===c){if(e=this.findControl(l)){if(this.focus(l),n)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-o>100||i&&window.top!==window&&"input"===c?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),i&&"select"===c||(this.targetElement=null,t.preventDefault()),!1);return i&&!r&&(s=l.fastClickScrollParent,s&&s.fastClickLastScrollTop!==s.scrollTop)?!0:(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,o,i,r;if("undefined"==typeof window.ontouchstart)return!0;if(o=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(o>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof o&&o.exports?(o.exports=t.attach,o.exports.FastClick=t):window.FastClick=t}.call(this),function(){i=o.exports.FastClick,t.startup(function(){i.attach(document.body)})}.call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package.fastclick={},{FastClick:i})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["mobile-status-bar"]={}}();

!function(){var e=Package.meteor.Meteor,n=Package.meteor.global,a=Package.meteor.meteorEnv,r;(function(){var n=0,a=!1;r={hold:function(){if(!e.isCordova)return{release:function(){}};if(a)throw new Error("Can't show launch screen once it's hidden");n++;var r=!1,o=function(){e.isCordova&&(r||(r=!0,n--,0===n&&"undefined"!=typeof navigator&&navigator.splashscreen&&(a=!0,navigator.splashscreen.hide())))};return{release:o}}}}).call(this),function(){var n=r.hold(),a=Package.templating&&Package.templating.Template;e.startup(function(){a?Package["iron:router"]?Package["iron:router"].Router.onAfterAction(function(){n.release()}):(a.body.onRendered(function(){n.release()}),setTimeout(function(){n.release()},6e3)):n.release()})}.call(this),"undefined"==typeof Package&&(Package={}),function(e,n){for(var a in n)a in e||(e[a]=n[a])}(Package["launch-screen"]={},{LaunchScreen:r})}();

!function(){var a=Package.meteor.Meteor,e=Package.meteor.global,c=Package.meteor.meteorEnv,n=Package.webapp.WebApp,g=Package.logging.Log,r=Package.deps.Tracker,t=Package.deps.Deps,i=Package.session.Session,o=Package["ddp-client"].DDP,s=Package.mongo.Mongo,k=Package.ui.Blaze,d=Package.ui.UI,P=Package.ui.Handlebars,l=Package.spacebars.Spacebars,u=Package.templating.Template,m=Package.check.check,p=Package.check.Match,h=Package.underscore._,v=Package.jquery.$,f=Package.jquery.jQuery,$=Package.random.Random,b=Package.ejson.EJSON,q=Package.fastclick.FastClick,C=Package["launch-screen"].LaunchScreen,j=Package.htmljs.HTML;(function(){(function(){u.__checkName("QrCode"),u.QrCode=new u("Template.QrCode",function(){var a=this;return j.Raw('<div class="qr-code-container"></div>')})}).call(this),function(){function a(a){var e=new Image;return e.src=a.toDataURL("image/png"),e}u.QrCode.onRendered(function(){var e=u.instance();e.$("div").qrcode({render:"canvas",size:50,text:e.data.text});var c=e.$("div > canvas")[0];e.$("div").append(a(c)),e.$("canvas").remove(),e.$("img").addClass("qr-code"),void 0!==e.data.size&&e.$("img").css({width:e.data.size,height:e.data.size})})}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),Package["khrone:img-qrcode"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package.coffeescript={}}();

!function(){var e=Package.meteor.Meteor,t=Package.meteor.global,o=Package.meteor.meteorEnv,n;(function(){(function(){var e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],t=!(null==window.mozInnerScreenX),o=function(o,n,i){var r=document.createElement("div");r.id="input-textarea-caret-position-mirror-div",document.body.appendChild(r);var a=r.style,d=window.getComputedStyle?getComputedStyle(o):o.currentStyle;a.whiteSpace="pre-wrap","INPUT"!==o.nodeName&&(a.wordWrap="break-word"),a.position="absolute",a.visibility="hidden",e.forEach(function(e){a[e]=d[e]}),t?(a.width=parseInt(d.width)-2+"px",o.scrollHeight>parseInt(d.height)&&(a.overflowY="scroll")):a.overflow="hidden",r.textContent=o.value.substring(0,n),"INPUT"===o.nodeName&&(r.textContent=r.textContent.replace(/\s/g," "));var l=document.createElement("span");l.textContent=o.value.substring(n)||".",r.appendChild(l);var c={top:l.offsetTop+parseInt(d.borderTopWidth),left:l.offsetLeft+parseInt(d.borderLeftWidth)};return document.body.removeChild(r),c};"undefined"!=typeof Package?n=o:module.exports=o}).call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(e,t){for(var o in t)o in e||(e[o]=t[o])}(Package["dandv:caret-position"]={},{getCaretCoordinates:n})}();

!function(){var t=Package.meteor.Meteor,e=Package.meteor.global,n=Package.meteor.meteorEnv,o=Package.blaze.Blaze,i=Package.blaze.UI,r=Package.blaze.Handlebars,s=Package.templating.Template,l=Package.jquery.$,c=Package.jquery.jQuery,u=Package.underscore._,a=Package.mongo.Mongo,p=Package["ddp-client"].DDP,h=Package["dandv:caret-position"].getCaretCoordinates,m=Package.htmljs.HTML,d=Package.spacebars.Spacebars,f=Package["ecmascript-runtime"].Symbol,g=Package["ecmascript-runtime"].Map,k=Package["ecmascript-runtime"].Set,v=Package["babel-runtime"].meteorBabelHelpers,y=Package.promise.Promise,b,C;(function(){(function(){s.__checkName("inputAutocomplete"),s.inputAutocomplete=new s("Template.inputAutocomplete",function(){var t=this;return[m.INPUT(m.Attrs({type:"text"},function(){return d.attrMustache(t.lookup("attributes"))})),"\n    ",d.include(t.lookupTemplate("autocompleteContainer"))]}),s.__checkName("textareaAutocomplete"),s.textareaAutocomplete=new s("Template.textareaAutocomplete",function(){var t=this;return[m.TEXTAREA(m.Attrs(function(){return d.attrMustache(t.lookup("attributes"))},{value:function(){return o._InOuterTemplateScope(t,function(){return d.include(function(){return d.call(t.templateContentBlock)})})}})),"\n    ",d.include(t.lookupTemplate("autocompleteContainer"))]}),s.__checkName("_autocompleteContainer"),s._autocompleteContainer=new s("Template._autocompleteContainer",function(){var t=this;return o.If(function(){return d.call(t.lookup("isShowing"))},function(){return["\n    ",m.DIV({"class":"-autocomplete-container"},"\n        ",o.If(function(){return d.call(t.lookup("isLoaded"))},function(){return["\n            ",o.Unless(function(){return d.call(t.lookup("empty"))},function(){return["\n            ",m.UL({"class":"-autocomplete-list"},"\n                ",o.Each(function(){return d.call(t.lookup("filteredList"))},function(){return["\n                ",m.LI({"class":"-autocomplete-item"},"\n                    ",d.With(function(){return d.call(d.dot(t.lookup(".."),"currentTemplate"))},function(){return["\n                        ",d.With(function(){return d.call(t.lookup(".."))},function(){return["  \n                            ",d.include(t.lookupTemplate("..")),"  \n                        "]}),"\n                    "]}),"\n                "),"\n                "]}),"\n            "),"\n            "]},function(){return["\n                ",d.include(t.lookupTemplate("noMatchTemplate")),"\n            "]}),"\n        "]},function(){return["\n            ",m.I("loading..."),"\n        "]}),"\n    "),"\n    "]})}),s.__checkName("_noMatch"),s._noMatch=new s("Template._noMatch",function(){var t=this;return m.Raw("(<i>no matches</i>)")})}).call(this),function(){b="object"==typeof b?b:{};var e=b,n,i,r,s,c,p,m,d=function(t,e){return function(){return t.apply(e,arguments)}};n=new a.Collection("autocompleteRecords"),c=function(t){return u.isString(t.collection)},m=function(t){if(null!=t.subscription&&!Match.test(t.collection,String))throw new Error("Collection name must be specified as string for server-side search");return null!=t.callback?console.warn("autocomplete no longer supports callbacks; use event listeners instead."):void 0},p=function(t){return!t.token},s=function(t){return new RegExp(p(t)?"(^)(.*)$":"(^|\\b|\\s)"+t.token+"([\\w.]*)$")},r=function(t,e,n){var o,i,r;return i=u.extend({},t.filter||{}),o={limit:n},e?(t.sort&&t.field&&(r={},r[t.field]=1,o.sort=r),u.isFunction(t.selector)?u.extend(i,t.selector(e)):i[t.field]={$regex:t.matchAll?e:"^"+e,$options:"undefined"==typeof t.options?"i":t.options},[i,o]):[i,o]},i=function(t,e){var n,o,i,r;for(r=e.split("."),o=0,i=r.length;i>o;o++)n=r[o],t=t[n];return t},this.AutoComplete=function(){function e(e){this.onItemClick=d(this.onItemClick,this);var n,o,i,l;for(this.limit=e.limit||5,this.position=e.position||"bottom",this.rules=e.rules,l=this.rules,o=0,i=l.length;i>o;o++)n=l[o],m(n);this.expressions=function(){var t,e,o,i;for(o=this.rules,i=[],t=0,e=o.length;e>t;t++)n=o[t],i.push(s(n));return i}.call(this),this.matched=-1,this.loaded=!0,this.ruleDep=new Deps.Dependency,this.filterDep=new Deps.Dependency,this.loadingDep=new Deps.Dependency,this.sub=null,this.comp=Deps.autorun(function(e){return function(){var o,i,s,l,u,a;return null!=(u=e.sub)&&u.stop(),(n=e.matchedRule())&&null!==(o=e.getFilter())?c(n)?(a=r(n,o,e.limit),s=a[0],i=a[1],e.setLoaded(!1),l=n.subscription||"autocomplete-recordset",e.sub=t.subscribe(l,s,i,n.collection,function(){return e.setLoaded(!0)})):void e.setLoaded(!0):void 0}}(this))}return e.KEYS=[40,38,13,27,9],e.prototype.teardown=function(){return this.comp.stop()},e.prototype.matchedRule=function(){return this.ruleDep.depend(),this.matched>=0?this.rules[this.matched]:null},e.prototype.setMatchedRule=function(t){return this.matched=t,this.ruleDep.changed()},e.prototype.getFilter=function(){return this.filterDep.depend(),this.filter},e.prototype.setFilter=function(t){return this.filter=t,this.filterDep.changed(),this.filter},e.prototype.isLoaded=function(){return this.loadingDep.depend(),this.loaded},e.prototype.setLoaded=function(t){return t!==this.loaded?(this.loaded=t,this.loadingDep.changed()):void 0},e.prototype.onKeyUp=function(){var t,e,n,o,i,r;if(this.$element){for(o=this.element.selectionStart,i=this.getText().substring(0,o),e=0,t=!1,r=[];e<this.expressions.length&&(n=i.match(this.expressions[e]),n||this.matched!==e||(this.setMatchedRule(-1),t=!0),n&&-1===this.matched&&(this.setMatchedRule(e),t=!0),n&&this.filter!==n[2]&&(this.setFilter(n[2]),t=!0),!t);)r.push(e++);return r}},e.prototype.onKeyDown=function(t){if(!(-1===this.matched||this.constructor.KEYS.indexOf(t.keyCode)<0))switch(t.keyCode){case 9:case 13:this.select()&&(t.preventDefault(),t.stopPropagation());break;case 40:t.preventDefault(),this.next();break;case 38:t.preventDefault(),this.prev();break;case 27:this.$element.blur(),this.hideList()}},e.prototype.onFocus=function(){return t.defer(function(t){return function(){return t.onKeyUp()}}(this))},e.prototype.onBlur=function(){return t.setTimeout(function(t){return function(){return t.hideList()}}(this),500)},e.prototype.onItemClick=function(t,e){return this.processSelection(t,this.rules[this.matched])},e.prototype.onItemHover=function(t,e){return this.tmplInst.$(".-autocomplete-item").removeClass("selected"),l(e.target).closest(".-autocomplete-item").addClass("selected")},e.prototype.filteredList=function(){var e,o,i,s,l;return e=this.getFilter(),-1===this.matched?null:(i=this.rules[this.matched],i.token||e?(l=r(i,e,this.limit),s=l[0],o=l[1],t.defer(function(t){return function(){return t.ensureSelection()}}(this)),c(i)?n.find({},o):i.collection.find(s,o)):null)},e.prototype.isShowing=function(){var e,n;return e=this.matchedRule(),n=null!=e&&(e.token||this.getFilter()),n&&t.defer(function(t){return function(){return t.positionContainer(),t.ensureSelection()}}(this)),n},e.prototype.select=function(){var t,e;return e=this.tmplInst.find(".-autocomplete-item.selected"),null==e?!1:(t=o.getData(e))?(this.processSelection(t,this.rules[this.matched]),!0):!1},e.prototype.processSelection=function(t,e){var n;n=i(t,e.field),p(e)?(this.setText(n),this.onBlur()):(this.replace(n,e),this.hideList()),this.$element.trigger("autocompleteselect",t)},e.prototype.replace=function(t){var e,n,o,i,r,s,l;s=this.element.selectionStart,n=this.getText(),l=n.substring(0,s),l=l.replace(this.expressions[this.matched],"$1"+this.rules[this.matched].token+t),i=n.substring(s,n.length),r=i.match(/^\s/)?"":" ",e=l+r+i,this.setText(e),o=l.length+1,this.element.setSelectionRange(o,o)},e.prototype.hideList=function(){return this.setMatchedRule(-1),this.setFilter(null)},e.prototype.getText=function(){return this.$element.val()||this.$element.text()},e.prototype.setText=function(t){return this.$element.is("input,textarea")?this.$element.val(t):this.$element.html(t)},e.prototype.positionContainer=function(){var t,e,n,o;return n=this.$element.position(),o=this.matchedRule(),t=h(this.element,this.element.selectionStart),e=null!=o&&p(o)?{left:n.left,width:this.$element.outerWidth()}:{left:n.left+t.left},"top"===this.position?e.bottom=this.$element.offsetParent().height()-n.top-t.top:e.top=n.top+t.top+parseInt(this.$element.css("font-size")),this.tmplInst.$(".-autocomplete-container").css(e)},e.prototype.ensureSelection=function(){var t;return t=this.tmplInst.$(".-autocomplete-item.selected"),t.length?void 0:this.tmplInst.$(".-autocomplete-item:first-child").addClass("selected")},e.prototype.next=function(){var t,e;return t=this.tmplInst.$(".-autocomplete-item.selected"),t.length?(t.removeClass("selected"),e=t.next(),e.length?e.addClass("selected"):this.tmplInst.$(".-autocomplete-item:first-child").addClass("selected")):void 0},e.prototype.prev=function(){var t,e;return t=this.tmplInst.$(".-autocomplete-item.selected"),t.length?(t.removeClass("selected"),e=t.prev(),e.length?e.addClass("selected"):this.tmplInst.$(".-autocomplete-item:last-child").addClass("selected")):void 0},e.prototype.currentTemplate=function(){return this.rules[this.matched].template},e}(),C={records:n,getRegExp:s,getFindParams:r}}.call(this),function(){b="object"==typeof b?b:{};var t=b,e,n,i;e={keydown:function(t,e){return e.ac.onKeyDown(t)},keyup:function(t,e){return e.ac.onKeyUp(t)},focus:function(t,e){return e.ac.onFocus(t)},blur:function(t,e){return e.ac.onBlur(t)}},s.inputAutocomplete.events(e),s.textareaAutocomplete.events(e),n=function(){return u.omit(this,"settings")},i={attributes:n,autocompleteContainer:new s("AutocompleteContainer",function(){var t;return t=new AutoComplete(o.getData().settings),this.parentView.templateInstance().ac=t,this.onViewReady(function(){return t.element=this.parentView.firstNode(),t.$element=l(t.element)}),o.With(t,function(){return s._autocompleteContainer})})},s.inputAutocomplete.helpers(i),s.textareaAutocomplete.helpers(i),s._autocompleteContainer.rendered=function(){return this.data.tmplInst=this},s._autocompleteContainer.destroyed=function(){return this.data.teardown()},s._autocompleteContainer.events({"click .-autocomplete-item":function(t,e){return e.data.onItemClick(this,t)},"mouseenter .-autocomplete-item":function(t,e){return e.data.onItemHover(this,t)}}),s._autocompleteContainer.helpers({empty:function(){return 0===this.filteredList().count()},noMatchTemplate:function(){return this.matchedRule().noMatchTemplate||s._noMatch}})}.call(this)}).call(this),"undefined"==typeof Package&&(Package={}),function(t,e){for(var n in e)n in t||(t[n]=e[n])}(Package["mizzao:autocomplete"]={},{AutocompleteTest:C})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv,n=Package.underscore._,o;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var c in a)c in e||(e[c]=a[c])}(Package["peerlibrary:blocking"]={},{blocking:o})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,r=Package.meteor.meteorEnv,c=Package["peerlibrary:blocking"].blocking,n;(function(){}).call(this),"undefined"==typeof Package&&(Package={}),function(e,a){for(var r in a)r in e||(e[r]=a[r])}(Package["peerlibrary:xml2js"]={},{xml2js:n})}();

!function(){var e=Package.meteor.Meteor,r=Package.meteor.global,n=Package.meteor.meteorEnv,t;(function(){t={extensions:{}};var e=t.forEach=function(e,r){if("function"==typeof e.forEach)e.forEach(r);else{var n,t=e.length;for(n=0;t>n;n++)r(e[n],n,e)}},r=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()};t.converter=function(e){var n,a,c,o=0,l=[],i=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var u=require("fs");if(u){var p=u.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});t.forEach(p,function(e){var n=r(e);t.extensions[n]=require("./extensions/"+e)})}}if(this.makeHtml=function(e){return n={},a={},c=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=D(e),e=e.replace(/^[ \t]+$/gm,""),t.forEach(l,function(r){e=g(r,e)}),e=C(e),e=d(e),e=s(e),e=m(e),e=j(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),t.forEach(i,function(r){e=g(r,e)}),e},e&&e.extensions){var f=this;t.forEach(e.extensions,function(e){if("string"==typeof e&&(e=t.extensions[r(e)]),"function"!=typeof e)throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";t.forEach(e(f),function(e){e.type?"language"===e.type||"lang"===e.type?l.push(e):("output"===e.type||"html"===e.type)&&i.push(e):i.push(e)})})}var g=function(e,r){if(e.regex){var n=new RegExp(e.regex,"g");return r.replace(n,e.replace)}return e.filter?e.filter(r):void 0},s=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,r,t,c,o){return r=r.toLowerCase(),n[r]=A(t),c?c+o:(o&&(a[r]=o.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},d=function(e){e=e.replace(/\n/g,"\n\n");var r="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,h),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,h),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/\n\n/g,"\n")},h=function(e,r){var n=r;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(c.push(n)-1)+"K\n\n"},m=function(e){e=y(e);var r=q("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,r),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,r),e=_(e),e=S(e),e=L(e),e=d(e),e=z(e)},v=function(e){return e=K(e),e=$(e),e=B(e),e=x(e),e=w(e),e=M(e),e=A(e),e=T(e),e=e.replace(/  +\n/g," <br />\n")},$=function(e){var r=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(r,function(e){var r=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return r=I(r,"\\`*_")})},w=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,k),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,k),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,k)},k=function(e,r,t,c,o,l,i,u){void 0==u&&(u="");var p=r,f=t,g=c.toLowerCase(),s=o,d=u;if(""==s)if(""==g&&(g=f.toLowerCase().replace(/ ?\n/g," ")),s="#"+g,void 0!=n[g])s=n[g],void 0!=a[g]&&(d=a[g]);else{if(!(p.search(/\(\s*\)$/m)>-1))return p;s=""}s=I(s,"*_");var h='<a href="'+s+'"';return""!=d&&(d=d.replace(/"/g,"&quot;"),d=I(d,"*_"),h+=' title="'+d+'"'),h+=">"+f+"</a>"},x=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,E),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,E)},E=function(e,r,t,c,o,l,i,u){var p=r,f=t,g=c.toLowerCase(),s=o,d=u;if(d||(d=""),""==s){if(""==g&&(g=f.toLowerCase().replace(/ ?\n/g," ")),s="#"+g,void 0==n[g])return p;s=n[g],void 0!=a[g]&&(d=a[g])}f=f.replace(/"/g,"&quot;"),s=I(s,"*_");var h='<img src="'+s+'" alt="'+f+'"';return d=d.replace(/"/g,"&quot;"),d=I(d,"*_"),h+=' title="'+d+'"',h+=" />"},y=function(e){function r(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return q('<h1 id="'+r(n)+'">'+v(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return q('<h2 id="'+r(n)+'">'+v(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,t){var a=n.length;return q("<h"+a+' id="'+r(t)+'">'+v(t)+"</h"+a+">")})},b,_=function(e){e+="~0";var r=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return o?e=e.replace(r,function(e,r,n){var t=r,a=n.search(/[*+-]/g)>-1?"ul":"ol";t=t.replace(/\n{2,}/g,"\n\n\n");var c=b(t);return c=c.replace(/\s+$/,""),c="<"+a+">"+c+"</"+a+">\n"}):(r=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(r,function(e,r,n,t){var a=r,c=n,o=t.search(/[*+-]/g)>-1?"ul":"ol",c=c.replace(/\n{2,}/g,"\n\n\n"),l=b(c);return l=a+"<"+o+">\n"+l+"</"+o+">\n"})),e=e.replace(/~0/,"")};b=function(e){return o++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,r,n,t,a){var c=a,o=r,l=n;return o||c.search(/\n{2,}/)>-1?c=m(H(c)):(c=_(H(c)),c=c.replace(/\n$/,""),c=v(c)),"<li>"+c+"</li>\n"}),e=e.replace(/~0/g,""),o--,e};var S=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,r,n){var t=r,a=n;return t=P(H(t)),t=D(t),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),t="<pre><code>"+t+"\n</code></pre>",q(t)+a}),e=e.replace(/~0/,"")},C=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,r,n){var t=r,a=n;return a=P(a),a=D(a),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),a="<pre><code"+(t?' class="'+t+'"':"")+">"+a+"\n</code></pre>",q(a)}),e=e.replace(/~0/,"")},q=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(c.push(e)-1)+"K\n\n"},K=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,r,n,t,a){var c=t;return c=c.replace(/^([ \t]*)/g,""),c=c.replace(/[ \t]*$/g,""),c=P(c),r+"<code>"+c+"</code>"})},P=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=I(e,"*_{}[]\\",!1)},T=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},L=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,r){var n=r;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=m(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,r){var n=r;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),q("<blockquote>\n"+n+"\n</blockquote>")})},z=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var r=e.split(/\n{2,}/g),n=[],t=r.length,a=0;t>a;a++){var o=r[a];o.search(/~K(\d+)K/g)>=0?n.push(o):o.search(/\S/)>=0&&(o=v(o),o=o.replace(/^([ \t]*)/g,"<p>"),o+="</p>",n.push(o))}t=n.length;for(var a=0;t>a;a++)for(;n[a].search(/~K(\d+)K/)>=0;){var l=c[RegExp.$1];l=l.replace(/\$/g,"$$$$"),n[a]=n[a].replace(/~K\d+K/,l)}return n.join("\n\n")},A=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},B=function(e){return e=e.replace(/\\(\\)/g,O),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,O)},M=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,r){return R(j(r))})},R=function(e){var r=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=r[Math.floor(2*Math.random())](e);else if(":"!=e){var n=Math.random();e=n>.9?r[2](e):n>.45?r[1](e):r[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},j=function(e){return e=e.replace(/~E(\d+)E/g,function(e,r){var n=parseInt(r);return String.fromCharCode(n)})},H=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},D=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,r,n){for(var t=r,a=4-t.length%4,c=0;a>c;c++)t+=" ";return t}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},I=function(e,r,n){var t="(["+r.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(t="\\\\"+t);var a=new RegExp(t,"g");return e=e.replace(a,O)},O=function(e,r){var n=r.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=t),"function"==typeof define&&define.amd&&define("showdown",function(){return t})}).call(this),function(){if(Package.templating){var e=Package.templating.Template,r=Package.blaze.Blaze,n=Package.htmljs.HTML;r.Template.registerHelper("markdown",new e("markdown",function(){var e=this,a="";e.templateContentBlock&&(a=r._toText(e.templateContentBlock,n.TEXTMODE.STRING));var c=new t.converter;return n.Raw(c.makeHtml(a))}))}}.call(this),"undefined"==typeof Package&&(Package={}),function(e,r){for(var n in r)n in e||(e[n]=r[n])}(Package.markdown={},{Showdown:t})}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["hot-code-push"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,c=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["standard-minifier-css"]={}}();

!function(){var e=Package.meteor.Meteor,a=Package.meteor.global,o=Package.meteor.meteorEnv;"undefined"==typeof Package&&(Package={}),Package["standard-minifier-js"]={}}();

Mongo=Package.mongo.Mongo,Session=Package.session.Session,$=Package.jquery.$,jQuery=Package.jquery.jQuery,Tracker=Package.tracker.Tracker,Deps=Package.tracker.Deps,FlowRouter=Package["kadira:flow-router"].FlowRouter,FlowLayout=Package["meteorhacks:flow-layout"].FlowLayout,Accounts=Package["accounts-base"].Accounts,HTTP=Package.http.HTTP,xml2js=Package["peerlibrary:xml2js"].xml2js,Showdown=Package.markdown.Showdown,Meteor=Package.meteor.Meteor,global=Package.meteor.global,meteorEnv=Package.meteor.meteorEnv,WebApp=Package.webapp.WebApp,_=Package.underscore._,DDP=Package["ddp-client"].DDP,FastClick=Package.fastclick.FastClick,LaunchScreen=Package["launch-screen"].LaunchScreen,Blaze=Package.ui.Blaze,UI=Package.ui.UI,Handlebars=Package.ui.Handlebars,Spacebars=Package.spacebars.Spacebars,Template=Package.templating.Template,meteorInstall=Package.modules.meteorInstall,Buffer=Package.modules.Buffer,process=Package.modules.process,Symbol=Package["ecmascript-runtime"].Symbol,Map=Package["ecmascript-runtime"].Map,Set=Package["ecmascript-runtime"].Set,meteorBabelHelpers=Package["babel-runtime"].meteorBabelHelpers,Promise=Package.promise.Promise,CryptoJS=Package["jparker:crypto-core"].CryptoJS,Autoupdate=Package.autoupdate.Autoupdate,Reload=Package.reload.Reload,HTML=Package.htmljs.HTML;

var require=meteorInstall({client:{account:{"template.app.js":function(){Template.__checkName("appservice"),Template.appservice=new Template("Template.appservice",function(){var e=this;return HTML.Raw('<div class="" style="  background:rgb(255,255,255)  height:100%;   ">\n        <div class="login-header">\n				软件使用协议\n			<a class="login-header-right login-page-back" href="/login"><i class="fa fa-chevron-right"></i></a>\n		</div>\n		<div style="margin-top:50px;">\n		<h3>软件许可使用协议</h3>\n<p>·提示条款</p>\n本软件许可使用协议（以下称"本协议"）由您与医攻略（北京）健康科技有限公司（以下称“我们”）共同签署。 在使用“ 云医联盟 ”软件（以下称许可软件）之前，请您仔细阅读本协议，特别是免除或者限制责任的条款、法律适用和争议解决条款。免除或者限制责任的条款将以粗体标识，您需要重点阅读。如您对协议有任何疑问，可向客服咨询。如果您同意接受本协议条款和条件的约束，您可下载安装使用许可软件。 由于互联网高速发展，您与我们签署的本协议列明的条款并不能完整罗列并覆盖您与我们所有权利与义务，现有的约定也不能保证完全符合未来发展的需求。因此，云医联盟平台《法律声明及隐私权政策》、云医联盟平台规则均为本协议的补充协议，与本协议不可分割且具有同等法律效力。如您使用许可软件，视为您同意上述补充协议。如您注册或登录云医联盟账户，针对您在使用云医联盟平台服务过程中与我们的权利义务，您与我们可适用《云医联盟平台服务协议》。 <br>我们如修改本协议或其补充协议，协议条款修改后，请您仔细阅读并接受修改后的协议后再继续使用许可软件。\n一、 定义\n1	许可软件：是指由我们开发的，供您从下载平台下载，并仅限在相应系统手持移动终端中安装、使用的软件系统。<br>\n2	云医联盟服务：由医攻略（北京）健康科技有限公司为您提供的服务。您可以通过许可软件在手持移动终端使用云医联盟服务。<br>\n二、 授权范围\n1	由于软件适配平台及终端限制，您理解您仅可在获授权的系统平台及终端使用许可软件，如您将许可软件安装在其他终端设备上（包括台式电脑、手提电脑、或授权终端外的其他手持移动终端、电视机及机顶盒等），可能会对您硬件或软件功能造成损害。<br>\n2	您应该理解许可软件仅可用于非商业目的，您不可为商业运营目的安装、使用、运行许可软件。<br>\n3	我们会对许可软件及其相关功能不时进行变更、升级、修改或转移，并会在许可软件系统中开发新的功能或其它服务。上述新的功能、软件服务如无独立协议的，您仍可取得相应功能或服务的授权，并可适用本协议。<br>\n三、 使用规范\n1	您应该规范使用许可软件，以下方式是违反使用规范的：\n 1). 从事违反法律法规政策、破坏公序良俗、损害公共利益的行为。<br>\n  2). 对许可软件及其中的相关信息擅自出租、出借、复制、修改、链接、转载、汇编、发表、出版、建立镜像站点，借助许可软件发展与之有关的衍生产品、作品、服务、插件、外挂、兼容、互联等。 <br>\n  3). 通过非由我们及其关联公司开发、授权或认可的第三方兼容软件、系统登录或使用许可软件，或针对许可软件使用非我们及其关联公司开发、授权或认证的插件和外挂。<br>\n  4).删除许可软件及其他副本上关于版权的信息、内容。修改、删除或避开应用产品中我们为保护知识产权而设置的任何技术措施。 <br>\n  5). 未经我们的书面同意，擅自将许可软件出租、出借或再许可给第三方使用，或在获得许可软件的升级版本的许可使用后，同时使用多个版本的许可使用版本，或分开转让。 <br>\n  6). 复制、反汇编、修改许可软件或其任何部分或制造其衍生作品；对许可软件或者许可软件运行过程中释放在终端中的任何数据及许可软件运行过程中终端与服务器端的交互数据进行复制、修改、挂接运行或创作任何衍生作品，包括使用插件、外挂或非经授权的第三方工具服务接入许可软件和相关系统等形式。 <br>\n  7). 进行任何危害信息网络安全的行为，包括使用许可软件时以任何方式损坏或破坏许可软件或使其不能运行或超负荷或干扰第三方对许可软件的使用；未经允许进入他人计算机系统并删除、修改、增加存储信息；故意传播恶意程序或病毒以及其他破坏、干扰正常网络信息服务的行为。 <br>\n  8). 利用许可软件发表、传送、传播、储存侵害他人知识产权、商业秘密权等合法权利的内容，或从事欺诈、盗用他人账户、资金等违法犯罪活动。 <br>\n  9) 通过修改或伪造许可软件运行中的指令、数据、数据包，增加、删减、变动许可软件的功能或运行效果，及或将具有上述用途的软件通过信息网络向公众传播或者运营。 <br>\n  10) 其他以任何不合法的方式、为任何不合法的目的、或以任何与本协议不一致的方式使用许可软件。<br>\n2	您理解并同意 \n1) 我们会对您是否涉嫌违反上述使用规范做出认定，并根据认定结果中止、终止对您的使用许可或采取其他依约可采取的限制措施。<br> 2) 对于您使用许可软件时发布的涉嫌违法或涉嫌侵犯他人合法权利或违反本协议的信息，我们会直接予以删除。<br> \n3) 对于您违反上述使用规范的行为对任意第三方造成损害的，您需要以自己的名义独立承担法律责任，并应确保我们免于因此产生损失或增加费用。 <br>\n4) 如您违反有关法律或者本协议之规定，使我们遭受任何损失，或受到任何第三方的索赔，或受到任何行政管理部门的处罚，您应当赔偿我们因此造成的损失及（或）发生的费用，包括合理的律师费用、调查取证费用。<br>\n四、 第三方软件或服务\n1	许可软件可能使用或包含了由第三方提供的软件或服务（以下称该等服务），该等服务是为了向您提供便利而设置，是取得该第三方的合法授权的。<br>\n2	由于第三方为其软件或服务的提供者，您使用该等服务时，应另行与该第三方达成服务协议，支付相应费用并承担可能的风险。您应理解我们并无权在本协议中授予您使用该等服务的任何权利，也无权对该等服务提供任何形式的保证。我们无法对该等服务提供客户支持，如果您需要获取支持，您可直接与该第三方联系。因您使用该等服务引发的任何纠纷，您可直接与该第三方协商解决。<br>\n3	您理解许可软件仅在当前使用或包含该等服务，我们无法保证许可软件将会永久地使用或包含该等服务，也无法保证将来不会使用或包含该第三方的同类型或不同类型的软件或服务或其他第三方的软件或服务，一旦我们在许可软件中使用或包含前述软件或服务，相应的软件或服务同样适用本条约定。<br>\n4	您理解第三方需要与我们进行您的信息交互以便更好地为您提供服务，您同意在使用许可软件时如使用该等服务的，您授权我们依据 《法律声明及隐私权政策》将您使用许可软件的信息传递给该第三方，或从该第三方获取您注册或使用该等服务时提供或产生的信息。如果您不希望第三方获取您的信息的，您可停止使用该等服务，我们将停止向第三方传递您的信息。<br>\n5	您同意，如果该第三方确认您违反了您与其之间关于使用该等服务的协议约定停止对您提供该等服务并要求我们处理的，由于停止该等服务可能会影响您继续使用许可软件，我们可能会中止、终止对你的使用许可或采取其他我们可对您采取的限制措施。<br>\n<h4>五、 隐私政策与数据</h4>\n保护您的个人信息对我们很重要。我们制定了《法律声明及隐私权政策》对知识产权归属及保护、您的信息收集、使用、共享、存储、保护等方面关系您切身利益的内容进行了重要披露。我们建议您完整地阅读《法律声明及隐私权政策》，以帮助您更好的保护您的个人信息。<br>\n<h4>六、 特别授权</h4>\n您对您的个人信息依法拥有权利，并且可以通过查阅《法律声明及隐私权政策》了解我们对您的个人信息的保护及处理方式。对您提供的除个人信息外的信息，为了向您提供您使用的各项服务，并维护、改进这些服务，及优化我们的服务质量等用途，对于您提交的文字、图片和视频等受知识产权保护的内容，您同意授予我们排他的、可转让、可分发次级许可、无使用费的全球性许可，用于我们及我们关联公司使用、复制、修订、改写、发布、翻译、分发、执行和展示您提交的资料数据或制作派生作品。<br>\n<h4>七、 无担保和责任限制</h4>\n1	除法律法规有明确规定外，我们将尽最大努力确保许可软件及其所涉及的技术及信息安全、有效、准确、可靠，但受限于现有技术，您理解我们不能对此进行担保。<br>\n2	您理解，对于不可抗力及第三方原因导致的您的直接或间接损失，我们无法承担责任。<br>\n3	由于您因下述任一情况所引起或与此有关的人身伤害或附带的、间接的损害赔偿，包括但不限于利润损失、资料损失、业务中断的损害赔偿或其它商业损害赔偿或损失，需由您自行承担：\n 1) 使用或未能使用许可软件；<br>\n  2) 第三方未经批准的使用许可软件或更改您的数据；<br>\n   3) 使用许可软件进行的行为产生的费用及损失；<br>\n    4) 您对许可软件的误解； <br>\n    5) 非因我们的原因而引起的与许可软件有关的其它损失。<br>\n4	非经我们或我们授权开发并正式发布的其它任何由许可软件衍生的软件均属非法，下载、安装、使用此类软件，可能导致不可预知的风险，由此产生的法律责任与纠纷与我们无关，我们有权中止、终止使用许可和或其他一切服务。<br>\n5	您与其他使用许可软件的用户之间通过许可软件进行时，因您受误导或欺骗而导致或可能导致的任何心理、生理上的伤害以及经济上的损失，均应由过错方依法承担所有责任。<br>\n<h4>八、 知识产权</h4>\n1	我们拥有许可软件的著作权、商业秘密以及其他相关的知识产权，包括与许可软件有关的各种文档资料。<br>\n2	许可软件的相关标识属于我们及我们的关联公司的知识产权，并受到相关法律法规的保护。未经我们明确授权，您不得复制、模仿、使用或发布上述标识，也不得修改或删除应用产品中体现我们及其关联公司的任何标识或身份信息。<br>\n3	未经我们及我们的关联公司事先书面同意，您不得为任何营利性或非营利性的目的自行实施、利用、转让或许可任何第三方实施、利用、转让上述知识产权。<br>\n<h4>九、 协议终止和违约责任</h4>\n1	您应理解按授权范围使用许可软件、尊重软件及软件包含内容的知识产权、按规范使用软件、按本协议约定履行义务是您获取我们授权使用软件的前提，如您严重违反本协议，我们将终止使用许可。<br>\n2	您对软件的使用有赖于我们关联公司为您提供的配套服务，您违反与我们或我们关联公司的条款、协议、规则、通告等相关规定，而被上述任一网站终止提供服务的，可能导致您无法正常使用许可软件，我们有权终止使用许可。<br>\n3	您理解出于维护平台秩序及保护消费者权益的目的，如果您向我们及（或）我们的关联公司作出任何形式的承诺，且相关公司已确认您违反了该承诺并通知我们依据您与其相关约定进行处理的，则我们可按您的承诺或协议约定的方式对您的使用许可及其他我们可控制的权益采取限制措施，包括中止或终止对您的使用许可。<br>\n4	一旦您违反本协议或与我们签订的其他协议的约定，我们可通知我们关联公司，要求其对您的权益采取限制措施，包括要求关联公司中止、终止对您提供部分或全部服务，且在其经营或实际控制的网站依法公示您的违约情况。<br>\n5	许可软件由您自下载平台下载取得，您需要遵守下载平台、系统平台、终端厂商对您使用许可软件方式与限制的约定，如果上述第三方确认您违反该约定需要我们处理的，我们可能会因第三方要求终止对您的使用许可。<br>\n6	在本使用许可终止时，您应停止对许可软件的使用行为, 并销毁许可软件的全部副本。<br>\n7	如您违反本协议规定的条款，给我们或其他用户造成损失，您必须承担全部的赔偿责任。如我们承担了上述责任，则您同意赔偿我们的相关支出和损失，包括合理的律师费用。<br>\n<h4>十、 管辖法律和可分割性</h4>\n1	本协议之效力、解释、变更、执行与争议解决均适用中华人民共和国法律，如无相关法律规定的，则应参照通用国际商业惯例和（或）行业惯例。<br>\n2	本协议由您与我们签署。因本协议产生或与本协议有关的争议，您可与我们以友好协商的方式予以解决或提交有管辖权的人民法院予以裁决。<br>\n3	本协议任何条款被有管辖权的人民法院裁定为无效，不应影响其他条款或其任何部分的效力，您与我们仍应善意履行。<br>\n<h4>十一、其他</h4>\n1	我们可能根据业务调整而变更向您提供软件服务的主体，变更后的主体与您共同履行本协议并向您提供服务，以上变更不会影响您本协议项下的权益。发生争议时，您可根据您具体使用的服务及对您权益产生影响的具体行为对象确定与您履约的主体及争议相对方。<br>\n本协议的所有标题仅仅是为了醒目及阅读方便，本身并没有实际涵义，不能作为解释本协议涵义的依据。<br>\n\n		\n\n			\n\n\n\n\n		</div>\n\n\n\n	</div>')})},"template.forget.js":function(){Template.__checkName("forget"),Template.forget=new Template("Template.forget",function(){var e=this;return HTML.Raw('<div id="page-reg" class="login-single animated  slideInLeft">\n		<div class="login-header">\n			找回密码\n			<a class="login-header-right login-page-back" href="/login"><i class="fa fa-chevron-right"></i></a>\n		</div>\n		<div class="page-login-body">\n			<div class="page-login-form">\n				<div class="page-login-row">\n					<input id="tel" type="tel" placeholder="请填写注册的手机号码">\n					<i class="fa fa-mobile"></i>\n				</div>\n				<div class="page-login-btng">\n					<div class="page-login-btn codeBtn ">发送验证码</div>\n				</div>\n			</div>\n		</div>\n	</div>')})},"template.forgetCode.js":function(){Template.__checkName("forgetCode"),Template.forgetCode=new Template("Template.forgetCode",function(){var e=this;return HTML.Raw('<div id="page-reg" class="login-single animated  slideInUp">\n		<div class="login-header">\n			验证手机号\n			<a class="login-header-right login-page-back" href="/register"><i class="fa fa-chevron-right"></i></a>\n		</div>\n		<div class="page-login-body">\n			<div class="page-login-form">\n				<div class="page-login-row">\n					<input id="code" type="tel" placeholder="请填写收到的验证码">\n					<i class="fa fa-key"></i>\n				</div>\n				<div class="page-login-btng">\n					<div class="page-login-btn regComBtn ">登录</div>\n				</div>\n			</div>\n		</div>\n	</div>')})},"template.login.js":function(){Template.__checkName("login"),Template.login=new Template("Template.login",function(){var e=this;return HTML.Raw('<div id="page-account" class="login-single animated fadeInUp ">\n        <!-- <div class="login-header ">\n			<a class="lh-back login-header-left" onclick="backaction()">返回</a>\n			账户登录\n		</div> -->\n        <div class="page-herder" style="size-color:rgb(94,94,104)">\n            帐号登入\n        </div>\n        <a href="/" class="login-exit"><i class="fa fa-remove"></i></a>\n        <div class="page-login-body" style="">\n            <!-- <div class="page-login-form"> -->\n            <div class="page-login-row">\n                <input id="tel" type="tel" placeholder="请输入手机号码">\n                <i class="fa fa-mobile"></i>\n            </div>\n            <div class="page-login-row">\n                <input id="password" type="password" placeholder="请输入密码">\n                <i class="fa fa-key"></i>\n            </div>\n            <!-- <div class="page-login-btng" style="padding-top:10px"> -->\n            <div class="page-login-btna loginBtn " style="  background:rgb(1,188,213) ">登录</div>\n            <!-- </div> -->\n            <!-- 	\n			</div> -->\n            <!-- <a class="page-login-register" href="/register">注册新用户</a> -->\n            <div class="page-login-bing">\n                <!-- <a class="page-login-btng"  href="/register">\n					<div class="page-login-btn">或者 注册 <i class="fa fa-angle-right"  ></i></div>\n				</a>  -->\n                <a class="page-login-forget" href="/register">或者注册?    </a>\n                <a class="page-login-forget" href="/forget" style="text-align: right;">忘记密码?    </a>\n            </div>\n            \n            <a class="page-login-forget" href="/loginAgreement" style="width:100%;text-align:right;">云医平台注册协议</a>\n                \n            \n        </div>\n    </div>')})},"template.loginAgreement.js":function(){Template.__checkName("loginAgreement"),Template.loginAgreement=new Template("Template.loginAgreement",function(){var e=this;return HTML.Raw('<div class="" style="  background:rgb(255,255,255)  height:100%;   ">\n        <div class="login-header">\n			注册协议\n			<a class="login-header-right login-page-back" style="height: 50px;  width: 100%" href="/login"><i class="fa fa-chevron-right"></i></a>\n		</div>\n        <div class="ks-dialog-body" style="margin-top:50px">\n            <p><strong>【审慎阅读】</strong>您在申请注册流程中点击同意前，应当认真阅读以下协议。<strong style="text-decoration: underline">请您务必审慎阅读、充分理解协议中相关条款内容，其中包括：</strong></p>\n            <p>1、<strong style="text-decoration: underline">与您约定免除或限制责任的条款；</strong></p>\n            <p>2、<strong style="text-decoration: underline">与您约定法律适用和管辖的条款；</strong></p>\n            <p>3、<strong style="text-decoration: underline">其他以粗体下划线标识的重要条款。</strong></p>\n            <p>如您对协议有任何疑问，可向平台客服咨询。</p>\n            <p><strong>【特别提示】</strong>当您按照注册页面提示填写信息、阅读并同意协议且完成全部注册程序后，即表示您已充分阅读、理解并接受协议的全部内容。如您因平台服务与云医联盟发生争议的，适用《云医联盟平台服务协议》处理。如您在使用平台服务过程中与其他用户发生争议的，依您与其他用户达成的协议处理。</p>\n            <p><strong style="text-decoration: underline">阅读协议的过程中，如果您不同意相关协议或其中任何条款约定，您应立即停止注册程序。</strong></p>\n            <p><a href="/loginAgreement/pryvacy">《法律声明及隐私权限》</a></p>\n            <p><a href="/loginAgreement/serviceagreement">《云医联盟平台服务协议》</a></p>\n            <p><a href="/loginAgreement/app">《软件使用协议》</a></p>\n        </div>\n    </div>')})},"template.pryvacy.js":function(){Template.__checkName("loginprivacy"),Template.loginprivacy=new Template("Template.loginprivacy",function(){var e=this;return HTML.Raw('<div class="" style="  background:rgb(255,255,255)  height:100%;   ">\n        <div class="login-header">\n			法律声明及隐私权限\n			<a class="login-header-right login-page-back" href="/login"><i class="fa fa-chevron-right"></i></a>\n		</div>\n		<div style="margin-top:50px;">\n			<h2>法律声明及隐私权政策</h2>\n<p><strong>提示条款</strong></p>\n<p>云医联盟提醒您：在使用云医联盟平台各项服务前，请您务必仔细阅读并透彻理解本声明。如对本声明内容有任何疑问，您可向云医联盟平台客服咨询。阅读本声明的过程中，如果您不同意本声明或其中任何内容，您应立即停止使用云医联盟平台服务。如果您使用云医联盟平台服务的，您的使用行为将被视为对本声明全部内容的认可。</p>\n<strong>定义</strong>\n<p>云医联盟平台：指云医联盟手机客户端、患者H5界面及微信公众号。</p>\n<p>云医联盟：指云医联盟平台经营者医攻略（北京）健康科技有限公司的单称。</p>\n<p>用户：指医院、医生、患者。</p>\n<p>知识产权声明</p>\n<h3>一、知识产权归属</h3>\n<p>除非云医联盟另行声明，云医联盟平台内的所有产品、技术、软件、程序、数据及其他信息（包括但不限于文字、图像、图片、照片、音频、视频、图表、色彩、版面设计、电子文档）的所有知识产权（包括但不限于版权、商标权、专利权、商业秘密等）及相关权利，均归云医联盟或其关联公司所有。未经云医联盟许可，任何人不得擅自使用（包括但不限于复制、传播、展示、镜像、上载、下载）。</p>\n<p>云医联盟平台的Logo、“云医联盟”、等文字、图形及其组合，以及云医联盟平台的其他标识、徵记、产品和服务名称均为云医联盟及其关联公司在中国的商标，未经云医联盟书面授权，任何人不得以任何方式展示、使用或作其他处理，也不得向他人表明您有权展示、使用或作其他处理。</p>\n<p>二、责任限制</p>\n<p>鉴于云医联盟平台提供的服务属于电子公告牌（BBS）性质，云医联盟平台上的医院、医生信息、患者信息（包括但不限于医院名称、 联系人及联络信息、医生的描述和说明、相关图片、视频、病历资料、检查报告等）均由医院、医生、患者自行提供并上传，由医院、医生、患者对其提供并上传的所有信息承担相应法律责任。</p>\n<p>云医联盟平台转载作品（包括讨论组内容）出于传递更多信息之目的，并不意味云医联盟赞同其观点或已经证实其内容的真实性。</p>\n<h3>三、知识产权保护</h3>\n<p>云医联盟尊重知识产权，反对侵权盗版行为。知识产权权利人认为云医联盟平台内容（包括但不限于云医联盟台医生或医院发布的讨论信息）可能涉嫌侵犯其合法权益，可以通过云医联盟平台客服邮箱（kf@yigonglue.com）提出书面通知，云医联盟收到后将及时处理。</p>\n<h4>隐私权政策</h4>\n<p>云医联盟（下称“我们”）非常尊重用户个人信息的保护，在您使用云医联盟平台提供的服务时，我们将按照本隐私权政策收集、使用及共享您的个人信息。本隐私权政策包含了我们收集、存储、使用、共享和保护您的个人信息的条款，我们希望通过本隐私权政策向您清晰地介绍我们对您个人信息的处理方式，因此我们建议您完整地阅读本隐私权政策，以帮助您了解维护自己隐私权的方式。如您对本隐私权政策有任何疑问，您可以通过云医联盟平台公布的联系方式与我们联系。如果您不同意本隐私权政策任何内容，您应立即停止使用云医联盟平台服务。当您使用云医联盟平台提供的任一服务时，即表示您已同意我们按照本隐私权政策来合法使用和保护您的个人信息。</p>\n<p><strong>一、适用范围</strong></p>\n<p>为用户提供更好、更优、更个性化的服务是云医联盟坚持不懈的追求，也希望通过我们提供的服务可以更方便您的生活。本隐私权政策适用于云医联盟平台提供的所有服务，您访问云医联盟平台相关网站及或登陆手机客户端、患者H5界面、微信公众号等使用云医联盟平台提供的服务，均适用本隐私权政策。</p>\n<p>需要特别说明的是，本隐私权政策不适用于其他第三方向您提供的服务，例如云医联盟上的医生或医院依托云医联盟平台向您提供服务时，您向医生或医院提供的个人信息不适用于本隐私权政策。</p>\n<h4>二、我们如何收集信息</h4>\n<p>我们收集信息是为了向您提供更好、更优、更个性化的服务，我们收集信息的方式如下：</p>\n<p>1.您向我们提供的信息。 当您注册云医联盟账户及您在使用云医联盟平台提供的相关服务时填写及或提交的信息，包括您的姓名、性别、出生年月日、身份证号码、电话号码、地址、实名认证信息（含工作证、执业证书等）、家族病史、过敏史、病历信息及相关附加信息（如您所在的省份和城市、邮政编码等）。</p>\n<strong>2.在您使用服务过程中收集的信息。 为了提供并优化您需要的服务，我们会收集您使用服务的相关信息，这类信息包括：</strong>\n<p>在您使用云医联盟平台服务，或访问云医联盟平台相关网页时，云医联盟自动接收并记录的您的浏览器和计算机上的信息，包括但不限于您的IP地址、浏览器的类型、使用的语言、访问日期和时间、软硬件特征信息及您需求的网页记录等数据；如您下载或使用云医联盟或其关联公司客户端软件，或访问移动网页使用云医联盟平台服务时，云医联盟可能会读取与您位置和移动设备相关的信息，包括但不限于设备型号、设备识别码、操作系统、分辨率、电信运营商等。</p>\n<p>除上述信息外，我们还可能为了提供服务及改进服务质量的合理需要而收集您的其他信息，包括您与我们的客户服务团队联系时您提供的相关信息，您参与问卷调查时向我们发送的问卷答复信息，以及您与云医联盟的关联方、云医联盟合作伙伴之间互动时我们收集的相关信息。与此同时，为提高您使用云医联盟平台提供的服务的安全性，更准确地预防钓鱼网站欺诈和木马病毒，我们可能会通过了解一些您的网络使用习惯、您常用的软件信息等手段来判断您账户的风险，并可能会记录一些我们认为有风险的URL。</p>\n<strong><p>3.来自第三方的信息</p></strong>\n<p>为了给您提供更好、更优、更加个性化的服务，或共同为您提供服务，或为了预防互联网欺诈的目的，云医联盟的关联方、合作伙伴会依据法律的规定或与您的约定或征得您同意的前提下，向云医联盟分享您的个人信息。</p>\n<p>您了解并同意，以下信息不适用本隐私权政策：</p>\na）您在使用云医联盟平台提供的搜索服务时输入的关键字信息；<br>\nb）在您未选择“匿名购买”和或“匿名评价”功能时，云医联盟收集到的您在云医联盟平台进行交易的有关数据，包括但不限于出价、成交信息及评价详情；<br>\nc）信用评价、违反法律规定或违反云医联盟规则行为及云医联盟已对您采取的措施；<br>\nd) 应法律法规要求需公示的企业名称等相关工商注册信息以及医生认证的信息。<br>\n<h4>三、我们如何使用信息</h4>\n<p>因收集您的信息是为了向您提供服务及提升服务质量的目的，为了实现这一目的，我们会把您的信息用于下列用途：<p>\n1.向您提供您使用的各项服务，并维护、改进这些服务。<br>\n2.向您推荐您可能感兴趣的内容，包括但不限于向您发出广告和服务信息，或通过系统向您展示个性化的第三方推广信息，或者在征得您同意的情况下与云医联盟的合作伙伴共享信息以便他们向您发送有关其产品和服务的信息。<br>\n3.我们可能使用您的个人信息以预防、发现、调查欺诈、危害安全、非法或违反与我们或其关联方协议、政策或规则的行为，以保护您、其他我们用户，或我们或其关联方的合法权益。<br>\n4.我们可能会将来自某项服务的个人信息与来自其他服务的信息结合起来，用于为了给您提供更加个性化的服务使用，例如让您拥有更广泛的社交圈的需要而使用、共享或披露。<br>\n5.经您许可的其他用途。<br>\n<h4>四、我们如何共享信息</h4>\n<p>我们对您的信息承担保密义务，不会为满足第三方的营销目的而向其出售或出租您的任何信息，我们会在下列情况下才将您的信息与第三方共享：</p>\n1.事先获得您的同意或授权。<br>\n2.根据法律法规的规定或行政或司法机构的要求。<br>\n3.向云医联盟的关联方分享您的个人信息。<br>\n4.向可信赖的合作伙伴提供您的个人信息，让他们根据我们的指示并遵循我们的隐私权政策以及其他任何相应的保密和安全措施来为我们处理这些信息。<br>\n5.如您是适格的知识产权投诉人并已提起投诉，应被投诉人要求，向被投诉人披露，以便双方处理可能的权利纠纷。<br>\n6.只有共享您的信息，才能提供您需要的服务，或处理您与他人的纠纷或争议。例如您在云医联盟上创建的某一随访任务中，如任务发起人和接受方任何一方履行或部分履行了交易义务并提出信息披露请求的，云医联盟会视情况向该用户提供其交易对方的联络方式等必要信息，以促成交易的完成或纠纷的解决。<br>\n7.如您出现违反中国有关法律、法规或者云医联盟相关协议或相关规则的情况，需要向第三方披露。<br>\n8.为维护云医联盟及其关联方或用户的合法权益。<br>\n<h4>五、Cookie 和网络 Beacon 的使用</h4>\n<p>为使您获得更轻松的访问体验，您访问云医联盟平台相关网站或使用云医联盟平台提供的服务时，我们可能会通过小型数据文件识别您的身份，这么做是帮您省去重复输入注册信息的步骤，或者帮助判断您的账户安全。这些数据文件可能是Cookie，Flash Cookie，或您的浏览器或关联应用程序提供的其他本地存储（统称“Cookie”）。</p>\n<p>请您理解，我们的某些服务只能通过使用“Cookie”才可得到实现。如果您的浏览器或浏览器附加服务允许，您可以修改对Cookie的接受程度或者拒绝云医联盟的Cookie，但这一举动在某些情况下可能会影响您安全访问云医联盟平台相关网站和使用云医联盟平台提供的服务。</p>\n<p>网页上常会包含一些电子图象（称为"单像素" GIF 文件或 "网络 beacon"），使用网络beacon可以帮助网站计算浏览网页的用户或访问某些cookie，我们会通过网络beacon收集您浏览网页活动的信息，例如您访问的页面地址、您先前访问的援引页面的位址、您停留在页面的时间、您的浏览环境以及显示设定等。</p>\n<h4>六、信息存储</h4>\n<p>云医联盟收集的有关您的信息和资料将保存在云医联盟及（或）其关联公司的服务器上，这些信息和资料可能传送至您所在地区或云医联盟收集信息和资料所在地并在该地被访问、存储和展示。</p>\n<h4>七、您的个人信息保护（Protection of Your Personal Information）</h4>\n为保障您的信息安全，我们努力采取各种合理的物理、电子和管理方面的安全措施来保护您的信息，使您的信息不会被泄漏、毁损或者丢失，包括但不限于SSL、信息加密存储、数据中心的访问控制。我们对可能接触到您的信息的员工或外包人员也采取了严格管理，包括但不限于根据岗位的不同采取不同的权限控制，与他们签署保密协议，监控他们的操作情况等措施。云医联盟会按现有技术提供相应的安全措施来保护您的信息，提供合理的安全保障，云医联盟将尽力做到使您的信息不被泄漏、毁损或丢失。<br>\n您的账户均有安全保护功能，请妥善保管您的账户及密码信息。云医联盟将通过向其它服务器备份、对用户密码进行加密等安全措施确保您的信息不丢失，不被滥用和变造。尽管有前述安全措施，但同时也请您理解在信息网络上不存在“完善的安全措施”。<br>\n在使用云医联盟平台服务时，您不可避免的要向医生、医院披露自己的个人信息，如联络方式或者邮政地址。请您妥善保护自己的个人信息，仅在必要的情形下向他人提供。如您发现自己的个人信息泄密，尤其是你的账户及密码发生泄露，请您立即联络云医联盟客服，以便云医联盟采取相应措施。<br>\n<h4>八、未成年人保护</h4>\n我们不会在知情的情况下收集未成年人的个人信息，也不建议未成年人使用我们的服务。除非所在地法律允许并且监护人同意，未成年人请不要注册账户或发送自己的姓名、住址、电话、邮件地址等个人信息给我们。如果我们不小心收集到了未成年人的信息，我们在知情后会尽快删除。如果您认为我们可能不当地持有来自于或关于未成年人的信息，请联系我们。<br>\n<h4>九、《法律声明及隐私权政策》的修改</h4>\n云医联盟有权随时修改《法律声明及隐私保护政策》的任何条款，一旦《法律声明及隐私保护政策》的内容发生变动，云医联盟将会直接在云医联盟平台网站及手机客户端上公布修改之后的《法律声明及隐私保护政策》，该公布行为视为已经通知您修改内容。云医联盟也可通过其他适当方式向用户提示修改内容。如果您不同意云医联盟对本《法律声明及隐私保护政策》相关条款所做的修改，您有权停止使用云医联盟平台的相关服务。如果您继续使用云医联盟平台的服务，则视为您接受云医联盟对本协议相关条款所做的修改。<br>\n</p></p>\n\n			\n\n\n\n		</div>\n\n\n\n	</div>')})},"template.register.js":function(){Template.__checkName("register"),Template.register=new Template("Template.register",function(){var e=this;return HTML.Raw('<div id="page-reg" class="login-single animated  slideInLeft">\n		<div class="login-header">\n			注册新用户\n			<a class="login-header-right login-page-back" href="/login"><i class="fa fa-chevron-right"></i></a>\n		</div>\n		<div class="page-login-body">\n			<div class="page-login-form">\n				<div class="page-login-row">\n					<input id="tel" type="tel" placeholder="请填写注册的手机号码">\n					<i class="fa fa-mobile"></i>\n				</div>\n				<div class="page-login-row">\n					<input id="username" type="username" placeholder="请填写注册的用户名">\n					<i class="fa fa-user"></i>\n				</div>\n				<div class="page-login-row">\n					<input id="invite" type="text" placeholder="邀请人手机号，选填">\n					<i class="fa fa-pencil"></i>\n				</div>\n				<div class="page-login-row">\n					<input id="password" type="password" placeholder="请填写注册的密码">\n					<i class="fa fa-key"></i>\n				</div>\n				<div class="page-login-btng">\n					<div class="page-login-btn regBtn ">注册</div>\n				</div>\n			</div>\n		</div>\n	</div>')})},"template.registerCode.js":function(){Template.__checkName("registerCode"),Template.registerCode=new Template("Template.registerCode",function(){var e=this;return HTML.Raw('<div id="page-reg" class="login-single animated  slideInUp">\n		<div class="login-header">\n			验证手机号\n			<a class="login-header-right login-page-back" href="/register"><i class="fa fa-chevron-right"></i></a>\n		</div>\n		<div class="page-login-body">\n			<div class="page-login-form">\n				<div class="page-login-row">\n					<input id="code" type="tel" placeholder="请填写收到的验证码">\n					<i class="fa fa-key"></i>\n				</div>\n				<div class="page-login-btng">\n					<div class="page-login-btn regComBtn ">完成注册</div>\n				</div>\n			</div>\n		</div>\n	</div>')})},"template.serviceagreement.js":function(){Template.__checkName("loginservice"),Template.loginservice=new Template("Template.loginservice",function(){var e=this;return HTML.Raw('<div class="" style="  background:rgb(255,255,255)  height:100%;   ">\n        <div class="login-header">\n			云医联盟平台服务协议\n			<a class="login-header-right login-page-back" href="/login"><i class="fa fa-chevron-right"></i></a>\n		</div>\n		<div style="margin-top:50px;">\n        云医联盟平台服务协议\n\n\n\n•	提示条款\n\n欢迎您与云医联盟平台（详见定义条款）共同签署本《云医联盟平台服务协议》（下称“本协议”）并使用云医联盟平台服务！\n\n各服务条款前所列索引关键词仅为帮助您理解该条款表达的主旨之用，不影响或限制本协议条款的含义或解释。为维护您自身权益，建议您仔细阅读各条款具体表述。\n\n【审慎阅读】您在申请注册流程中点击同意本协议之前，应当认真阅读本协议。请您务必审慎阅读、充分理解各条款内容，特别是免除或者限制责任的条款、法律适用和争议解决条款。免除或者限制责任的条款将以粗体下划线标识，您应重点阅读。如您对协议有任何疑问，可向云医联盟平台客服咨询。\n\n【签约动作】当您按照注册页面提示填写信息、阅读并同意本协议且完成全部注册程序后，即表示您已充分阅读、理解并接受本协议的全部内容，并与云医联盟达成一致，成为云医联盟平台“用户”。阅读本协议的过程中，如果您不同意本协议或其中任何条款约定，您应立即停止注册程序。\n\n\n一、 定义\n\n云医联盟平台：指云医联盟手机客户端、患者H5界面及微信公众号。\n\n云医联盟：指云医联盟平台经营者医攻略（北京）健康科技有限公司的单称。\n\n云医联盟平台服务：云医联盟基于互联网，以包含云医联盟平台官方网站、手机客户端等在内的各种形态（包括未来技术发展出现的新的服务形态）向您提供的各项服务。\n\n云医联盟平台规则：包括在所有云医联盟平台规则频道内已经发布及后续发布的全部规则、解读、公告等内容以及各平台在讨论组、帮助中心内发布的各类规则、实施细则、产品流程说明、公告等。\n\n云医联盟规则：云医联盟规则频道列明的各项规则。\n\n关联公司：除云医联盟外其他的关联经营者的单称或合称。\n\n同一用户：使用同一身份认证信息或经云医联盟排查认定多个云医联盟账户的实际控制人为同一人的，均视为同一用户。\n医生：云医联盟平台注册认证的医生本人。\n患者：通过患者h5界面使用云医联盟服务的患者本人。\n用户：指云医联盟平台内的所有用户，包括但不限于医生和患者。\n\n二、 协议范围\n\n2.1 签约主体\n\n【平等主体】本协议由您与云医联盟平台经营者共同缔结，本协议对您与云医联盟平台经营者均具有合同效力。\n\n【主体信息】云医联盟平台经营者是指经营云医联盟平台的各法律主体，您可随时查看云医联盟平台各认证主体的证照信息以确定与您履约的云医联盟主体。本协议项下，云医联盟平台经营者可能根据云医联盟平台的业务调整而发生变更，变更后的云医联盟平台经营者与您共同履行本协议并向您提供服务，云医联盟平台经营者的变更不会影响您本协议项下的权益。云医联盟平台经营者还有可能因为提供新的云医联盟平台服务而新增，如您使用新增的云医联盟平台服务的，视为您同意新增的云医联盟平台经营者与您共同履行本协议。发生争议时，您可根据您具体使用的服务及对您权益产生影响的具体行为对象确定与您履约的主体及争议相对方。\n\n2.2补充协议\n\n由于互联网高速发展，您与云医联盟签署的本协议列明的条款并不能完整罗列并覆盖您与云医联盟所有权利与义务，现有的约定也不能保证完全符合未来发展的需求。因此，云医联盟平台法律声明及隐私权政策、云医联盟平台规则均为本协议的补充协议，与本协议不可分割且具有同等法律效力。如您使用云医联盟平台服务，视为您同意上述补充协议。\n\n\n三、 账户注册与使用\n\n3.1 用户资格\n\n您确认，在您开始注册程序使用云医联盟平台服务前，您应当具备中华人民共和国法律规定的与您行为相适应的民事行为能力。若您不具备前述与您行为相适应的民事行为能力，则您及您的监护人应依照法律规定承担因此而导致的一切后果。\n\n3.2 账户说明\n\n【账户获得】当您按照注册页面提示填写信息、阅读并同意本协议且完成全部注册程序后，您可获得云医联盟平台账户并成为云医联盟平台用户。\n云医联盟平台只允许每位用户使用一个云医联盟平台账户。如有证据证明或云医联盟平台有理由相信您存在不当注册或不当使用多个云医联盟平台账户的情形，云医联盟平台可采取冻结或关闭账户、列入黑名单、拒绝提供服务等措施，如给云医联盟平台及相关方造成损失的，您还应承担赔偿责任。\n\n【账户使用】您有权使用您设置或确认的云医联盟会员名、身份证信息、手机号码（以下简称“账户名称”）及您设置的密码（账户名称及密码合称“账户”）登录云医联盟平台。\n由于您的云医联盟账户关联您的个人信息及云医联盟平台医疗健康信息，您的云医联盟账户仅限您本人使用。未经云医联盟平台同意，您直接或间接授权第三方使用您云医联盟账户或获取您账户项下信息的行为无效。如云医联盟平台判断您云医联盟账户的使用可能危及您的账户安全及或云医联盟平台信息安全的，云医联盟平台可拒绝提供相应服务或终止本协议。\n\n【账户转让】由于云医联盟平台是一个医疗健康类信息综合平台，因此禁止任何用户进行账户转让，否则云医联盟平台有权追究您的违约责任，且由此产生的一切责任均由您承担。\n\n【实名认证】作为云医联盟平台经营者，为使您更好地使用云医联盟平台的各项服务，保障您的账户安全，云医联盟可要求您按平台认证要求及我国法律规定完成实名认证。\n\n【不活跃账户回收】如您的账户同时符合以下条件，则云医联盟可回收您的账户，您的账户将不能再登录任一云医联盟平台，相应服务同时终止：\n（一）未绑定通过实名认证的身份信息；\n（二）连续六个月未用于登录任一云医联盟平台；\n（三）不存在未到期的有效业务。\n\n3.3 注册信息管理\n\n3.3.1 真实合法\n【信息真实】在使用云医联盟平台服务时，您应当按云医联盟平台页面的提示准确完整地提供您的信息（包括您的姓名及身份信息、联系电话、联系地址等），以便云医联盟或其他用户与您联系。您了解并同意，您有义务保持您提供信息的真实性及有效性。\n\n【会员名的合法性】您设置的云医联盟会员名不得违反国家法律法规及云医联盟规则关于会员名的管理规定，否则云医联盟可回收您的云医联盟会员名。云医联盟会员名的回收不影响您以身份证信息、手机号码登录云医联盟平台并使用云医联盟平台服务。\n\n3.3.2 更新维护\n您应当及时更新您提供的信息，在法律有明确规定要求云医联盟作为平台服务提供者必须对部分用户（如平台医生等）的信息进行核实的情况下，云医联盟将依法不时地对您的信息进行检查核实，您应当配合提供最新、真实、完整、有效的信息。\n如云医联盟按您最后一次提供的信息与您联系未果、您未按云医联盟的要求及时提供信息、您提供的信息存在明显不实或行政司法机关核实您提供的信息无效的，您将承担因此对您自身、他人及云医联盟造成的全部损失与不利后果。云医联盟可向您发出询问或要求整改的通知，并要求您进行重新认证，直至中止、终止对您提供部分或全部云医联盟平台服务，云医联盟对此不承担责任。\n\n3.4 账户安全规范\n\n【账户安全保管义务】您的账户为您自行设置并由您保管，云医联盟任何时候均不会主动要求您提供您的账户密码。因此，建议您务必保管好您的账户， 并确保您在每个上网时段结束时退出登录并以正确步骤离开云医联盟平台。\n账户因您主动泄露或因您遭受他人攻击、诈骗等行为导致的损失及后果，云医联盟并不承担责任，您应通过司法、行政等救济途径向侵权行为人追偿。\n\n【账户行为责任自负】除云医联盟存在过错外，您应对您账户项下的所有行为结果（包括但不限于在线签署各类协议、发布信息、购买商品及服务及披露信息等）负责。\n\n【日常维护须知】如发现任何未经授权使用您账户登录云医联盟平台或其他可能导致您账户遭窃、遗失的情况，建议您立即通知云医联盟，并授权云医联盟将该信息同步给官方网站及微信公众号。您理解云医联盟对您的任何请求采取行动均需要合理时间，且云医联盟应您请求而采取的行动可能无法避免或阻止侵害后果的形成或扩大，除云医联盟存在法定过错外，云医联盟不承担责任。\n\n\n四、 云医联盟平台服务及规范\n\n【服务概况】您有权在云医联盟平台上享受转诊、接诊、随访、患者管理、讨论组发起等服务。云医联盟提供的服务内容众多，具体您可登录云医联盟平台浏览。\n\n4.1 转诊\n\n【转诊（上转）】通过在云医联盟，您可以将自己的患者根据实际情况转诊到上一级专科医院或综合医院就诊，转诊（上转）过程中，您需要如实地填写《转诊（上转）单》，并经过患者确认许可，上传患者的病历数据和检查数据，同时需要完善患者的《个人健康档案》。\n【转诊（回转）】患者在诊后或术后，上级医院的接诊医生需要填写详细的《转诊（回转）单》，以便于下级医院、社区医院、乡镇卫生院、诊所的医生更好地对患者进行诊后或术后的观察、治疗、复查等。\n【转诊（随访）】在上级医院的医生填写完《转诊（回转）单》后，下级医院的医生需对该患者进行一次随访任务，主要针对本次转诊后患者的恢复情况进行一个数据采集的工作。\n至此，本次转诊方算彻底完成。如果在转诊过程中，有服务不到位或者受到患者投诉，或者省略、简化、虚假填写随访记录等行为，或者平台要求填写的相关数据没有准确完整填写的医生，将会影响其信用累积，甚至平台会根据行为的恶劣程度选择关停相关账户或者永不接受其注册等相适应的处罚决定；如果因此引发任何后果或者损失，将由医生本人负责全部损失和承担相应的法律后果，云医联盟平台将概不负责，同时我们将有权追究相关医生的法律责任。\n\n4.2 接诊\n\n【接诊】云医联盟平台内，和平台签署相关《接诊协议》的医生，具备接诊条件。接诊医生需要对每一个《转诊（上转）单》进行详细的处理，如果下级医生提交的转诊资料符合转诊的条件，安排患者的诊疗时间；如果不符合转诊条件或者没有必要转诊，请认真填写处理意见、评估建议。\n\n4.3 随访\n\n【随访】云医联盟平台内的医生可以根据自己的实际需要，发布随访任务。在发布随访任务时，需要认真填写任务发布信息，上传患者基本信息、诊疗情况、康复建议、随访模版等相关数据信息，以便于接受随访的医生做出更好的判断和采集更加准确的医疗数据。如因医生发布任务时数据传输的遗漏或者不准确，导致随访数据出现误差或者错误，一切后果将由发布任务的医生自行承担。\n\n【评价】发布任务的医生可以对接受任务的医生的随访结果进行评价，评价结果将会计入医生的信用累计中；如果接受任务医生对评价结果不满或者觉得不符合实际情况，可以联系云医联盟客服进行申述，并提交相关的申述材料。发布任务的医生如果随意或者胡乱评价任务完成的质量，将会影响信用，因此带来的任何后果将有发布任务的医生自己独立承担。\n4.4 患者管理\n【患者管理】医生可以将其他非云医联盟平台的患者添加到患者管理系统，但必须经过患者本人同意，否则造成任何后果，将有医生独立承担。医生在进行患者管理时，需仔细阅读云医联盟平台的《法律声明及隐私权政策》。\n\n4.5 讨论组发起\n【讨论组发起】医生可以对工作中遇到的疾病案例或者行业现象等发起话题讨论，医生发布的内容必须遵守云医联盟平台的《法律声明及隐私权政策》，如果转载他人的内容或文章需注明转载字样，如果出现非法转诊、抄袭、侵害他人版权等违反云医联盟平台《法律声明及隐私权政策》和国家相关法律法规的要求的行为，一切后果将有医生独立承担，平台有权追究相关用户的法律责任。\n\n4.6 费用\n云医联盟为云医联盟平台向用户提供的服务付出了大量的成本，患者在使用时会收取相应的健康管理费用，主要用于患者长期的管理服务，其他服务和产品如无明确标价的均为免费；医生除云医联盟明确标价的产品和服务外，其他均属免费。如未来云医联盟向您收取合理费用，云医联盟会采取合理途径并以足够合理的期限提前通过法定程序并以本协议第八条约定的方式通知您，确保您有充分选择的权利。如果您对云医联盟的任何费用不接受或者有异议，请立即停止使用云医联盟的相关服务，可以联系云医联盟客服进行咨询。\n\n4.7 使用规范\n【使用规范】\n用户在云医联盟使用中的言行需遵守国家法律、法规等规范性文件及爱云医连门的各项规则和要求，不违背社会公共利益或公共道德，不损害他人的合法权益，不违反本协议及相关规则。如果因此产生任何法律后果，用户应独立承担法律责任。\n\n在云医联盟平台内，禁止开展诊断与治疗服务。不得以任何形式提供转诊、接诊、患者管理、随访、讨论组发起、咨询外的医学帮助，且不得影响医生所属医疗机构中的本职工作及其管理规章。医生同意，应确保对患者的任何附随诊断及治疗活动，应在医疗执业机构内进行。讨论组内容仅作为医生学习和参考使用，如在实际的诊断和治疗中进行论证，由此产生任何后果和法律责任均由医生独立承担，云医联盟平台不承担任何相关责任。云医联盟平台不得用于药品、医疗器械及其他未经云医联盟同意的商品或服务的销售和/或推广活动。因违反使用规范而使云医联盟与用户与所属医疗机构产生纠纷的，由医生自行承担，云医联盟不负任何法律责任。\n\n在使用云医联盟的过程中，如果发生：(1)对医生提供服务内容及质量存有异议，(2)医生或患者发现任何违反或可能违反本协议及不时制定和修改的用户规则和使用规范的内容或行为，或者其他任何须向云医联盟告知的不当使用情况，医生或患者可以通过以下方式向云医联盟提出投诉或举报：发送邮件至kf@yigonglue.com，并提供上述事件的必要证据材料。云医联盟在收到前述投诉或申诉后，如为服务纠纷，云医联盟可依据情况协调沟通；如为投诉或举报，经核查内容违规或不当属实的，云医联盟应当向事件参与人及时警示告知，对相关内容予以删除或屏蔽，且云医联盟保留因事件性质及严重程度，根据自行判断对该参与人所使用的云医联盟账户予以暂停使用、冻结直至取消该账户资格的权利。对于无法证实投诉或举报内容真实性的，云医联盟及时向投诉人或举报人告知情况。虽有上述规定，云医联盟作为平台方仅协助各方处理争议及投诉举报内容，任何该等事件参与人应自行对该等事件独立承担法律责任。除非云医联盟平台存在故意行为，医生及患者均应对云医联盟就前述事件予以免责（包括但不限于任何损失、损害赔偿、请求、要求、开支、诉讼费用）。\n\n4.8责任限制\n用户理解并同意自主选择、使用云医联盟并风险自负。在任何条件下，云医联盟及附属公司、员工、创建或者维护甲方应用的人员对用户使用本应用或链接本站的第三方网站导致的直接、间接、偶然、特殊、关联性损害或利益损失，或由错误、疏漏、信号中断、文件删除、病毒、网站出错，漏洞导致的直接或间接损害，或由于运行不稳、通信故障、盗窃、破坏或未经授权使用导致的损害不承担任何法律责任。\n\n“云医联盟”中的所有用户上传的患教资料、转诊记录、随访记录、随访模版等内容均由第三方提供。“云医联盟”不对该内容的真实性、有效性承担任何责任，亦不就由此给乙方或用户造成的直接、间接、偶然、特殊、关联性损害或利益损承担任何责任。\n五、 用户信息的保护及授权\n\n5.1个人信息的保护\n\n云医联盟非常重视用户个人信息（即能够独立或与其他信息结合后识别用户身份的信息）的保护，在您使用云医联盟提供的服务时，您同意云医联盟按照在云医联盟平台上公布的隐私权政策收集、存储、使用、披露和保护您的个人信息。云医联盟希望通过隐私权政策向您清楚地介绍云医联盟对您个人信息的处理方式，因此云医联盟建议您完整地阅读隐私权政策，以帮助您更好地保护您的隐私权。\n\n5.2非个人信息的保证与授权\n\n【信息的上传与发布】您声明并保证，您对您所上传与发布的信息拥有相应、合法的权利。否则，云医联盟可对您发布的信息依法或依本协议进行删除或屏蔽。\n\n【禁止性信息】您应当确保您所上传与发布的信息不包含以下内容：\n（一）违反国家法律法规禁止性规定的；\n（二）政治宣传、封建迷信、淫秽、色情、赌博、暴力、恐怖或者教唆犯罪的；\n（三）欺诈、虚假、不准确或存在误导性的；\n（四）侵犯他人知识产权或涉及第三方商业秘密及其他专有权利的；\n（五）侮辱、诽谤、恐吓、涉及他人隐私等侵害他人合法权益的；\n（六）存在可能破坏、篡改、删除、影响云医联盟平台任何系统正常运行或未经授权秘密获取云医联盟平台及其他用户的数据、个人资料的病毒、木马、爬虫等恶意软件、程序代码的；\n（七）其他违背社会公共利益或公共道德或依据相关云医联盟平台协议、规则的规定不适合在云医联盟平台上发布的。\n\n【授权使用】对于您提供及发布除个人信息外的文字、图片、视频、音频等非个人信息，在版权保护期内您免费授予云医联盟及其关联公司获得全球排他的许可使用权利及再授权给其他第三方使用的权利。您同意云医联盟及其关联公司存储、使用、复制、修订、编辑、发布、展示、翻译、分发您的非个人信息或制作其派生作品，并以已知或日后开发的形式、媒体或技术将上述信息纳入其它作品内。\n为方便您使用其他相关服务，您授权云医联盟将您在账户注册和使用云医联盟平台服务过程中提供、形成的信息传递给其他相关服务提供者，或其他相关服务提供者获取您在注册、使用相关服务期间提供、形成的信息。\n为了确保患者的转诊等相关服务顺利进行，患者授权医生及云医联盟上传使用在整个转诊过程中所需要的您的病历数据、检查报告、康复建议、治疗计划等相关信息\n\n六、 用户的违约及处理\n\n6.1 违约认定\n\n发生如下情形之一的，视为您违约：\n（一）使用云医联盟平台服务时违反有关法律法规规定的；\n（二）违反本协议或本协议补充协议（即本协议第2.2条）约定的。\n（三）医生未按时完成转诊或者随访等任务。\n（四）患者在上级医生接诊后，没按约定的时间就诊。\n为适应移动医疗发展和满足海量信息数据对高效优质服务的需求，您理解并同意，云医联盟可在云医联盟平台规则中约定违约认定的程序和标准。如：云医联盟可依据您的服务服务进度来认定您是否构成违约；您有义务对您的服务异常现象进行充分举证和合理解释，否则将被认定为违约。\n\n6.2 违约处理措施\n\n【信息处理】您在云医联盟平台上发布的信息构成违约的，云医联盟可根据相应规则立即对相应信息进行删除、屏蔽处理或对您的服务权限取消、监管。\n\n【行为限制】您在云医联盟平台上实施的行为，或虽未在云医联盟平台上实施但对云医联盟平台及其用户产生影响的行为构成违约的，云医联盟可依据相应规则对您执行账户扣分、限制服务权限、中止向您提供部分或全部服务、划扣任务奖励或保证金、健康管理费用等处理措施。如您的行为构成根本违约的，云医联盟可查封您的账户，终止向您提供服务。\n\n【处理结果公示】云医联盟可将对您上述违约行为处理措施信息以及其他经国家行政或司法机关生效法律文书确认的违法信息在云医联盟平台上予以公示。\n\n6.3赔偿责任\n\n如您的行为使云医联盟及或其关联公司遭受损失（包括自身的直接经济损失、信誉损失及对外支付的赔偿金、和解款、律师费、诉讼费等间接经济损失），您应赔偿云医联盟及或其关联公司的上述全部损失。\n如您的行为使云医联盟及或其关联公司遭受第三人主张权利，云医联盟及或其关联公司可在对第三人承担金钱给付等义务后就全部损失向您追偿。\n如因您的行为使得第三人遭受损失或您怠于履行调处决定、云医联盟及或其关联公司出于社会公共利益保护或消费者权益保护目的，自您的账户中划扣相应款项进行支付。如您的账户余额或保证金不足以支付相应款项的，您同意委托云医联盟使用自有资金代您支付上述款项，您应当返还该部分费用并赔偿因此造成云医联盟的全部损失。\n您同意云医联盟自您的账户中划扣相应款项支付上述赔偿款项。如您账户中的款项不足以支付上述赔偿款项的，云医联盟及或关联公司可直接抵减您在云医联盟及或其关联公司其它协议项下的权益，并可继续追偿。\n\n6.4特别约定\n\n【商业贿赂】如您向云医联盟及或其关联公司的雇员或顾问等提供实物、现金、现金等价物、劳务、旅游等价值明显超出正常商务洽谈范畴的利益，则可视为您存在商业贿赂行为。发生上述情形的，云医联盟可立即终止与您的所有合作并向您收取违约金及或赔偿金，该等金额以云医联盟因您的贿赂行为而遭受的经济损失和信誉损失作为计算依据。\n\n【关联处理】如您因严重违约导致云医联盟终止本协议时，出于维护平台秩序及保护平台用户权益的目的，云医联盟及或其关联公司可对与您在其他协议项下的合作采取中止甚或终止协议的措施，并以本协议第八条约定的方式通知您。\n如云医联盟与您签署的其他协议及云医联盟及或其关联公司与您签署的协议中明确约定了对您在本协议项下合作进行关联处理的情形，则云医联盟出于维护平台秩序及保护用户权益的目的，可在收到指令时中止甚至终止协议，并以本协议第八条约定的方式通知您。\n\n\n七、 协议的变更\n\n云医联盟可根据国家法律法规变化及维护平台秩序、保护用户权益需要，不时修改本协议、补充协议，变更后的协议、补充协议（下称“变更事项”）将通过法定程序并以本协议第八条约定的方式通知您。\n如您不同意变更事项，您有权于变更事项确定的生效日前联系云医联盟反馈意见。如反馈意见得以采纳，云医联盟将酌情调整变更事项。\n如您对已生效的变更事项仍不同意的，您应当于变更事项确定的生效之日起停止使用云医联盟平台服务，变更事项对您不产生效力；如您在变更事项生效后仍继续使用云医联盟平台服务，则视为您同意已生效的变更事项。\n\n\n八、 通知\n\n8.1有效联系方式\n\n您在注册成为云医联盟平台用户，并接受云医联盟平台服务时，您应该向云医联盟提供真实有效的联系方式（包括您的电子邮件地址、联系电话、联系地址等），对于联系方式发生变更的，您有义务及时更新有关信息，并保持可被联系的状态。\n您在注册云医联盟平台用户时生成的用于登陆云医联盟平台接收系统消息的会员账号（包括子账号），也作为您的有效联系方式。\n云医联盟将向您的上述联系方式的其中之一或其中若干向您送达各类通知，而此类通知的内容可能对您的权利义务产生重大的有利或不利影响，请您务必及时关注。\n您有权通过您注册时填写的手机号码或者电子邮箱获取您感兴趣的信息；您如果不愿意接收此类信息，您有权通过云医联盟提供的相应的退订功能进行退订。\n\n8.2 通知的送达\n\n云医联盟通过上述联系方式向您发出通知，其中以电子的方式发出的书面通知，包括但不限于在云医联盟平台公告，向您提供的联系电话发送手机短信，向您提供的电子邮件地址发送电子邮件，向您的账号发送系统消息，在发送成功后即视为送达；以纸质载体发出的书面通知，按照提供联系地址交邮后的第五个自然日即视为送达。\n对于在云医联盟平台上因服务活动引起的任何纠纷，您同意司法机关（包括但不限于人民法院）可以通过手机短信、电子邮件等现代通讯方式或邮寄方式向您送达法律文书（包括但不限于诉讼文书）。您指定接收法律文书的手机号码、电子邮箱等联系方式为您在云医联盟平台注册、更新时提供的手机号码、电子邮箱联系方式，司法机关向上述联系方式发出法律文书即视为送达。您指定的邮寄地址为您的法定联系地址或您提供的有效联系地址。\n您同意司法机关可采取以上一种或多种送达方式向您达法律文书，司法机关采取多种方式向您送达法律文书，送达时间以上述送达方式中最先送达的为准。\n您同意上述送达方式适用于各个司法程序阶段。如进入诉讼程序的，包括但不限于一审、二审、再审、执行以及督促程序等。\n你应当保证所提供的联系方式是准确、有效的，并进行实时更新。如果因提供的联系方式不确切，或不及时告知变更后的联系方式，使法律文书无法送达或未及时送达，由您自行承担由此可能产生的法律后果。\n\n\n九、 协议的终止\n\n9.1 终止的情形\n\n【用户发起的终止】您有权通过以下任一方式终止本协议：\n（一）在满足云医联盟官方网公示的账户注销条件时您通过网站自助服务注销您的账户的；\n（二）变更事项生效前您停止使用并明示不愿接受变更事项的；\n（三）您明示不愿继续使用云医联盟平台服务，且符合云医联盟终止条件的。\n\n【云医联盟发起的终止】出现以下情况时，云医联盟可以本协议第八条的所列的方式通知您终止本协议：\n（一）您违反本协议约定，云医联盟依据违约条款终止本协议的；\n（二）您盗用他人账户、发布违禁信息、骗取他人财物、售假、扰乱平台秩序、采取不正当手段谋利等行为，云医联盟依据云医联盟平台规则对您的账户予以查封的；\n（三）除上述情形外，因您多次违反云医联盟平台规则相关规定且情节严重，云医联盟依据云医平台规则对您的账户予以查封的；\n（四）您的账户被云医联盟依据本协议回收的；\n（五）您在云医联盟平台有欺诈、发布或销售假冒伪劣侵权商品、侵犯他人合法权益或其他严重违法违约行为的；\n（六）其它应当终止服务的情况。\n\n9.2 协议终止后的处理\n\n【用户信息披露】本协议终止后，除法律有明确规定外，云医联盟无义务向您或您指定的第三方披露您账户中的任何信息。\n\n【云医联盟权利】本协议终止后，云医联盟仍享有下列权利：\n（一）继续保存您留存于云医联盟平台的本协议第五条所列的各类信息；\n（二）对于您过往的违约行为，云医联盟仍可依据本协议向您追究违约责任。\n\n【服务处理】本协议终止后，对于您在本协议存续期间产生的服务订单，云医联盟可通知服务相对方并根据服务相对方的意愿决定是否关闭该等服务订单；如交易相对方要求继续履行的，则您应当就该等服务订单继续履行本协议及服务订单的约定，并承担因此产生的任何损失或增加的任何费用。\n\n\n十、 法律适用、管辖与其他\n\n【法律适用】本协议之订立、生效、解释、修订、补充、终止、执行与争议解决均适用中华人民共和国大陆地区法律；如法律无相关规定的，参照商业惯例及或行业惯例。\n\n【管辖】您因使用云医联盟平台服务所产生及与云医联盟平台服务有关的争议，由云医联盟与您协商解决。协商不成时，任何一方均可向被告所在地人民法院提起诉讼。\n\n【可分性】本协议任一条款被视为废止、无效或不可执行，该条应视为可分的且并不影响本协议其余条款的有效性及可执行性。\n\n\n</div>\n	</div>')})},"forget.js":function(){Template.forget.events({"click .codeBtn":function e(){var e=$("#tel").val();return facc.checkTel(e)?void Meteor.call("accountForget",{tel:e},function(e,n){n.indexOf("ERROR")<0?(alert("验证码已发送请注意查收"),FlowRouter.go("/forget/code")):alert("未找到用户")}):(alert("请填写手机号"),!1)}}),Template.forget.onRendered(function(){loading.hide()})},"forgetCode.js":["babel-runtime/helpers/typeof",function(e,n,t){var a;t["import"]("babel-runtime/helpers/typeof",{"default":function(e){a=e}}),Template.forgetCode.events({"click .regComBtn":function r(){""==$("#code").val()&&alert("请输入验证码"),Meteor.call("accountLoginWithCode",{code:$("#code").val()},function(e,n){console.log(n),"object"==("undefined"==typeof n?"undefined":a(n))?(facc.set(n),alert(n.nickname+"：欢迎，注册已成功～"),facc.backto()):alert("ERROR_RIGHT"==n?"权限不足":"ERROR_REPEAT_TEL"==n?"手机号码已存在":"ERROR_REPEAT_NICK"==n?"昵称已存在":"注册信息错误")})}}),Template.forgetCode.onRendered(function(){loading.hide()})}],"hide.js":function(){Template.loginAgreement.onRendered(function(){loading.hide()}),Template.registerCode.onRendered(function(){loading.hide()}),Template.loginprivacy.onRendered(function(){loading.hide()}),Template.loginservice.onRendered(function(){loading.hide()})},"login.js":["babel-runtime/helpers/typeof",function(e,n,t){var a;t["import"]("babel-runtime/helpers/typeof",{"default":function(e){a=e}}),Template.login.events({"click .loginBtn":function r(){var e=$("#tel").val(),n=$("#password").val();Meteor.call("accountLoginWithTel",{tel:e,password:n},function(e,n){"object"==("undefined"==typeof n?"undefined":a(n))?(facc.set(n),alert(n.nickname+",欢迎回来"),facc.backto()):alert("ERROR_RIGHT"==n?"权限不足":"用户名/密码不匹配")})}}),Template.login.onRendered(function(){loading.hide()})}],"register.js":function(){Template.register.events({"click .regBtn":function e(){var e=$("#tel").val(),n=$("#username").val(),t=$("#password").val();return facc.checkTel(e)?facc.checkUsername(n)?t.length<6?(alert("密码应大于六位"),!1):void Meteor.call("accountRegisterGetCode",{tel:e,password:t,inviteFrom:$("#invite").val(),username:n},function(e,n){"SUCCESS"==n?FlowRouter.go("/register/code"):alert("ERROR_REPEAT_TEL"==n?"手机号码已存在":"ERROR_RIGHT"==n?"权限不足":"ERROR_REPEAT_NICK"==n?"昵称已存在":"注册信息错误"),$("#page-login-loading").hide()}):(alert("用户名由字母数字及下划线组成"),!1):(alert("请填写手机号"),!1)}}),Template.register.onRendered(function(){loading.hide()})},"registerCode.js":["babel-runtime/helpers/typeof",function(e,n,t){var a;t["import"]("babel-runtime/helpers/typeof",{"default":function(e){a=e}}),
Template.registerCode.events({"click .regComBtn":function r(){""==$("#code").val()&&alert("请输入验证码"),Meteor.call("accountRegisterWithCode",{code:$("#code").val()},function(e,n){"object"==("undefined"==typeof n?"undefined":a(n))?(facc.set(n),alert(n.nickname+"：欢迎，注册已成功～"),FlowRouter.go("/")):alert("ERROR_RIGHT"==n?"权限不足":"ERROR_REPEAT_TEL"==n?"手机号码已存在":"ERROR_REPEAT_NICK"==n?"昵称已存在":"注册信息错误")})}}),Template.registerCode.onRendered(function(){loading.hide()})}]},banner:{"template.banner.js":function(){Template.__checkName("banner"),Template.banner=new Template("Template.banner",function(){var e=this;return HTML.DIV({"class":"banner swiper-container",style:function(){return["height:",Spacebars.mustache(e.lookup("bannerHeight")),"px"]}},"\n            ",HTML.DIV({"class":"banner-scroll _flex swiper-wrapper"},"\n                ",Blaze.Each(function(){return Spacebars.call(e.lookup("banners"))},function(){return["\n                ",HTML.Comment(' <a  href="/banner?id={{_id}}" class="banner-item swiper-slide" style="background-image:url({{ thumb }});height:{{bannerHeight}}px"></a> '),"\n                ",HTML.DIV({"class":"banner-item swiper-slide",style:function(){return["background-image:url(",Spacebars.mustache(e.lookup("thumb")),");height:",Spacebars.mustache(e.lookup("bannerHeight")),"px"]}}),"\n                "]}),"\n            "),HTML.Raw('\n            <div class="swiper-pagination"></div>\n        '))})},"template.detail.js":function(){Template.__checkName("bannerDetail"),Template.bannerDetail=new Template("Template.bannerDetail",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer"},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                ",Blaze.View("lookup:banner.desc",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("banner"),"desc"))}),"\n               ",HTML.Raw('<a href="/" class="left"><i class="fa fa fa-chevron-left"></i></a>'),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"banner-content"},"\n            ",Blaze.View("lookup:banner.detail",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(e.lookup("banner"),"detail")))}),"\n        "),"\n    ")})},"banner.js":function(){Template.banner.onCreated(function(){Session.set("bannerHeight",this.data.height),this.subscribe("banners",this.data.group)}),Template.banner.helpers({banners:function e(){return Banners.find({},{sort:{orderBy:-1}})},bannerHeight:function n(){return Session.get("bannerHeight")?Session.get("bannerHeight"):120}}),Template.banner.onRendered(function(){Tracker.autorun(function(){var e=Banners.find({},{sort:{orderBy:-1}});if(e.count())var n=new Swiper(".swiper-container",{pagination:".swiper-pagination",autoplay:5e3,loop:!0,autoplayDisableOnInteraction:!1})})})},"detail.js":function(){Template.bannerDetail.onCreated(function(){this.subscribe("bannersDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.bannerDetail.helpers({banner:function e(){return Banners.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.bannerDetail.onRendered(function(){})}},compents:{"template.department.js":function(){Template.__checkName("departmentSelector"),Template.departmentSelector=new Template("Template.departmentSelector",function(){var e=this;return[HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>省</label>"),"\n        ",HTML.SELECT({id:"ds-region"},"\n            ",HTML.Raw('<option value="">选择省</option>'),"\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("type"),"only")},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("regions"))},function(){return[" ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("isopen"),1)},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]})," "]},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("regions"))},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]}),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>市</label>"),"\n        ",HTML.SELECT({id:"ds-city"},"\n            ",HTML.Raw('<option value="">选择市</option>'),"\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("type"),"only")},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("citys"))},function(){return[" ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("isopen"),1)},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]})," "]},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("citys"))},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]}),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>地区</label>"),"\n        ",HTML.SELECT({id:"ds-zone"},"\n            ",HTML.Raw('<option value="">选择地区</option>'),"\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("type"),"only")},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("zones"))},function(){return[" ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("isopen"),1)},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]})," "]},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("zones"))},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]}),"\n            ",HTML.Raw('<!-- {{#each zones}}\n                <option value="{{_id}}">{{name}}</option>\n            {{/each }} -->'),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>医院</label>"),"\n        ",HTML.SELECT({id:"ds-hospital"},"\n            ",HTML.Raw('<option value="">选择医院</option>'),"\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("type"),"only")},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("hostpitals"))},function(){return[" ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("isopen"),1)},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]})," "]},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("hostpitals"))},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]}),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>一级科室</label>"),"\n        ",HTML.SELECT({id:"ds-department"},"\n            ",HTML.Raw('<option value="">选择科室</option>'),"\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("type"),"only")},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("departments"))},function(){return[" ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("isopen"),1)},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]})," "]},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("departments"))},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]}),"\n            ",HTML.Raw('<!-- {{#each departments}}\n                <option value="{{_id}}">{{name}}</option>\n            {{/each }} -->'),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>二级科室</label>"),"\n        ",HTML.SELECT({id:"ds-sdepartment"},"\n            ",HTML.Raw('<option value="">选择科室</option>'),"\n            ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("type"),"only")},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("sdepartments"))},function(){return[" ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("isopen"),1)},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]})," "]},function(){return[" ",Blaze.Each(function(){return Spacebars.call(e.lookup("sdepartments"))},function(){return["\n            ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]})," "]}),"\n            ",HTML.Raw('<!-- {{#each sdepartments}}\n                <option value="{{_id}}">{{name}}</option>\n            {{/each }} -->'),"\n        "),"\n    ")]})},"template.person.js":function(){Template.__checkName("personSelector"),Template.personSelector=new Template("Template.personSelector",function(){var e=this;return HTML.DIV({"class":"ff-line"},HTML.Raw("\n        <label>患者</label>\n       "),HTML.SELECT({id:"ds-person"},"\n            ",HTML.Raw('<option value="">选择患者</option>'),"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("persons"))},function(){return["\n                ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]}),"\n            ",HTML.Raw('<option value="other">添加患者</option>'),"\n         "),"\n    ")})},"template.pictures.js":function(){Template.__checkName("picturesSelector"),Template.picturesSelector=new Template("Template.picturesSelector",function(){var e=this;return HTML.DIV({"class":"ff-line"},HTML.Raw("\n        <label>上传检查数据</label>\n        "),HTML.DIV({"class":"ff-pics"},"\n        	",Blaze.Each(function(){return Spacebars.call(e.lookup("pictures"))},function(){return["\n        		",HTML.DIV({"class":"ff-pics-item","data-index":function(){return Spacebars.mustache(e.lookup("@index"))},style:function(){return["background-image:url(",Spacebars.mustache(e.lookup(".")),")"]}}),"\n        	"]}),"\n            ",HTML.Raw('<div class="ff-pics-add"><i class="fa fa-plus"></i>\n                <input id="ps-uploader" type="file" multiple="true">\n            </div>'),"\n            ",HTML.Raw('<div class="clear"></div>'),"\n        "),"\n    ")})},"template.select.js":function(){Template.__checkName("select"),Template.select=new Template("Template.select",function(){var e=this;return Blaze._TemplateWith(function(){return{settings:Spacebars.call(e.lookup("settings")),id:Spacebars.call("autocomplete-input"),placeholder:Spacebars.call("请输入搜索的内容")}},function(){return Spacebars.include(e.lookupTemplate("inputAutocomplete"),function(){return"\n    "})})})},"template.selectIndex.js":function(){Template.__checkName("selectIndex"),Template.selectIndex=new Template("Template.selectIndex",function(){var e=this;return Blaze._TemplateWith(function(){return{settings:Spacebars.call(e.lookup("settings")),id:Spacebars.call("autocomplete-input"),placeholder:Spacebars.call("请输入搜索的内容")}},function(){return Spacebars.include(e.lookupTemplate("inputAutocomplete"),function(){return"\n    "})})})},"template.table.js":function(){Template.__checkName("personTable"),Template.personTable=new Template("Template.personTable",function(){var e=this;return HTML.DIV({"class":"ff-line"},HTML.Raw("\n        <label>表单</label>\n       "),HTML.SELECT({id:"ds-table"},"\n            ",HTML.Raw('<option value="">选择表单</option>'),"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("tables"))},function(){return["\n                ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            "]}),"\n            ",HTML.Raw('<option value="other">通用表单</option>'),"\n         "),"\n    ")})},"template.thumb.js":function(){Template.__checkName("thumbSelector"),Template.thumbSelector=new Template("Template.thumbSelector",function(){var e=this;return HTML.DIV({"class":"ff-thumb"},"\n        ",HTML.LABEL(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),HTML.Raw('\n         <div class="ff-upload-input">\n                <i class="fa fa-camera"></i>\n                <input id="ts-uploader" type="file" multiple="true">\n         </div>\n    '))})},"department.js":function(){Template.departmentSelector.helpers({regions:function e(){return Session.get("departmentSelector-regions")},citys:function n(){return Session.get("departmentSelector-citys")},zones:function t(){return Session.get("departmentSelector-zones")},hostpitals:function a(){return Session.get("departmentSelector-hostpitals")},departments:function r(){return Session.get("departmentSelector-departments")},sdepartments:function o(){return Session.get("departmentSelector-sdepartments")},type:function i(){return console.log(this),this.type}}),Template.departmentSelector.onRendered(function(){Session.set("departmentSelector-regions",[]),Session.set("departmentSelector-citys",[]),Session.set("departmentSelector-zones",[]),Session.set("departmentSelector-hostpitals",[]),Session.set("departmentSelector-departments",[]),Session.set("departmentSelector-sdepartments",[]),Session.set("components-department",{}),Meteor.call("queryRegions",{parent:"root"},function(e,n){Session.set("departmentSelector-regions",n)})}),Template.departmentSelector.events({"change #ds-region":function l(){var e=$("#ds-region").val();Session.set("departmentSelector-citys",[]),Session.set("departmentSelector-hostpitals",[]),Session.set("departmentSelector-departments",[]),Session.set("departmentSelector-sdepartments",[]),Session.set("components-department",{}),""!=e&&Meteor.call("queryRegions",{parent:e},function(e,n){Session.set("departmentSelector-citys",n)})},"change #ds-city":function s(){var e=$("#ds-city").val();Session.set("departmentSelector-hostpitals",[]),Session.set("departmentSelector-departments",[]),Session.set("departmentSelector-sdepartments",[]),Session.set("components-department",{}),""!=e&&Meteor.call("queryZones",{region:e},function(e,n){Session.set("departmentSelector-zones",n)})},"change #ds-zone":function c(){var e=$("#ds-zone").val();Session.set("departmentSelector-hostpitals",[]),Session.set("departmentSelector-departments",[]),Session.set("departmentSelector-sdepartments",[]),Session.set("components-department",{}),""!=e&&Meteor.call("queryHospitals",{region:e},function(e,n){Session.set("departmentSelector-hostpitals",n)})},"change #ds-hospital":function u(){var e=$("#ds-hospital").val();Session.set("departmentSelector-departments",[]),Session.set("departmentSelector-sdepartments",[]),Session.set("components-department",{}),""!=e&&Meteor.call("queryDepartments",{hospital:e},function(e,n){n.length<1&&(n=[{name:"全科",_id:"ufm3p4KncJ3jfW9FN"},{name:"内科",_id:"rT98wCLYAa8CcEYyr"},{name:"外科",_id:"ZH3uYg5GhZgpXQTnz"},{name:"中医科",_id:"aFd4dznHENo4Y8fkX"},{name:"康复科",_id:"SbL6gB5njMh5aw89w"}]),Session.set("departmentSelector-departments",n)})},"change #ds-department":function p(){var e=$("#ds-department").val();Session.set("departmentSelector-sdepartments",[]),Session.set("components-department",{}),""!=e?Meteor.call("querySDepartments",{parent:e},function(e,n){n.length<1&&(n=[{name:"全科",_id:"ufm3p4KncJ3jfW9FN"},{name:"内科",_id:"rT98wCLYAa8CcEYyr"},{name:"外科",_id:"ZH3uYg5GhZgpXQTnz"},{name:"中医科",_id:"aFd4dznHENo4Y8fkX"},{name:"康复科",_id:"SbL6gB5njMh5aw89w"}]),Session.set("departmentSelector-sdepartments",n)}):(res=[{name:"全科",_id:"ufm3p4KncJ3jfW9FN"},{name:"内科",_id:"rT98wCLYAa8CcEYyr"},{name:"外科",_id:"ZH3uYg5GhZgpXQTnz"},{name:"中医科",_id:"aFd4dznHENo4Y8fkX"},{name:"康复科",_id:"SbL6gB5njMh5aw89w"}],Session.set("departmentSelector-sdepartments",res))},"change #ds-sdepartment":function f(){Session.set("components-department",{parentRegion:$("#ds-region").val(),parentRegionName:$("#ds-region").find("option:selected").text(),region:$("#ds-city").val(),zone:$("#ds-zone").val(),zoneName:$("#ds-zone").find("option:selected").text(),regionName:$("#ds-city").find("option:selected").text(),hospital:$("#ds-hospital").val(),hospitalName:$("#ds-hospital").find("option:selected").text(),department:$("#ds-department").val(),departmentName:$("#ds-department").find("option:selected").text(),sdepartment:$("#ds-sdepartment").val(),sdepartmentName:$("#ds-sdepartment").find("option:selected").text()})}})},"person.js":function(){Template.personSelector.onCreated(function(){this.subscribe("myperson",facc.user()._id)}),Template.personSelector.helpers({persons:function e(){return Persons.find()}}),Template.personSelector.onRendered(function(){}),Template.personSelector.events({"change #ds-person":function n(){var e=$("#ds-person").val();if(console.log($("#ds-person").val()),"other"==e)return FlowRouter.go("/person/add?frt="+encodeURI("/referral/upload/create")),!1;var n=Persons.findOne({_id:e});n?Session.set("components-person",n):Session.set("components-person",!1)}})},"pictures.js":function(){Template.picturesSelector.onCreated(function(){}),Template.picturesSelector.helpers({pictures:function e(){return Session.get("components-pictures")}}),Template.picturesSelector.onRendered(function(){Session.set("components-pictures",[])}),Template.picturesSelector.events({"change #ps-uploader":function n(e){for(var n=$(e.currentTarget),t=0;t<e.currentTarget.files.length;t++)lrz(e.currentTarget.files[t],{width:720}).then(function(e){var n=Session.get("components-pictures");n.push(e.base64),Session.set("components-pictures",n)})},"click .ff-pics-item":function t(e){for(var n=Session.get("components-pictures"),t=$(e.currentTarget),a=[],r=0;r<n.length;r++)r!=t.attr("data-index")&&a.push(n[r]);Session.set("components-pictures",a)}})},"select.js":function(){Template.select.helpers({cases:function e(){return Cases.find()},settings:function n(){return{limit:10,rules:[{token:"",collection:Cases,field:"name",matchAll:!0,template:Template.serverCollectionPill}]}}})},"selectIndex.js":function(){Template.selectIndex.helpers({news:function e(){return News.find()},settings:function n(){return{limit:10,rules:[{token:"",collection:News,field:"title",matchAll:!0,template:Template.serverCollectionPill}]}}}),Template.selectIndex.events({"autocompleteselect input":function t(e,n,a){FlowRouter.go("/news/item?id="+a._id)}})},"table.js":function(){Template.personTable.onCreated(function(){this.subscribe("myTable",facc.user()._id)}),Template.personTable.helpers({tables:function e(){return Tables.find()}}),Template.personTable.onRendered(function(){}),Template.personTable.events({"change #ds-table":function n(){var e=$("#ds-table").val();if("other"==e)return FlowRouter.go("/table/add?frt="+encodeURI("/feild/project")),!1;var n=Tables.findOne({_id:e});n?Session.set("components-person",n):Session.set("components-person",!1)}})},"thumb.js":function(){Template.thumbSelector.onCreated(function(){}),Template.thumbSelector.helpers({}),Template.thumbSelector.onRendered(function(){Session.set("components-thumb","")}),Template.thumbSelector.events({"change #ts-uploader":function e(n){var t=$(n.currentTarget);lrz(n.currentTarget.files[0],{width:720}).then(function(e){Session.set("components-thumb",e.base64),t.parent().css({"background-image":"url("+e.base64+")"}).find("i").remove()})}})}},discuz:{"template.box.js":function(){Template.__checkName("discuzBox"),Template.discuzBox=new Template("Template.discuzBox",function(){var e=this;return[HTML.HEADER("\n        ",HTML.DIV({"class":"header"},"\n            我的草稿箱\n            ",HTML.A({"class":"left",href:function(){return Spacebars.mustache(e.lookup("backurl"))},style:"font-size:14px;width:100px;margin-right:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            ",HTML.Raw('<a class="right" href="/discuz/create" style="font-size:14px;width:100px;margin-right:10px;">新建</a>'),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"discuzs"},"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("discuzs"))},function(){return["\n        ",HTML.DIV({"class":"db-item "},"\n            ",HTML.DIV({"class":"db-cnt"},"\n                ",HTML.DIV({"class":"ds-title"}," ",Blaze.View("lookup:topic",function(){return Spacebars.mustache(e.lookup("topic"))})," "),"\n                ",HTML.DIV({"class":"ds-time"}," ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("createAt"))})),"\n                ",HTML.DIV({"class":"ds-summary"},Blaze.View("lookup:summary",function(){return Spacebars.mustache(e.lookup("summary"))})),"\n            "),"\n            ",HTML.DIV({"class":"db-bars _flex"},"\n                ",HTML.A({"class":" _flex-1",href:function(){return["/discuz/edit?id=",Spacebars.mustache(e.lookup("_id"))]}},"编辑"),"\n                ",HTML.DIV({"class":"db-status _flex-1"},"发布"),"\n                ",HTML.DIV({"class":"db-del _flex-1"},"删除"),"\n            "),"\n        "),"\n        "]}),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("discuz")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.create.js":function(){Template.__checkName("discuzCreate"),Template.discuzCreate=new Template("Template.discuzCreate",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n               新建讨论组\n                <a href="/discuz/list" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        '),HTML.DIV({"class":"ff-form"},"\n               ",HTML.Raw('<div class="ff-line">\n                    <label>讨论主题</label>\n                    <input id="pa-topic" type="text" placeholder="请输入讨论主题">\n                </div>'),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>详细论点</label>"),"\n                    ",HTML.TEXTAREA({style:"padding-top:5px;",id:"pa-detail",placeholder:"请输入详细论点"}),"\n                "),"\n                 ",HTML.Raw('<div class="ff-btn-group" style="margin-top:8px;">\n                 <div class="ff-btn" id="pa-create"><i class="fa fa-save"></i> 保存草稿</div>\n                </div>'),"\n            "),"\n    ")})},"template.discuz.js":function(){Template.__checkName("discuz"),Template.discuz=new Template("Template.discuz",function(){var e=this;return HTML.DIV({"class":"page page-with-header instant"},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                ",HTML.DIV({style:"font-size:14px;text-align:center;line-height: 45px;padding:0px 50px;overflow: :hidden;"},Blaze.View("lookup:target.topic",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("target"),"topic"))})),"\n                ",HTML.Raw('<a href="/discuz/list" class="left" style="font-size:18px !important;\n                padding-left:10px !important;"><i class="fa fa fa-chevron-left"></i></a>'),"\n                ",HTML.A({href:function(){return["/discuz/users?id=",Spacebars.mustache(Spacebars.dot(e.lookup("target"),"_id"))]},"class":"right",style:"padding-right:10px"},HTML.Raw('<i class="fa fa fa-users"></i>')),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"d-detail"},"\n            ",HTML.DIV({"class":"d-creater _flex"},"\n                ",HTML.DIV({"class":"d-creater-avatar",style:function(){return["background-image:url(",Spacebars.mustache(Spacebars.dot(e.lookup("target"),"avatar")),")"]}}),"\n                ",HTML.A({href:function(){return["/discuz/host?id=",Spacebars.mustache(Spacebars.dot(e.lookup("target"),"userid")),"&frt=/discuz?id=",Spacebars.mustache(Spacebars.dot(e.lookup("target"),"_id"))]},"class":"d-creater-info _flex-1"},"\n                    ",HTML.DIV({"class":"d-creater-name",style:""}," ",Blaze.View("lookup:target.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("target"),"name"))})),HTML.Raw('<!-- <div class="d-faqi"></div> -->'),"\n                    ",HTML.DIV({"class":"d-creater-hospital"},Blaze.View("lookup:target.hospitalName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("target"),"hospitalName"))})," ｜ ",Blaze.View("lookup:doctor.title",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("doctor"),"title"))})," "),"\n                "),"\n                ",HTML.Raw('<i class="fa fa-angle-right"></i>'),"\n            "),"\n            ",HTML.DIV({"class":" ",style:"text-align:center;margin-top:10px;font-size: 10pt;"},"\n                 ",HTML.H3(Blaze.View("lookup:target.topic",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("target"),"topic"))})),"\n            "),"\n            ",HTML.DIV({"class":"d-detail"},"\n             ",Spacebars.include(e.lookupTemplate("markdown"),function(){return Blaze.View("lookup:target.detail",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(e.lookup("target"),"detail")))})}),"\n           \n            "),"\n        "),"\n        ",HTML.DIV({"class":"list"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("messages"))},function(){return["\n            ",HTML.DIV({"class":"message-left _flex animated bounceInRight"},"\n                ",HTML.DIV({"class":"message-base"},"\n                    ",HTML.DIV({"class":"message-avatar",style:function(){return["background-image:url(",Spacebars.mustache(Spacebars.dot(e.lookup("mine"),"avatar")),")"]}}),"\n                    ",HTML.DIV({"class":"message-agree"},Blaze.View("lookup:checknum",function(){return Spacebars.mustache(e.lookup("checknum"),e.lookup("agree"))})),"\n                "),"\n                ",HTML.DIV({"class":"message-info _flex-1"},"\n                    ",HTML.DIV({"class":"message-time"},Blaze.View("lookup:nickname",function(){return Spacebars.mustache(e.lookup("nickname"))})," ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("createAt"))})),"\n                    ",HTML.DIV({"class":"message-content"}," ",Spacebars.include(e.lookupTemplate("markdown"),function(){return Blaze.View("lookup:checkcontent",function(){return Spacebars.makeRaw(Spacebars.mustache(e.lookup("checkcontent")))})})),"\n                "),"\n            "),"\n            "]}),"\n        "),"\n        ",HTML.DIV({"class":"d-bg animated bounceInUp"},"\n            ",HTML.DIV({id:"instant-form"},"\n                ",HTML.DIV({"class":"form-ct "},"\n                    ",HTML.TEXTAREA({id:"instant-input",placeholder:"说点什么"}),"\n                    ",HTML.Raw('<div class="sendbtn"> 发送</div>'),"\n                    ",HTML.Raw('<div class="d-tips"><i class="fa fa-check-circle-o"></i>我已同意用户使用协议</div>'),"\n                    ",HTML.Raw('<div class="d-i-c"><i class="fa fa-remove"></i></div>'),"\n                "),"\n            "),"\n        "),HTML.Raw('\n        <div style="width:100%;height:45px;"></div>\n        '),HTML.DIV({"class":"d-create _flex"},"\n            ",HTML.Raw('<div class="d-create-input _flex-1"><i class="fa fa-edit "></i> 我想说...</div>'),"\n            ",HTML.DIV({"class":"d-create-comment"},HTML.Raw('<i class="fa fa-comment-o"></i>'),Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("messages"))},function(){return HTML.B(Blaze.View("lookup:count",function(){return Spacebars.mustache(e.lookup("count"),e.lookup("messages"))}))})),"\n            ",HTML.DIV({"class":"d-create-star"},HTML.I({"class":function(){return["fa ",Blaze.If(function(){return Spacebars.call(e.lookup("isfovar"))},function(){return" fa-star "},function(){return" fa-star-o "})]}})),"\n        "),"\n    ")})},"template.edit.js":function(){Template.__checkName("discuzEdit"),Template.discuzEdit=new Template("Template.discuzEdit",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n               编辑讨论组\n                <a href="/discuz/box" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        '),HTML.DIV({"class":"ff-form"},"\n               ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>讨论主题</label>"),"\n                    ",HTML.INPUT({id:"pa-topic",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("discuz"),"topic"))},placeholder:"请输入讨论主题"}),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>详细论点</label>"),"\n                    ",HTML.TEXTAREA({style:"padding-top:5px;",id:"pa-detail",placeholder:"请输入详细论点",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("discuz"),"detail"))}}),"\n                "),"\n                 ",HTML.Raw('<div class="ff-btn-group" style="margin-top:8px;">\n                 <div class="ff-btn" id="pa-create"><i class="fa fa-save"></i> 保存草稿</div>\n                </div>'),"\n            "),"\n    ")})},"template.host.js":function(){Template.__checkName("discuzHost"),Template.discuzHost=new Template("Template.discuzHost",function(){var e=this;return[HTML.HEADER("\n        ",HTML.DIV({"class":"header"},"\n            个人主页\n            ",HTML.A({"class":"left",href:function(){return Spacebars.mustache(e.lookup("url"))},style:"font-size:18px;width:100px;padding-left:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n        "),"\n    "),"\n    ",HTML.DIV({style:"background-color:rgb(247,247,247)"},"\n        ",HTML.DIV({"class":"dh-user"},"\n            ",HTML.DIV("\n                ",HTML.DIV({"class":"dh-avatar",style:function(){return["background-image:url(",Spacebars.mustache(Spacebars.dot(e.lookup("user"),"avatar")),")"]}}),"\n            "),"\n            ",HTML.DIV({"class":"dh-name"},Blaze.View("lookup:doctor.doctorName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("doctor"),"doctorName"))})),"\n            ",HTML.DIV({"class":"dh-title"},Blaze.View("lookup:doctor.hospitalName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("doctor"),"hospitalName"))})," ",HTML.Raw("&nbsp;"),"|",HTML.Raw("&nbsp;")," ",Blaze.View("lookup:doctor.departmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("doctor"),"departmentName"))})," ",HTML.Raw("&nbsp;"),"|",HTML.Raw("&nbsp;")," ",Blaze.View("lookup:doctor.title",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("doctor"),"title"))})),"\n            ",HTML.Raw('<div class="dh-two">\n                <a class="dh-draft"></a>\n                <a href="/discuz/box?frt=/home" class="dh-private"></a>\n            </div>'),"\n        "),"\n        ",HTML.DIV({
"class":"_flex dh-count"},"\n            ",HTML.DIV({"class":"_flex-1 dh-count-padd"},"\n                ",HTML.DIV({"class":"numbercolor"},Blaze.View("lookup:num",function(){return Spacebars.mustache(e.lookup("num"),Spacebars.dot(e.lookup("user"),"agreeDiscuz"))})),"\n                ",HTML.Raw('<div class="numbercolors">关注的人</div>'),"\n            "),"\n            ",HTML.DIV({"class":"_flex-1 dh-count-padd"},"\n                ",HTML.DIV({"class":"numbercolor"},Blaze.View("lookup:num",function(){return Spacebars.mustache(e.lookup("num"),Spacebars.dot(e.lookup("user"),"commentDiscuz"))})),"\n                ",HTML.Raw('<div class="numbercolors">评论总数</div>'),"\n            "),"\n            ",HTML.DIV({"class":"_flex-1 dh-count-padd"},"\n                ",HTML.DIV({"class":"numbercolor"},Blaze.View("lookup:num",function(){return Spacebars.mustache(e.lookup("num"),Spacebars.dot(e.lookup("user"),"createDiscuz"))}),"篇"),"\n                ",HTML.Raw('<div class="numbercolors">文章总数</div>'),"\n            "),"\n            ",HTML.DIV({"class":"_flex-1 dh-count-padd"},"\n                ",HTML.DIV({"class":"numbercolor"},Blaze.View("lookup:num",function(){return Spacebars.mustache(e.lookup("num"),Spacebars.dot(e.lookup("user"),"viewDiscuz"))})),"\n                ",HTML.Raw('<div class="numbercolors">浏览量</div>'),"\n            "),"\n        "),"\n        ",HTML.Raw('<div class="zxdt">最新动态</div>'),"\n        ",HTML.DIV({"class":"discuzs"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("discuzs"))},function(){return["\n            ",HTML.A({"class":"ds-item _flex",href:function(){return["/discuz?id=",Spacebars.mustache(e.lookup("_id"))]}},"\n                ",HTML.DIV({"class":"ds-thumb",style:function(){return["background-image:url(",Spacebars.mustache(Spacebars.dot(e.lookup("user"),"avatar")),")"]}}),"\n                ",HTML.DIV({"class":"ds-cnt _flex-1"},"\n                    ",HTML.DIV({style:"float:left;width:100%"},"\n                        ",HTML.DIV({"class":"ds-title"}," ",Blaze.View("lookup:topic",function(){return Spacebars.mustache(e.lookup("topic"))})," "),"\n                        ",HTML.DIV({"class":"ds-time"}," ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("createAt"))})),"\n                    "),"\n                    ",HTML.DIV({"class":"ds-summary"},Blaze.View("lookup:summary",function(){return Spacebars.mustache(e.lookup("summary"))})),"\n                    ",HTML.Comment(' <div class="ds-count">已有{{count users}}人参与</div> '),"\n                    ",HTML.Comment(' <i class="fa fa-angle-right"></i> '),"\n                "),"\n            "),"\n            "]}),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"d-bg animated bounceInUp"},"\n            ",HTML.DIV({id:"instant-form"},"\n                ",HTML.DIV({"class":"form-ct "},"\n                    ",HTML.TEXTAREA({id:"instant-input",placeholder:"说点什么"}),"\n                    ",HTML.Raw('<div class="sendbtn"> 发送</div>'),"\n                    ",HTML.Raw('<div class="d-tips"><i class="fa fa-check-circle-o"></i>我已同意用户使用协议</div>'),"\n                    ",HTML.Raw('<div class="d-i-c"><i class="fa fa-remove"></i></div>'),"\n                "),"\n            "),"\n        ")]})},"template.list.js":function(){Template.__checkName("discuzList"),Template.discuzList=new Template("Template.discuzList",function(){var e=this;return[HTML.Raw('<header>\n        <div class="header">\n            讨论组\n            <a class="right" href="/discuz/create" style="font-size:14px;width:100px;margin-right:10px;">新建</a>\n        </div>\n    </header>\n    '),HTML.DIV({"class":"search",style:"position:relative;overflow:hidden;padding-bottom:30px;"},"\n        ",HTML.DIV({"class":"index-sell"},"\n            ",HTML.Raw('<div class="knowledges-img"></div>'),"\n            ",Blaze._TemplateWith(function(){return{settings:Spacebars.call(e.lookup("settings")),id:Spacebars.call("autocomplete-input"),placeholder:Spacebars.call("请输入搜索的内容")}},function(){return Spacebars.include(e.lookupTemplate("inputAutocomplete"),function(){return" "})}),"\n        "),"\n        ",HTML.Raw('<!-- <input type="text" id="header-search" placeholder="搜索" value="{{key}}" style="background-color:#fff;margin:5px;width:97%;" />\n        <div class="left" id="d-filter" style="font-size:16px;color:black;width:100px;position:absolute;top:10px;right:-50px;">搜索</div> -->'),"\n        ",HTML.Raw('<!-- <a class="left" href="/discuz/create" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-plus"></i></a>\n    \n        </div>\n        <!<div class="disc-tags">\n            <b>关键词:</b> \n            {{#each recommands}}\n            <a>{{content}}</a>\n            {{/each }}\n            <div class="clear"></div>\n        </div> -->'),"\n        ",HTML.DIV({"class":"discuzs"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("discuzs"))},function(){return["\n            ",HTML.A({"class":"ds-item _flex",href:function(){return["/discuz?id=",Spacebars.mustache(e.lookup("_id"))]}},"\n                ",HTML.DIV({"class":"ds-thumb",style:function(){return["background-image:url(",Spacebars.mustache(Spacebars.dot(e.lookup("user"),"avatar")),")"]}}),"\n                ",HTML.DIV({"class":"ds-cnt _flex-1"},"\n                    ",HTML.DIV({style:"float:left;width:100%"},"\n                        ",HTML.DIV({"class":"ds-title"}," ",Blaze.View("lookup:topic",function(){return Spacebars.mustache(e.lookup("topic"))})," "),"\n                        ",HTML.DIV({"class":"ds-time"}," ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("createAt"))})),"\n                    "),"\n                    ",HTML.DIV({"class":"ds-summary"},Blaze.View("lookup:summary",function(){return Spacebars.mustache(e.lookup("summary"))})),"\n                    ",HTML.Comment(' <div class="ds-time">创建日期: {{format createAt}}</div>\n                    <div class="ds-count">已有{{count users}}人参与</div> '),"\n                    ",HTML.Comment(' <i class="fa fa-angle-right"></i> '),"\n                "),"\n            "),"\n            "]}),"\n        "),"\n        ",Blaze._TemplateWith(function(){return{active:Spacebars.call("discuz")}},function(){return Spacebars.include(e.lookupTemplate("footer"))}),"\n    ")]}),Template.__checkName("serverCollectionPillss"),Template.serverCollectionPillss=new Template("Template.serverCollectionPillss",function(){var e=this;return Blaze.View("lookup:topic",function(){return Spacebars.mustache(e.lookup("topic"))})})},"template.users.js":function(){Template.__checkName("discuzUsers"),Template.discuzUsers=new Template("Template.discuzUsers",function(){var e=this;return[HTML.HEADER("\n        ",HTML.DIV({"class":"header"},"\n            讨论组成员\n            ",HTML.A({href:function(){return["/discuz?id=",Spacebars.mustache(Spacebars.dot(e.lookup("discuz"),"_id"))]},"class":"left",style:"font-size:18px !important;\n                padding-left:10px !important"},HTML.Raw('<i class="fa fa fa-chevron-left"></i>')),"\n        "),"\n    "),"\n	",HTML.DIV({"class":"du-list"},"\n		",Blaze.Each(function(){return Spacebars.call(e.lookup("users"))},function(){return["\n			",HTML.A({"class":"du-item",href:function(){return["/discuz/host?id=",Spacebars.mustache(e.lookup("_id")),"&frt=/discuz/users?id=",Spacebars.mustache(Spacebars.dot(e.lookup("discuz"),"_id"))]}},"\n				",HTML.DIV({"class":"du-cnt"},"\n					",HTML.DIV({"class":"du-avatar",style:function(){return["background-image:url(",Spacebars.mustache(e.lookup("avatar")),")"]}}),"\n					",HTML.DIV({"class":"du-nickname"},Blaze.View("lookup:nickname",function(){return Spacebars.mustache(e.lookup("nickname"))})),"\n				"),"\n			"),"\n		"]}),"\n		",HTML.Raw('<div class="clear"></div>'),"\n	")]})},"box.js":function(){Template.discuzBox.onCreated(function(){this.subscribe("discuzMyBox",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.discuzBox.helpers({backurl:function e(){return FlowRouter.getQueryParam("frt")?FlowRouter.getQueryParam("frt"):"/discuz/list"},discuzs:function n(){var e={};if(Session.get("DFILTER")){var n=Session.get("DFILTER");e.$or=[{topic:{$regex:n+"",$options:"i"}},{summary:{$regex:n+"",$options:"i"}},{tags:{$all:n.split(" ")}}]}return Discuzs.find(e,{sort:{"default":-1,type:-1,orderBy:-1,createAt:-1}}).fetch()}}),Template.discuzBox.onRendered(function(){}),Template.discuzBox.events({"click .db-del":function t(){Discuzs.update({_id:this._id},{$set:{status:0}})},"click .db-status":function a(){Discuzs.update({_id:this._id},{$set:{send:1}})}})},"create.js":function(){Template.discuzCreate.onCreated(function(){this.subscribe("mydocInfo",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.discuzCreate.helpers({}),Template.discuzCreate.events({"click #pa-create":function e(){var e=Doctors.findOne({userid:facc.user()._id});if(!e||!e.vaild)return alert("您还未认证资资"),FlowRouter.go("/home/certfication"),!1;var n={topic:$("#pa-topic").val(),summary:$("#pa-detail").val().substring(0,30),detail:$("#pa-detail").val(),orderBy:0,thumb:"/avatar.png",createAt:new Date,users:[facc.user()._id],nickname:facc.user().nickname,doctor:e._id,userid:facc.user()._id,name:e.doctorName,avatar:facc.user().avatar,parentRegion:e.parentRegion,parentRegionName:e.parentRegionName,region:e.region,regionName:e.regionName,hospital:e.hospital,hospitalName:e.hospitalName,department:e.department,departmentName:e.departmentName,sdepartment:e.sdepartment,sdepartmentName:e.sdepartmentName,view:0,status:1,send:0},t=Discuzs.insert(n);Meteor.call("updateUserDiscuz",{did:t,type:"create"}),FlowRouter.go("/discuz/box?id="+t)}})},"discuz.js":function(){Template.discuz.onCreated(function(){this.subscribe("discuz",FlowRouter.getQueryParam("id"),facc.isGuest()?"":facc.user()._id,{onReady:function e(){loading.hide()}}),this.subscribe("doctor",facc.user()._id)}),Template.discuz.helpers({target:function e(){return Discuzs.findOne({_id:FlowRouter.getQueryParam("id")})},mine:function n(){return facc.user()},doctor:function t(){return Doctors.findOne()},messages:function a(){return DiscuzMessages.find({discuz:FlowRouter.getQueryParam("id")},{sort:{agree:-1,createAt:-1}}).fetch()},compare:function r(e,n){return e==n},checkcontent:function o(){return this.pic?"<img src='"+this.pic+"' />":this.content},checknum:function i(e){return e?e:"0"},count:function l(e){return console.log(e),e?e.length:0},isfovar:function s(){return DiscuzFovar.findOne({userid:facc.user()._id,discuz:FlowRouter.getQueryParam("id")})}}),Template.discuz.events({"click .message-agree":function c(){$.inArray(facc.user()._id,this.agreeUsers)&&(DiscuzMessages.update({_id:this._id},{$inc:{agree:1},$addToSet:{agreeUsers:facc.user()._id}}),Meteor.call("updateUserDiscuz",{did:FlowRouter.getQueryParam("id"),type:"agree"}))},"click .d-i-c":function u(){$(".d-bg").hide()},"click .d-create-input":function p(){$(".d-bg").show()},"click .sendbtn":function f(){if($("#instant-input").val().length>0){var e={content:$("#instant-input").val(),pic:"",createAt:new Date,user:facc.user()._id,avatar:facc.user().avatar,nickname:facc.user().nickname,discuz:FlowRouter.getQueryParam("id"),geo:Session.get("geolocation")};DiscuzMessages.insert(e),Discuzs.update({_id:FlowRouter.getQueryParam("id")},{$addToSet:{users:facc.user()._id}}),$("#instant-input").val(""),$(".d-bg").hide(),Meteor.call("updateUserDiscuz",{did:FlowRouter.getQueryParam("id"),type:"comment"})}else alert("请输入内容")},"change #instant-input-pic":function d(e){var n=$(e.currentTarget);lrz(e.currentTarget.files[0],{width:720}).then(function(e){var n=facc.user()._id,t=FlowRouter.getQueryParam("id"),a={content:"[图片]",pic:e.base64,createAt:new Date,user:facc.user()._id,avatar:facc.user().avatar,nickname:facc.user().nickname,discuz:FlowRouter.getQueryParam("id"),geo:Session.get("geolocation")};DiscuzMessages.insert(a,function(e,n){Meteor.call("updateDiscuzImg",{dmid:n},function(){})}),Discuzs.update({_id:FlowRouter.getQueryParam("id")},{$addToSet:{users:facc.user()._id}})})},"click .d-create-star":function m(){if(facc.isGuest())return FlowRouter.go("/login"),!1;var e=Discuzs.findOne({_id:FlowRouter.getQueryParam("id")}),n=DiscuzFovar.findOne({userid:facc.user()._id,discuz:FlowRouter.getQueryParam("id")});n?DiscuzFovar.remove({_id:n._id}):(DiscuzFovar.insert({userid:facc.user()._id,discuz:FlowRouter.getQueryParam("id"),createAt:new Date,topic:e.topic}),e.doctor&&Doctors.update({_id:e.doctor},{$inc:{agreeDiscuz:1}}))}}),Template.discuz.onRendered(function(){var e=facc.user()._id,n=FlowRouter.getQueryParam("id");Meteor.call("updateUserDiscuz",{did:FlowRouter.getQueryParam("id"),type:"view"})})},"edit.js":function(){Template.discuzEdit.onCreated(function(){this.subscribe("discuz",FlowRouter.getQueryParam("id"),facc.isGuest()?"":facc.user()._id,{onReady:function e(){loading.hide()}}),this.subscribe("doctor",facc.user()._id)}),Template.discuzEdit.helpers({discuz:function e(){return Discuzs.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.discuzEdit.events({"click #pa-create":function n(){var e=Discuzs.update({_id:FlowRouter.getQueryParam("id")},{$set:{topic:$("#pa-topic").val(),summary:$("#pa-detail").val().substring(0,30),detail:$("#pa-detail").val()}});FlowRouter.go("/discuz/box?id="+e)}}),Template.discuzEdit.onRendered(function(){})},"host.js":function(){Template.discuzHost.onCreated(function(){this.subscribe("discuzDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}}),this.subscribe("mydocInfo",FlowRouter.getQueryParam("id"))}),Template.discuzHost.helpers({discuzs:function e(){return Discuzs.find({},{sort:{"default":-1,type:-1,orderBy:-1,createAt:-1}})},count:function n(e){return e?e.length:0},user:function t(){return Meteor.users.findOne({_id:FlowRouter.getQueryParam("id")})},doctor:function a(){return Doctors.findOne({userid:FlowRouter.getQueryParam("id")})},num:function r(e){return e?e:"0"},url:function o(){return FlowRouter.getQueryParam("frt")?FlowRouter.getQueryParam("frt"):"/discuz/list"}}),Template.discuzHost.onRendered(function(){}),Template.discuzHost.events({"click .dh-draft":function i(){$(".d-bg").show()},"click .d-i-c":function l(){$(".d-bg").hide()},"click .sendbtn":function s(){if(!$("#instant-input").val())return alert("请输入内容"),!1;var e=Meteor.users.findOne({_id:FlowRouter.getQueryParam("id")});Messages.insert({from:facc.user()._id,to:e._id,fname:facc.user().nickname,tname:e.nickname,favatar:facc.user().avatar,tavatar:e.avatar,createAt:new Date,content:$("#instant-input").val(),read:0,status:1}),alert("私信已发送"),$(".d-bg").hide()}})},"list.js":function(){Template.discuzList.onCreated(function(){this.subscribe("discuzMyList",facc.user()._id,{onReady:function e(){loading.hide()}}),this.subscribe("recommands"),this.subscribe("userDetail",facc.user()._id)}),Template.discuzList.helpers({recommands:function e(){return Recommands.find()},user:function n(){return Meteor.users.findOne({_id:facc.user()._id})},discuzs:function t(){var e={};if(Session.get("DFILTER")){var n=Session.get("DFILTER");e.$or=[{topic:{$regex:n+"",$options:"i"}},{summary:{$regex:n+"",$options:"i"}},{tags:{$all:n.split(" ")}}]}return Discuzs.find(e,{sort:{"default":-1,type:-1,orderBy:-1,createAt:-1}}).fetch()},right:function a(e){return $.inArray(facc.user()._id,e.users)>-1},count:function r(e){return e?e.length:0},key:function o(){return Session.get("DFILTER")},settings:function i(){return{limit:10,rules:[{token:"",collection:Discuzs,field:"topic",matchAll:!0,template:Template.serverCollectionPillss}]}}}),Template.discuzList.onRendered(function(){}),Template.discuzList.events({"autocompleteselect input":function l(e,n,t){FlowRouter.go("/discuz?id="+t._id)}})},"users.js":function(){Template.discuzUsers.onCreated(function(){this.subscribe("discuzUsers",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}}),this.subscribe("discuz",FlowRouter.getQueryParam("id"))}),Template.discuzUsers.helpers({users:function e(){var e=Discuzs.findOne({_id:FlowRouter.getQueryParam("id")});return e?Meteor.users.find({_id:{$in:e.users}}):[]},discuz:function n(){return Discuzs.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.discuzUsers.onRendered(function(){}),Template.discuzUsers.events({})}},feild:{"template.create.js":function(){Template.__checkName("feildCreate"),Template.feildCreate=new Template("Template.feildCreate",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n                新建表单\n                <a href="/task" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n                <a id="save" class="right" style="font-size:14px;width:100px;padding-right:10px;padding-top:3px;">保存</a>\n            </div>\n        </header>\n        <div class="ff-form" style="margin-bottom:10px;">\n            <div class="ff-line">\n                <label>表单名称</label>\n                <input id="pa-topic" type="text" placeholder="请输入表单名称">\n            </div>\n            <div class="ff-line">\n                <label>表单内容</label>\n                <input id="pa-name" type="text" placeholder="请输入表单内容">\n            </div>\n            <div class="ff-btn-group" style="margin-top:7px;">\n                <div class="ff-btn" id="pa-create">增加表单</div>\n            </div>\n        </div>\n        '),HTML.DIV({"class":"fc-all",style:"margin-bottom:50px;"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("feilds"))},function(){return["\n            ",HTML.DIV({"class":"fc-input _flex"},"\n                ",HTML.DIV({"class":"fc-left"},HTML.I({"class":"fa fa-sort-asc"})),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n                ",HTML.DIV({"class":"fc-right"},HTML.I({"class":"fa fa-remove"})),"\n            "),"\n            "]}),"\n        "),"\n        ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))}),"\n    ")})},"template.detail.js":function(){Template.__checkName("feildDetail"),Template.feildDetail=new Template("Template.feildDetail",function(){var e=this;return[HTML.Raw('<div class="page page-with-header-footer ">\n        <header>\n            <div class="header">\n                表单详情\n                <a href="/feild" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n    </div>\n    '),HTML.DIV({"class":"fd-lab"}," 此表单已被使用 ",Blaze.View("lookup:fe.num",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fe"),"num"))})," 次"),"\n    ",HTML.DIV({"class":"ff-form",style:"margin-bottom:50px"},"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("fe"),"objs"))},function(){return["\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.LABEL(Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n            ",HTML.INPUT({"class":"feild-item","data-lab":function(){return Spacebars.mustache(e.lookup("title"))},type:"text",placeholder:function(){return["请输入",Spacebars.mustache(e.lookup("title"))]}}),"\n        "),"\n        "]}),"\n        ",HTML.Raw('<div class="ff-btn-group" style="margin-top:7px;">\n            <div class="ff-btn" id="pa-create">测试结果</div>\n        </div>'),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.index.js":function(){Template.__checkName("feild"),Template.feild=new Template("Template.feild",function(){var e=this;return[HTML.Raw('<div class="page page-with-header-footer ">\n        <header>\n            <div class="header">\n                我的表单\n                <a href="/" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n                <a href="/feild/create" class="right" style="font-size:18px;width:100px;padding-right:10px;padding-top:2px;"><i class="fa fa-plus"></i></a>\n            </div>\n        </header>\n    </div>\n    '),Blaze.Each(function(){return Spacebars.call(e.lookup("feilds"))},function(){return["\n    ",HTML.A({href:function(){return["/feild/detail?id=",Spacebars.mustache(e.lookup("_id"))]},"class":"f-item"},"\n        ",HTML.B(Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n        ",HTML.DIV({"class":"f-item-time"},Blaze.View("lookup:feild.title",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("feild"),"title"))})),"\n        ",HTML.DIV({"class":"f-item-time"},Blaze.View("lookup:format3",function(){return Spacebars.mustache(e.lookup("format3"),e.lookup("createAt"))})),"\n        ",HTML.DIV({"class":"f-item-num"},"\n            ",HTML.DIV(Blaze.View("lookup:checknum",function(){return Spacebars.mustache(e.lookup("checknum"))}))," 次"),"\n    "),"\n    "]})," ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.project.js":function(){Template.__checkName("feildPoject"),Template.feildPoject=new Template("Template.feildPoject",function(){var e=this;return HTML.DIV({"class":"project"},HTML.Raw('\n        <header>\n            <div class="header">\n                通用表单\n                <a href="/feild" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        '),HTML.DIV({"class":"ff-form",style:"margin-bottom:0!important;padding-bottom:0 !important"},"\n            ",HTML.Raw('<div class="ff-line">\n                <label>姓名</label>\n                <input id="pa-topic" type="text" placeholder="请添加患者">\n            </div>'),"\n            ",HTML.Raw('<div class="ff-line">\n                <label>病例编号</label>\n                <input id="pa-detail" type="text" placeholder="请输入病例编号">\n            </div>'),"\n            ",HTML.Raw('<div class="ff-line">\n                <label>随访日期</label>\n                <input id="pa-date" type="date" placeholder="请输入随访日期">\n            </div>'),"\n            ",HTML.Raw('<div class="ff-line">\n                <label>随访方式</label>\n                <input id="pa-way" type="text" placeholder="请输入随访方式">\n            </div>'),"\n            ",HTML.Raw('<div class="ff-line">\n                <label>症状</label>\n                <input id="pa-symptom" type="text" placeholder="请输入症状">\n            </div>'),"\n            ",HTML.Raw('<div class="ff-line">\n                <label>体征</label>\n                <input id="pa-sign" type="text" placeholder="请输入体征">\n            </div>'),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>生活方式</label>"),"\n                ",HTML.TEXTAREA({id:"pa-lifeway",type:"text",placeholder:"请输入生活方式"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>辅助检查</label>"),"\n                ",HTML.TEXTAREA({id:"pa-inspect",type:"text",placeholder:"请输入辅助检查"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>用药情况</label>"),"\n                ",HTML.TEXTAREA({id:"pa-medicine",type:"text",placeholder:"请输入用药情况"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>下次随访时间</label>"),"\n                ",HTML.TEXTAREA({id:"pa-nextdate",type:"text",placeholder:"请输入下次随访时间"}),"\n            "),"\n            ",HTML.Raw('<div class="ff-btn-group">\n                <div class="ff-btn" id="ta-create">确认测试</div>\n            </div>'),"\n        "),"\n    ")})},"template.test.js":function(){Template.__checkName("feildTest"),Template.feildTest=new Template("Template.feildTest",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                表单测试结果\n                ",HTML.A({href:function(){return["/feild/detail?id=",Spacebars.mustache(e.lookup("fid"))]},"class":"left",style:"font-size:18px;width:100px;padding-left:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"ff-form"},"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("fe"))},function(){return["\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.LABEL(Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:value",function(){return Spacebars.mustache(e.lookup("value"))})),"\n        "),"\n        "]}),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"create.js":function(){Template.feildCreate.onCreated(function(){this.subscribe("myFeilds",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.feildCreate.helpers({feilds:function e(){return Session.get("FEILDCREAT")},backurl:function n(){return FlowRouter.getQueryParam("frt")?FlowRouter.getQueryParam("frt"):"/feild"}}),orderByNum=0,Template.feildCreate.events({"click #pa-create":function t(){var e=$("#pa-name").val();if(!e)return alert("请输入表单内容"),!1;var n=Session.get("FEILDCREAT")?Session.get("FEILDCREAT"):[];n.push({title:e,orderBy:100}),$("#pa-name").val(""),Session.set("FEILDCREAT",n)},"click .fc-right":function a(){for(var e=[],n=Session.get("FEILDCREAT")?Session.get("FEILDCREAT"):[],t=0;t<n.length;t++){var a=n[t];a.name!=this.name&&e.push(a)}Session.set("FEILDCREAT",e)},"click .fc-left":function r(){for(var e=[],n=Session.get("FEILDCREAT")?Session.get("FEILDCREAT"):[],t=0;t<n.length;t++){var a=n[t];if(a.name==this.name){if(0==t)return!1;a.orderBy=a.orderBy+orderByNum,orderByNum++}e.push(a)}e.sort(function(e,n){return e.orderBy<n.orderBy}),Session.set("FEILDCREAT",e)},"click #save":function o(){return""==$("#pa-topic").val()?void alert("单据名称不能为空"):void(Session.get("FEILDCREAT")?(Feilds.insert({userid:facc.user()._id,users:[facc.user()._id],share:0,createAt:new Date,objs:Session.get("FEILDCREAT"),status:1,num:0,title:$("#pa-topic").val()}),alert("表单已保存可在，随访单中使用。"),FlowRouter.go("/feild")):alert("请增加项目"))}})},"detail.js":function(){Template.feildDetail.onCreated(function(){this.subscribe("myFeilds",facc.user()._id)}),Template.feildDetail.helpers({fe:function e(){return Feilds.findOne({_id:FlowRouter.getQueryParam("id")})},shortname:function n(){var e=[];if(this.objs){for(var n=this.objs,t=0;t<n.length;t++){var a=n[t];e.push(a.name)}return e.join(",")+"等信息..."}},checknum:function t(){return this.num?this.num:"0"}}),Template.feildDetail.events({"click #pa-create":function a(){var e=[];$(".feild-item").each(function(n,t){var t=$(t);e.push({name:t.attr("data-lab"),value:t.val()})}),Session.set("FEILDTEST",e),FlowRouter.go("/feild/test?id="+FlowRouter.getQueryParam("id"))}})},"index.js":function(){Template.feild.onCreated(function(){this.subscribe("myFeilds",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.feild.helpers({feilds:function e(){return Feilds.find({},{sort:{share:-1,createAt:-1}})},shortname:function n(){var e=[];if(this.objs){for(var n=this.objs,t=0;t<n.length;t++){var a=n[t];e.push(a.name)}return e.join(",")}},checknum:function t(){return this.num?this.num:"0"}}),Template.feild.events({})},"project.js":function(){Template.feildPoject.events({"click #ta-create":function e(){if(""==$("#pa-topic").val())return alert("请输入姓名"),!1;if(""==$("#pa-detail").val())return alert("请输入编号"),!1;if(""==$("#pa-date").val())return alert("请输入日期"),!1;if(""==$("#pa-way").val())return alert("请输入方式"),!1;if(""==$("#pa-symptom").val())return alert("请输入症状"),!1;if(""==$("#pa-sign").val())return alert("请输入体征"),!1;if(""==$("#pa-lifeway").val())return alert("请输入生活方式"),!1;if(""==$("#pa-inspect").val())return alert("请输入辅助检查"),!1;if(""==$("#pa-medicine").val())return alert("请输入用药情况"),!1;if(""==$("#pa-nextdate").val())return alert("请输入下次随访时间"),!1;var e={topic:$("#pa-topic").val(),detail:$("#pa-detail").val(),date:$("#pa-date").val(),way:$("#pa-way").val(),symptom:$("#pa-symptom").val(),sign:$("#pa-sign").val(),lifeway:$("#pa-lifeway").val(),inspect:$("#pa-inspect").val(),medicine:$("#pa-medicine").val(),nextdate:$("#pa-nextdate").val(),userid:facc.user()._id,createAt:new Date,status:1};confirm("建立表单")&&Meteor.call("createVisit",e,function(e,n){FlowRouter.go(FlowRouter.getQueryParam("frt")?FlowRouter.getQueryParam("frt"):"/")})}})},"test.js":function(){Template.feildTest.onCreated(function(){this.subscribe("myFeilds",facc.user()._id)}),Template.feildTest.helpers({fe:function e(){return Session.get("FEILDTEST")},fid:function n(){return FlowRouter.getQueryParam("id")}}),Template.feildTest.events({})}},footer:{"template.footer.js":function(){Template.__checkName("footer"),Template.footer=new Template("Template.footer",function(){var e=this;return HTML.DIV({"class":"footer _flex"},"\n		",HTML.A({"class":function(){return[Blaze.If(function(){return Spacebars.dataMustache(e.lookup("fouces"),"site")},function(){return" active "})," footer-item _flex-1"]},href:"/"},"\n			",HTML.Raw('<div class="footer-item-wenzi footer-item-1">\n				首页\n			</div>'),"\n		"),"\n\n		",HTML.A({"class":function(){return[Blaze.If(function(){return Spacebars.dataMustache(e.lookup("fouces"),"discuz")},function(){return" active "})," footer-item _flex-1"]},href:"/discuz/list"},"\n			",HTML.Raw('<div class="footer-item-wenzi footer-item-2">\n				讨论\n			</div>'),"\n		"),"\n\n		",HTML.A({"class":function(){return[Blaze.If(function(){return Spacebars.dataMustache(e.lookup("fouces"),"wd")},function(){return" active "})," footer-item _flex-1"]},href:"/home"},"\n			",HTML.Raw('<div class="footer-item-wenzi footer-item-3">\n			 	我的\n			</div>'),"\n		"),"\n	")})},"footer.js":function(){Template.footer.helpers({fouces:function e(n){return this.active==n},isDentist:function n(){return 1==facc.get("DENTIST")}}),Template.footer.onRendered(function(){facc.isGuest()||Meteor.call("zixuncount",{userid:facc.user()._id},function(e,n){n>0&&$(".footer-zxc").show()})})}},home:{"template.addbank.js":function(){Template.__checkName("homeAddBank"),Template.homeAddBank=new Template("Template.homeAddBank",function(){var e=this;return[HTML.Raw('<div class="header">\n        <a href="/home/bank" class="left"><i class="fa fa fa-chevron-left"></i></a>\n        绑定银行卡\n    </div>\n    <div class="header-bottom"></div>\n    '),HTML.DIV({"class":"binding"},"\n        ",HTML.Raw('<div class="binding-list">\n            <div class="binding-list-title">开户行</div>\n            <input class="binding-list-input" type="text" placeholder="列：xx银行" id="cardBank">\n        </div>'),"\n        ",HTML.DIV({"class":"binding-list"},"\n            ",HTML.Raw('<div class="binding-list-title">账户类型</div>'),"\n            ",HTML.SELECT({"class":"binding-list-input",id:"cardType"},"\n                ",HTML.OPTION(HTML.Attrs({value:"借记卡"},function(){return Spacebars.attrMustache(e.lookup("compare"),Spacebars.dot(e.lookup("bank"),"type"),"借记卡")}),"借记卡"),"\n                ",HTML.OPTION(HTML.Attrs({value:"储蓄卡"},function(){return Spacebars.attrMustache(e.lookup("compare"),Spacebars.dot(e.lookup("bank"),"type"),"储蓄卡")}),"储蓄卡"),"\n                ",HTML.OPTION(HTML.Attrs({value:"信用卡"},function(){return Spacebars.attrMustache(e.lookup("compare"),Spacebars.dot(e.lookup("bank"),"type"),"信用卡")}),"信用卡"),"\n            "),"\n        "),"\n        ",HTML.Raw('<div class="binding-list">\n            <div class="binding-list-title">卡号</div>\n            <input class="binding-list-input" type="tel" placeholder="请输入卡号" id="cardNum">\n        </div>'),"\n    "),HTML.Raw('\n    <div class="binding-button" id="bind-card">确定</div>\n    <div class="binding-prompt">填写信息不完整或有误，申请提现积分将无法兑现</div>')];

})},"template.bank.js":function(){Template.__checkName("homeBank"),Template.homeBank=new Template("Template.homeBank",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer home"},HTML.Raw('\n        <div class="header">\n            绑定银行卡\n            <a class="left" href="/home" style="font-size:14px !important;padding-left:10px">取消</a>\n            <a class="right" href="/home/addbank" style="padding-right:10px">添加</a>\n        </div>\n        '),HTML.DIV({"class":"withdrawals-binding"},"\n            ",HTML.DIV({"class":"withdrawals-binding-name"},Blaze.View("lookup:bank.bank",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("bank"),"bank"))})),"\n            ",HTML.DIV({"class":"withdrawals-binding-class"},Blaze.View("lookup:bank.type",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("bank"),"type"))})),"\n            ",HTML.DIV({"class":"withdrawals-binding-number"},"\n                ",Blaze.View("lookup:bank.num",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("bank"),"num"))}),"\n            "),"\n        "),"\n    ")})},"template.certification.js":function(){Template.__checkName("homeCertification"),Template.homeCertification=new Template("Template.homeCertification",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer home"},HTML.Raw('\n        <header>\n            <div class="header">\n                医师认证\n                <a href="/home" class="left"><i class="fa fa fa-chevron-left"></i></a>\n            </div>\n        </header>\n        '),HTML.DIV({"class":"ff-form"},"\n            ",Blaze._TemplateWith(function(){return{name:Spacebars.call("头像")}},function(){return Spacebars.include(e.lookupTemplate("thumbSelector"))}),"\n             ",HTML.Raw('<div class="ff-line">\n                    <label>姓名</label>\n                    <input id="pa-name" type="text" placeholder="请输入您的姓名">\n             </div>'),"\n             ",HTML.Raw('<div class="ff-line">\n                    <label>性别</label>\n                    <select id="pa-sex">\n                        <option value="男">男</option>\n                        <option value="女">女</option>\n                    </select>\n                </div>'),"\n                ",Spacebars.include(e.lookupTemplate("departmentSelector")),"\n               ",HTML.Raw("<!--  医生职称 -->"),"\n                ",HTML.Raw('<div class="ff-line">\n                <label>职称</label>\n                    <select id="pa-title">\n                        <option value="主任医师">主任医师</option>\n                        <option value="副主任医师">副主任医师</option>\n                        <option value="主治医师">主治医师</option>\n                        <option value="住院医师">住院医师</option>\n                    </select>\n                \n                </div>'),"\n\n                ",HTML.Raw('<fieldset class="ff-split">\n                    <legend>上传工作证或执业证书</legend>\n                </fieldset>'),"\n                ",HTML.Raw('<div class="hc-tips">请确保姓名、医院职称、头像等信息的清晰可见上传资料仅用于认证使用</div>'),"\n                ",HTML.Raw('<div class="hc-upload"><input type="file" id="photo"> </div>'),"\n            \n                 ",HTML.Raw('<div class="ff-btn-group">\n                    <div class="ff-btn" id="pa-create">确认提交</div>\n                </div>'),"\n\n                ",HTML.Raw('<div class="tCertification">您需要通过认证，才能开启更多功能</div>'),"\n        "),"\n       \n    ")})},"template.home.js":function(){Template.__checkName("home"),Template.home=new Template("Template.home",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer home",style:"padding-bottom:80px;"},HTML.Raw('\n        <header>\n            <div class="header">\n                我\n                <!--   返回键图标  <div  class="left"><i class="fa fa fa-chevron-left"></i></div> -->\n            </div>\n        </header>\n        '),HTML.DIV({"class":"banner _flex"},"\n            ",HTML.DIV({"class":"img "},"\n                ",HTML.DIV({style:function(){return["background-image:url(",Spacebars.mustache(Spacebars.dot(e.lookup("user"),"avatar")),");background-size:100% 100%"]}},"\n                    ",HTML.Raw('<input type="file" id="avatar">'),"\n                "),"\n            "),"\n            ",HTML.A({href:"/home/track"},"\n                ",HTML.DIV({"class":"info _flex-1"},"\n                    ",HTML.DIV({"class":"nickname ",style:"float:left;"}," ",Blaze.View("lookup:user.nickname",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"nickname"))}),"   ",HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;"),Blaze.View("lookup:doctor.title",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("doctor"),"title"))})),"\n                    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("doctor"),"vaild"))},function(){return["\n                    ",HTML.DIV({"class":"home-vaild"}),"\n                    "]}),"\n                    ",HTML.DIV({"class":"point ",style:"clear:left;"},"余额 ：",Blaze.View("lookup:fix",function(){return Spacebars.mustache(e.lookup("fix"),Spacebars.dot(e.lookup("user"),"balance"))})," ",HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;"),"｜",HTML.Raw("&nbsp;"),HTML.Raw("&nbsp;")," 收入 ： ",Blaze.View("lookup:fix",function(){return Spacebars.mustache(e.lookup("fix"),Spacebars.dot(e.lookup("user"),"income"))})),"\n                "),"\n            "),"\n        "),"\n        \n        ",HTML.DIV({"class":"list"},"\n            ",HTML.A({href:function(){return["/discuz/host?id=",Spacebars.mustache(Spacebars.dot(e.lookup("user"),"_id")),"&frt=/home"]},"class":"link home-jh"}," 个人主页 ",HTML.Raw('<i class="fa fa-angle-right"></i>')),"\n            ",HTML.Raw('<a href="/home/bank" class="link home-zt  home-cert"> 绑定银行卡 <i class="fa fa-angle-right"></i></a>'),"\n           ",HTML.Raw('<!--  <a href="/discuz/list" class="link home-tl"> 参与讨论组 <i class="fa fa-angle-right"></i></a> -->'),"\n        "),"\n        ",HTML.DIV({"class":"list"},"\n            ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("doctor"),"vaild"))},function(){return["\n            ",HTML.DIV({href:"/home/certification","class":"link home-zt home-cert"}," 认证状态 ",HTML.B("已认证")),"\n            "]},function(){return["\n            ",HTML.A({href:"/home/certification","class":"link home-zt  home-cert"}," 认证状态 ",HTML.B("未认证")," ",HTML.I({"class":"fa fa-angle-right"}))," \n            "]}),"\n        "),HTML.Raw('\n        <div class="list">\n            <a href="/myPerson" class="link home-hz">我的患者 <i class="fa fa-angle-right"></i></a>\n            <a href="/myRecive" class="link home-zl"> 诊疗记录 <i class="fa fa-angle-right"></i></a>\n        </div>\n        <div class="list">\n            <a href="/home/messages" class="link home-hz">我的私信 <i class="fa fa-angle-right"></i></a>\n            <a href="/my/news" class="link home-hz">收藏新闻 <i class="fa fa-angle-right"></i></a>\n            <a href="/home/set" class="link home-hz">设置 <i class="fa fa-angle-right"></i></a>\n            <a href="/home/suggest" class="link home-hz">意见和反馈 <i class="fa fa-angle-right"></i></a>\n        </div>\n        <div class="list-q">\n            <a href="/logout" class="link">退出登陆</a>\n        </div>\n\n\n        <!-- <div class="list">\n            <a href="/home/set" class="link home-xx"> 设置 <i class="fa fa-angle-right"></i></a>\n        </div> -->\n        '),Blaze._TemplateWith(function(){return{active:Spacebars.call("wd")}},function(){return Spacebars.include(e.lookupTemplate("footer"))}),"\n    ")})},"template.info.js":function(){Template.__checkName("homeInfo"),Template.homeInfo=new Template("Template.homeInfo",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer home"},HTML.Raw('\n        <header>\n            <div class="header">\n                个人信息\n                <a href="/home" class="left"><i class="fa fa fa-chevron-left"></i></a>\n            </div>\n        </header>\n        '),HTML.DIV({"class":"list"},"\n            ",HTML.DIV({"class":"link",style:"line-height:50px;position:relative;"},"头像\n                ",HTML.DIV({"class":"avatar",style:function(){return["width:50px;height:50px;position:absolute;top:10px;right:10px;border-radius:50%;background-image:url(",Spacebars.mustache(Spacebars.dot(e.lookup("user"),"avatar")),");background-size:100% 100%"]}},"\n                    ",HTML.Raw('<input type="file" id="avatar">'),"\n                "),"\n            "),"\n            ",HTML.A({"class":"link"},"姓名",HTML.SPAN({style:"float: right;"},Blaze.View("lookup:user.nickname",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"nickname"))}))),"\n            ",HTML.Raw('<a href="/home/password" class="link">职称</a>'),"\n            ",HTML.Raw('<!--<a href="/home/certification" class="link">-->'),"\n            ",HTML.Raw('<a class="link">\n                <!--认证状态 <i class="fa fa-angle-right"></i>-->\n                认证状态\n            </a>'),"\n            ",HTML.Raw('<a href="/home/password" class="link">性别</a>'),"\n            ",HTML.Raw('<a href="/home/nickname" class="link">地区 </a>'),"\n            ",HTML.Raw('<a href="/home/password" class="link">医院 </a>'),"\n            ",HTML.Raw('<a href="/home/password" class="link">科室 </a>'),"\n        "),HTML.Raw('\n        <div class="down">\n            修改个人认证资料请联系客服:<br>010-56146057\n        </div>\n    '))})},"template.messages.js":function(){Template.__checkName("homeMessages"),Template.homeMessages=new Template("Template.homeMessages",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer home"},"\n        ",HTML.Raw('<header>\n            <div class="header">\n                我的私信\n                <a href="/home" class="left"><i class="fa fa fa-chevron-left"></i></a>\n            </div>\n        </header>'),"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("messages"))},function(){return["\n        ",HTML.DIV({"class":"hm-item"},"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("ismine"))},function(){return["\n            ",HTML.DIV({"class":"hm-name"},"发送:",Blaze.View("lookup:tname",function(){return Spacebars.mustache(e.lookup("tname"))})),"\n            "]},function(){return["\n            ",HTML.DIV({"class":"hm-name"},"来自:",Blaze.View("lookup:fname",function(){return Spacebars.mustache(e.lookup("fname"))})),"\n            "]}),"\n            ",HTML.DIV({"class":"hm-time"},Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("createAt"))})),"\n            ",HTML.DIV(Blaze.View("lookup:content",function(){return Spacebars.mustache(e.lookup("content"))})),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("ismine"))},function(){return" "},function(){return["\n            ",HTML.DIV({"class":"hm-btn"},"回复"),"\n            "]}),"\n        "),"\n        "]}),"\n    "),"\n    ",HTML.DIV({"class":"d-bg animated bounceInUp"},"\n        ",HTML.DIV({id:"instant-form"},"\n            ",HTML.DIV({"class":"form-ct "},"\n                ",HTML.TEXTAREA({id:"instant-input",placeholder:"说点什么"}),"\n                ",HTML.Raw('<div class="sendbtn"> 发送</div>'),"\n                ",HTML.Raw('<div class="d-tips"><i class="fa fa-check-circle-o"></i>我已同意用户使用协议</div>'),"\n                ",HTML.Raw('<div class="d-i-c"><i class="fa fa-remove"></i></div>'),"\n            "),"\n        "),"\n    ")]})},"template.news.js":function(){Template.__checkName("myNews"),Template.myNews=new Template("Template.myNews",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer ",style:"background:#fff"},HTML.Raw('\n         <header>\n            <div class="header">\n                收藏新闻\n                <a href="/home" class="left"><i class="fa fa fa-chevron-left"></i></a>\n            </div>\n        </header>\n        '),Blaze.Each(function(){return Spacebars.call(e.lookup("news"))},function(){return["\n        ",HTML.A({href:function(){return["/news/item?id=",Spacebars.mustache(e.lookup("_id"))]},"class":"mn-item"},"\n        	",Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))}),"\n        	",HTML.I({"class":"fa fa-angle-right"}),"\n        "),"\n        "]}),"\n    ")})},"template.nickname.js":function(){Template.__checkName("homeNickname"),Template.homeNickname=new Template("Template.homeNickname",function(){var e=this;return HTML.Raw('<div class="page page-with-header ">\n        <header>\n            <div class="header">\n                修改昵称\n                <a href="/home" class="left"><i class="fa fa fa-chevron-left"></i></a>\n            </div>\n        </header>\n        <div class="ff-form">\n        	<div class="ff-line">\n            <label>新昵称</label>\n            <input id="nickname" type="text" placeholder="请填写昵称">\n        </div>\n        <div class="ff-enable">\n            <a id="save">保存资料</a>\n        </div>\n        </div>\n    </div>')})},"template.password.js":function(){Template.__checkName("homePassword"),Template.homePassword=new Template("Template.homePassword",function(){var e=this;return HTML.Raw('<div class="page page-with-header ">\n        <header>\n            <div class="header">\n                修改密码\n                <a href="/home" class="left"><i class="fa fa fa-chevron-left"></i></a>\n            </div>\n        </header>\n        <div class="ff-form">\n            <div class="ff-line">\n                <label>新密码</label>\n                <input id="password" type="password" placeholder="请填写密码">\n            </div>\n            <div class="ff-line">\n                <label>重复新密码</label>\n                <input id="rpassword" type="password" placeholder="请重复新密码">\n            </div>\n            <div class="ff-enable">\n                <a id="save">保存资料</a>\n            </div>\n        </div>\n    </div>')})},"template.point.js":function(){Template.__checkName("homePoint"),Template.homePoint=new Template("Template.homePoint",function(){var e=this;return""})},"template.set.js":function(){Template.__checkName("homeSet"),Template.homeSet=new Template("Template.homeSet",function(){var e=this;return HTML.Raw('<div class="page page-with-header-footer home">\n        <header>\n            <div class="header">\n                设置\n                <a href="/home" class="left"><i class="fa fa fa-chevron-left"></i></a>\n            </div>\n        </header>\n\n        <!-- <div class="list">\n            <a href="/mybooking" class="link " style="height:50px;"  > 账号与安全 <i class="fa fa-angle-right"></i></a>\n        </div>\n        <div class="list">\n            <a href="/mybooking" class="link "> 新消息提醒 <i class="fa fa-angle-right"></i></a>\n\n            <a href="/mybokking" class="link "> 隐私 <i class="fa fa-angle-right"></i></a>\n        </div>\n        <div class="list">\n            <a href="/shop" class="link "> 帮助与反馈 <i class="fa fa-angle-right"></i></a>\n            <a href="/shop" class="link "> 关于云医 <i class="fa fa-angle-right"></i></a>\n        </div> -->\n        <div class="list">\n            <a href="/home/nickname" class="link " style="height:50px;"> 修改昵称 <i class="fa fa-angle-right"></i></a>\n            <a href="/home/password" class="link " style="height:50px;"> 修改密码 <i class="fa fa-angle-right"></i></a>\n        </div>\n        <div class="list-q">\n            <a href="/logout" class="link">退出登录</a>\n        </div>\n    </div>')})},"template.suggest.js":function(){Template.__checkName("homeSuggest"),Template.homeSuggest=new Template("Template.homeSuggest",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n               意见及反馈\n                <a href="/home" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        '),HTML.DIV({"class":"ff-form"},"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>意见及反馈</label>"),"\n                    ",HTML.TEXTAREA({style:"padding-top:5px;",id:"pa-detail",placeholder:"请输入意见及反馈"}),"\n                "),"\n                 ",HTML.Raw('<div class="ff-btn-group" style="margin-top:8px;">\n                 <div class="ff-btn" id="pa-create"> 提交 </div>\n                </div>'),"\n            "),"\n    ")})},"template.track.js":function(){Template.__checkName("homeTrack"),Template.homeTrack=new Template("Template.homeTrack",function(){var e=this;return[HTML.Raw('<header>\n        <div class="header">\n           我的余额\n         <a href="/home" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n         <a class="right" id="openInput" style="font-size:14px;width:100px;padding-right:10px;">提现</a>\n        </div>\n    </header>\n    '),HTML.DIV({"class":"ht-top _flex"},"\n        ",HTML.DIV({style:"width:100%;"},"\n            ",HTML.DIV({"class":"img-avatar",style:function(){return["background-image:url(",Spacebars.mustache(Spacebars.dot(e.lookup("user"),"avatar")),");"]}}),"\n        "),"\n        ",HTML.DIV({"class":"ht-top-item ht-top-left"},HTML.B(Blaze.View("lookup:fix",function(){return Spacebars.mustache(e.lookup("fix"),e.lookup("all"))})),"收入"),"\n        ",HTML.Raw('<div class="xian"></div>'),"\n        ",HTML.DIV({"class":"ht-top-item ht-top-right"},HTML.B(Blaze.View("lookup:fix",function(){return Spacebars.mustache(e.lookup("fix"),e.lookup("pointk"))})),"余额"),"\n    "),HTML.Raw('\n    \n     <div class="ht-bar _flex">\n        <div class="ht-bar-input _flex-1"><input type="text" id="tx" placeholder="金额"></div>\n        <div class="ht-bar-btn _flex"><div id="ht-bar-btn" class="_flex-1">提现</div> \n        <div class="_flex-1" id="ht-bar-btn2">充值</div></div>\n    </div>\n\n    \n\n    '),HTML.DIV({"class":"warp"},"\n       ",Blaze.Each(function(){return Spacebars.call(e.lookup("tracks"))},function(){return["\n        ",HTML.DIV({"class":"track-itme"},"\n            ",HTML.DIV({"class":"track-time"},Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("createAt"))})),"\n            ",HTML.DIV({"class":"track-reason"},"[",Blaze.View("lookup:typeName",function(){return Spacebars.mustache(e.lookup("typeName"))}),"]",Blaze.View("lookup:desc",function(){return Spacebars.mustache(e.lookup("desc"))})," "),"\n            ",HTML.DIV({"class":"track-point"},Blaze.View("lookup:fix",function(){return Spacebars.mustache(e.lookup("fix"),e.lookup("balance"))})),"\n        "),"\n       "]}),"\n    ")]})},"addbank.js":function(){Template.homeAddBank.onCreated(function(){this.subscribe("userDetail",{onReady:function e(){loading.hide()}})}),Template.homeAddBank.helpers({compare:function e(n,t){return n?n.type==t?"selected":"":void 0}}),Template.homeAddBank.events({"click #bind-card":function n(){var e=$("#cardNum").val(),n=$("#cardBank").val(),t=$("#cardType").val();return""==n?(alert("请输入开户行"),!1):""==e?(alert("请输入银行卡号"),!1):void(n&&e&&confirm("是否绑定"+e+"银行卡")&&Meteor.call("saveCard",{userid:facc.user()._id,num:e,bank:n,type:t},function(){alert("已绑定银行卡"),FlowRouter.go("/home/bank")}))}})},"bank.js":function(){Template.homeBank.onCreated(function(){this.subscribe("bank",facc.user()._id,{onReady:function e(){loading.hide()}}),this.subscribe("userDetail",facc.user()._id,{onReady:function n(){loading.hide()}})}),Template.homeBank.helpers({bank:function e(){return Bankcards.findOne({userid:facc.user()._id})}}),Template.homeBank.events({})},"certification.js":function(){Template.homeCertification.onCreated(function(){this.subscribe("userDetail",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.homeCertification.helpers({user:function e(){return Meteor.users.findOne({_id:facc.user()._id})}}),Template.homeCertification.events({"click #pa-create":function n(e){var n=Session.get("components-department");if(!n.department)return alert("请选择科室"),!1;var t=Session.get("components-thumb");if(!t)return alert("请选择头像"),!1;var a={parentRegion:n.parentRegion,parentRegionName:n.parentRegionName,region:n.region,regionName:n.regionName,zone:n.zone,zoneName:n.zoneName,hospital:n.hospital,hospitalName:n.hospitalName,department:n.department,departmentName:n.departmentName,sdepartment:n.sdepartment,sdepartmentName:n.sdepartmentName,doctorName:$("#pa-name").val(),avatar:t,createAt:new Date,userid:facc.user()._id,status:1,master:0,sex:$("#pa-sex").val(),title:$("#pa-title").val(),cert:$("#photo").attr("data-image"),vaild:0,submit:1};loading.show(),Doctors.insert(a,function(e,n){Meteor.call("uploadDoctorsPictures",{_id:n},function(){alert("信息已提交，请等待审核"),loading.hide(),FlowRouter.go("/home")})})},"change #photo":function t(e){var n=$(e.currentTarget);lrz(e.currentTarget.files[0],{width:720}).then(function(e){n.parent().css({"background-image":"url("+e.base64+")"}),n.attr("data-image",e.base64)})}})},"home.js":function(){Template.home.onCreated(function(){this.subscribe("userDetail",facc.user()._id),this.subscribe("discuzMyList",facc.user()._id),this.subscribe("doctor",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.home.helpers({user:function e(){return Meteor.users.findOne({_id:facc.user()._id})},discuzs:function n(){return Discuzs.find({},{limit:2,sort:{"default":-1,type:-1,orderBy:-1,createAt:-1}})},right:function t(e){return $.inArray(facc.user()._id,e.users)>-1},doctor:function a(){return Doctors.findOne()}}),Template.home.events({"change #avatar":function r(e){var n=$(e.currentTarget);lrz(e.currentTarget.files[0],{width:720}).then(function(e){Meteor.call("homeUpdateAvatar",{uid:facc.user()._id,avatar:e.base64},function(t,a){n.parent().css({"background-image":"url("+e.base64+")"}),facc.setState("avatar",e.base64),alert("头像已更新")})})},"click .home-qd":function o(){$(".home-qd").hide(),Meteor.call("qiandaook",{uid:facc.user()._id},function(e,n){})}}),Template.home.onRendered(function(){})},"info.js":function(){Template.homeInfo.onCreated(function(){this.subscribe("userDetail",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.homeInfo.helpers({user:function e(){return Meteor.users.findOne({_id:facc.user()._id})}}),Template.homeInfo.events({"change #avatar":function n(e){var n=$(e.currentTarget);lrz(e.currentTarget.files[0],{width:720}).then(function(e){Meteor.call("homeUpdateAvatar",{uid:facc.user()._id,avatar:e.base64},function(t,a){n.parent().css({"background-image":"url("+e.base64+")"}),facc.setState("avatar",e.base64),alert("头像已更新")})})}})},"messages.js":function(){Template.homeMessages.onCreated(function(){this.subscribe("mymessages",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.homeMessages.helpers({messages:function e(){return Messages.find({})},ismine:function n(){return this.from==facc.user()._id}}),Template.homeMessages.onRendered(function(){}),curMsg=null,Template.homeMessages.events({"click .hm-btn":function t(){curMsg={from:this.from,fname:this.fname,favatar:this.favatar},$(".d-bg").show()},"click .d-i-c":function a(){$(".d-bg").hide()},"click .sendbtn":function r(){if(!$("#instant-input").val())return alert("请输入内容"),!1;var e=Meteor.users.findOne({_id:FlowRouter.getQueryParam("id")});Messages.insert({from:facc.user()._id,to:curMsg.from,fname:facc.user().nickname,tname:curMsg.fname,favatar:facc.user().avatar,tavatar:curMsg.favatar,createAt:new Date,content:$("#instant-input").val(),read:0,status:1}),alert("私信已发送"),$(".d-bg").hide()}})},"news.js":function(){Template.myNews.onCreated(function(){this.subscribe("mynews",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.myNews.helpers({news:function e(){return NewsFovar.find({userid:facc.user()._id},{sort:{createAt:-1}})}}),Template.myNews.events({}),Template.myNews.onRendered(function(){$(window).scrollTop(0)})},"nickname.js":function(){Template.homeNickname.onCreated(function(){loading.hide()}),Template.homeNickname.events({"click #save":function e(){if(""==$("#nickname").val())return void alert("请输入有效字段");var e=$("#nickname").val();Meteor.call("homeUpdateUserNickname",{uid:facc.user()._id,value:e},function(){alert("昵称已修改"),facc.setState("nickname",e),FlowRouter.go("/home/info")})}})},"password.js":function(){Template.homePassword.onCreated(function(){loading.hide()}),Template.homePassword.events({"click #save":function e(){if(""==$("#password").val())return void alert("请输入有效字段");var e=$("#password").val();return $("#password").val()!=$("#rpassword").val()?void alert("密码不一致"):void Meteor.call("homeUpdateUserPassword",{uid:facc.user()._id,pwd:e},function(){alert("密码已修改"),FlowRouter.go("/home/info")})}})},"point.js":function(){},"set.js":function(){Template.homeSet.onCreated(function(){loading.hide()})},"suggest.js":function(){Template.homeSuggest.onRendered(function(){this.subscribe("userDetail",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.homeSuggest.events({"click #pa-create":function e(){var e=Meteor.users.findOne({_id:facc.user()._id}),n={detail:$("#pa-detail").val(),createAt:new Date,nickname:facc.user().nickname,userid:facc.user()._id,avatar:facc.user().avatar,status:1,tel:e.tel};Suggests.insert(n),alert("感谢你的反馈建议,我们会持续跟进"),FlowRouter.go("/home")}})},"track.js":function(){Template.homeTrack.onCreated(function(){this.subscribe("myTracks",facc.user()._id,{onReady:function e(){loading.hide()}}),this.subscribe("userDetail",facc.user()._id)}),Template.homeTrack.helpers({tracks:function e(){return Tracks.find({},{sort:{createAt:-1}}).fetch()},user:function n(){return Meteor.users.findOne({_id:facc.user()._id})},all:function t(){var e=Meteor.users.findOne({_id:facc.user()._id});return e&&e.income?e.income:0},pointk:function a(){var e=Meteor.users.findOne({_id:facc.user()._id});return e&&e.balance?e.balance:0},pointType:function r(){return this.balance>0?"收入":"支出"},pointType2:function o(){return this.balance<0?"花费":"获得"},abs:function i(){return Math.abs(this.balance)}}),Template.homeTrack.events({"click #ht-bar-btn2":function l(){return $("#tx").val()?void(Meteor.isCordova?(loading.show(),Meteor.call("createCashPay",{userid:facc.user()._id,cash:1*$("#tx").val()},function(e,n){window.alipay.pay({tradeNo:n._id,subject:"云医联盟充值",body:"云医联盟充值",price:n.cash,notifyUrl:"http://mfynotify.yigonglue.com/alipay"},function(e){if("9000"==e.resultStatus){var t=parseJson(e.result);Meteor.call("paySuccess",t,function(e,t){"SUCCESS"==t&&(Tracks.insert({userid:facc.user()._id,balance:n.cash,createAt:new Date,status:1,desc:"通过支付宝充值",type:"CHARGE",typeName:"用户充值"}),alert("付款成功")),$("#tx").val(""),loading.hide()})}else loading.hide()},function(e){console.log(e),loading.hide()})})):alert("请在“云医联盟”客户端支付～")):(alert("请填写充值金额"),!1)},"click #openInput":function s(){$(".ht-bar-w").toggle()},"click #ht-bar-btn":function c(){if(!$("#tx").val())return alert("请填写提现金额"),!1;var e=$("#tx").val(),n=Meteor.users.findOne({_id:facc.user()._id});if(e>0)if(n.balance>=e){var t=Bankcards.findOne({userid:facc.user()._id});t?(Applys.insert({userid:facc.user()._id,name:facc.user().nickname,tel:n.tel,balance:e,createAt:new Date,bank:t.bank,num:t.num,type:t.type,status:1,check:0}),Tracks.insert({userid:facc.user()._id,balance:e,createAt:new Date,status:1,desc:"提交提现申请",type:"APPLY",typeName:"提现申请"}),alert("申请已提交"),$("#tx").val("")):(alert("请先绑定银行卡"),FlowRouter.go("/home/bank"))}else alert("余额不足");$(".ht-bar-w").toggle()}}),parseJson=function u(e){var n={},t=[],a="",r="",o=e.split("&");for(var i in o)t=o[i].split("="),a=t[0],r=t[1].replace('"',"").replace('"',""),n[a]=r;return n}}},index:{"template.index.js":function(){Template.__checkName("site"),Template.site=new Template("Template.site",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer",style:"margin-bottom:50px;"},"\n\n        ",HTML.DIV({"class":"index-sel"},"\n            ",HTML.Raw('<div class="knowledge-img"></div>'),"\n            ",Blaze._TemplateWith(function(){return{settings:Spacebars.call(e.lookup("settings")),id:Spacebars.call("autocomplete-input"),placeholder:Spacebars.call("请输入搜索的内容")}},function(){return Spacebars.include(e.lookupTemplate("inputAutocomplete"),function(){return" "})}),"\n        "),"\n        ",HTML.Raw('<div style="width:100%;height:64px;"></div>'),"\n        ",Blaze._TemplateWith(function(){return{group:Spacebars.call("index"),height:Spacebars.call(150)}},function(){return Spacebars.include(e.lookupTemplate("banner"))}),"\n        ",HTML.Raw('<!-- <div class="index-message">\n            <i class="fa fa-bell"></i> \n            <p>您有1条诊疗消息</p>\n            <i class="fa fa-angle-right" style="position:absolute;right:12px;color:rgb(205,205,205)"></i>\n        </div> -->'),"\n        ",HTML.Raw('<!-- <div class="index-margin"></div> -->'),"\n        ",HTML.Raw('<div class="_flex index-tools" style="padding-top:10px;">\n            <a href="/referral" class="_flex-1 index-tools-item">\n                <div class="index-tools-img"></div>\n                转诊\n            </a>\n            <a href="/recive" class="_flex-1 index-tools-item">\n                <div class="index-tools-imga"></div>\n                接诊\n            </a>\n            <a href="/person" class="_flex-1 index-tools-item">\n                <div class="index-tools-imgb"></div>\n                病例\n            </a>\n        </div>'),"\n        ",HTML.Raw('<div class="_flex index-tools" style="height:73px !important;">\n            <a href="/visit" class="_flex-1 index-tools-item">\n                <div class="index-tools-imgc"></div>\n                随访\n            </a>\n            <a href="/feild" class="_flex-1 index-tools-item">\n                <div class="index-tools-imgd"></div>\n                表单\n            </a>\n            <a href="/pubtask" class="_flex-1 index-tools-item">\n                <div class="index-tools-imge"></div>\n                发布任务\n            </a>\n        </div>'),"\n        ",HTML.Raw('<div class="index-margin"></div>'),"\n        ",HTML.DIV({"class":"index-discuz-list"},"\n            ",HTML.Raw('<div class="index-messages">\n                <p>新闻</p>\n                <i class="fa fa-angle-right" style="position:absolute;right:12px;color:rgb(205,205,205)"></i>\n            </div>'),"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("news"))},function(){return["\n            ",HTML.A({href:function(){return["/news/item?id=",Spacebars.mustache(e.lookup("_id"))]},"class":"_flex idl-item"},"\n                ",HTML.DIV({"class":"idl-item-thumb",style:function(){return["background-image:url(",Spacebars.mustache(e.lookup("thumb")),")"]}}),"\n                ",HTML.DIV({"class":"idl-item-warp"},"\n                    ",HTML.DIV({"class":"idl-item-title"},Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n                    ",HTML.DIV({"class":"idl-item-desc"},Blaze.View("lookup:summray",function(){return Spacebars.mustache(e.lookup("summray"))})),"\n                "),"\n            "),"\n            "]}),"\n        "),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]}),Template.__checkName("serverCollectionPills"),Template.serverCollectionPills=new Template("Template.serverCollectionPills",function(){var e=this;return Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})})},"index.js":function(){Template.site.onCreated(function(){this.subscribe("news",{onReady:function e(){loading.hide()}})}),Template.site.helpers({discuzs:function e(){var e={};return Discuzs.find(e,{sort:{"default":-1,type:-1,orderBy:-1,createAt:-1}})},news:function n(){return News.find()},settings:function t(){return{limit:10,rules:[{token:"",collection:News,field:"title",matchAll:!0,template:Template.serverCollectionPills}]}}}),Template.site.events({"autocompleteselect input":function a(e,n,t){FlowRouter.go("/news/item?id="+t._id)}})}},loading:{"template.loading.js":function(){Template.__checkName("loading"),Template.loading=new Template("Template.loading",function(){
var e=this;return HTML.Raw('<div id="loadding">\n  	<div class="spinner-warp">\n  		<div class="spinner">\n            <div class="dot1"></div>\n            <div class="dot2"></div>\n        </div>\n  	</div>\n  </div>')}),Template.body.addContent(function(){var e=this;return Spacebars.include(e.lookupTemplate("loading"))}),Meteor.startup(Template.body.renderToDocument)},"loading.js":function(){Template.loading.onRendered(function(){loading.show()}),loading={show:function e(){$("#loadding").fadeIn(300)},hide:function n(){$("#loadding").fadeOut(300)}}}},myPerson:{"template.add.js":function(){Template.__checkName("myPersonAdd"),Template.myPersonAdd=new Template("Template.myPersonAdd",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.Raw('<header>\n            <div class="header">\n               添加患者\n                <a href="/myPerson" class="left" style="font-size:18px;width:100px;padding-right:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>'),"\n        ",HTML.DIV({"class":"ff-form",style:"margin-bottom:50px"},"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>姓名</label>"),"\n                    ",HTML.INPUT({id:"pa-name",type:"text",placeholder:"请输入患者姓名",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("persons"),"name"))}}),"\n                "),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>性别</label>\n                    <select id="pa-sex">\n                        <option value="男">男</option>\n                        <option value="女">女</option>\n                    </select>\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>出生日期</label>\n                    <input id="pa-brithday" type="date" placeholder="请输入患者姓名">\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>身份证号</label>\n                    <input id="pa-no" type="text" placeholder="请输入身份证号">\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>家庭住址</label>\n                    <input id="pa-address" type="text" placeholder="请输入家庭住址">\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>联系电话</label>\n                    <input id="pa-tel" type="tel" placeholder="请输入联系电话">\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>紧急联系人</label>\n                    <input id="pa-urgent" type="text" placeholder="请输入紧急联系人">\n                </div>'),"\n                \n                ",HTML.Raw('<div class="ff-line">\n                    <label>血型</label>\n                    <select id="pa-blood">\n                        <option value="A">A</option>\n                        <option value="B">B</option>\n                        <option value="O">O</option>\n                        <option value="AB">AB</option>\n                    </select>\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>RH血型</label>\n                    <select id="pa-rh">\n                        <option value="阴性">阴性</option>\n                        <option value="阳性">阳性</option>\n                       \n                    </select>\n                </div>'),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>慢性病患病情况</label>"),"\n                    ",HTML.TEXTAREA({id:"pa-chronic",type:"text","class":"ff-line-input",placeholder:"请输入慢性病患病情况"}),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>过敏史</label>"),"\n                    ",HTML.TEXTAREA({id:"pa-allergy",type:"text","class":"ff-line-input",placeholder:"请输入过敏史"}),"\n                "),"\n                 ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>其他</label>"),"\n                    ",HTML.TEXTAREA({id:"pa-other",type:"text","class":"ff-line-input",placeholder:"其他"}),"\n                "),"\n              \n                ",HTML.Raw('<div class="ff-btn-group" style="margin-top:8px">\n                    <div class="ff-btn" id="pa-create">生成档案</div>\n                </div>'),"\n            "),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.detail.js":function(){Template.__checkName("myPersonDetail"),Template.myPersonDetail=new Template("Template.myPersonDetail",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                病例:",Blaze.View("lookup:per.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"name"))}),"\n                ",HTML.Raw('<a href="/myPerson" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>'),"\n            "),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>性别</label>"),"\n            \n            ",HTML.DIV({"class":"ff-text"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),Spacebars.dot(e.lookup("per"),"sex"),"男")},function(){return" 男 "},function(){return" 女 "})),HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>出生日期</label>"),"\n            \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.brithday",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"brithday"))})),HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>身份证号码</label>"),"\n           \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.no",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"no"))}))," ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>家庭住址</label>"),"\n            \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.address",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"address"))})),HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>联系电话</label>"),"\n            \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.tel",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"tel"))})),HTML.Raw("<hr>")," \n        "),"\n         ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>紧急联系人</label>"),"\n           \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.urgent",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"urgent"))}))," ",HTML.Raw("<hr>")," \n        "),"\n         ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>血型</label>"),"\n            \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.blood",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"blood"))})),HTML.Raw("<hr>")," \n        "),"\n         ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>RH血型</label>"),"\n            \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.rh",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"rh"))})),HTML.Raw("<hr>")," \n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>慢性病患病情况</label>"),"\n            \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.chronic",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"chronic"))})),HTML.Raw("<hr>")," \n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>过敏史</label>"),"\n            \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.allergy",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"allergy"))})),HTML.Raw("<hr>")," \n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>其他</label>"),"\n           \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.other",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"other"))}))," ",HTML.Raw("<hr>")," \n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>健康档案编码</label>"),"\n            \n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per._id",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"_id"))})),HTML.Raw("<hr>")," \n        "),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.list.js":function(){Template.__checkName("myPerson"),Template.myPerson=new Template("Template.myPerson",function(){var e=this;return[HTML.Raw('<div class="page page-with-header-footer ">\n        <header>\n            <div class="header">\n               我的病例\n                <a href="/home" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n                <a class="right" href="/myPerson/add" style="font-size:18px;width:100px;padding-right:10px;padding-top:2px;"><i class="fa fa-plus"></i></a>\n            </div>\n        </header>\n    </div>\n    \n    '),Blaze.Each(function(){return Spacebars.call(e.lookup("persons"))},function(){return["\n    ",HTML.A({"class":"rl-item _flex",href:function(){return["/myPerson/detail?id=",Spacebars.mustache(e.lookup("_id"))]}},"\n        ",HTML.DIV({"class":"rl-item-left",style:function(){return["background-color:#",Spacebars.mustache(e.lookup("randomColor"),e.lookup("name"))]}},"\n            ",Blaze.View("lookup:fl",function(){return Spacebars.mustache(e.lookup("fl"),e.lookup("name"))}),"\n        "),"\n        ",HTML.DIV({"class":"rl-item-right _flex-1"},"\n            ",HTML.DIV({"class":"rl-item-title"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n        ",HTML.DIV({"class":"rl-item-info"},"\n           \n            ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("createAt"))}),"\n        "),"\n        "),"\n        \n        ",HTML.I({"class":"fa fa-angle-right"}),"\n    "),"\n    "]}),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"add.js":function(){Template.myPersonAdd.onCreated(function(){this.subscribe("personDetail",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.myPersonAdd.helpers({backurl:function e(){var e=FlowRouter.getQueryParam("frt");return console.log(e),e?e:"/"},persons:function n(){return Persons.findOne({_id:facc.user()._id})}}),Template.myPersonAdd.events({"click #pa-create":function t(){if(""==$("#pa-name").val())return alert("请输入姓名"),!1;if(""==$("#pa-no").val())return alert("请输入身份证号"),!1;var e=$("#pa-no").val();if(!facc.checkID(e))return alert("请输入正确的身份证号"),!1;if(""==$("#pa-tel").val())return alert("请输入手机号"),!1;var e=$("#pa-tel").val();if(!facc.checkTel(e))return alert("请输入正确的手机号"),!1;var n={name:$("#pa-name").val(),sex:$("#pa-sex").val(),brithday:$("#pa-brithday").val(),no:$("#pa-no").val(),address:$("#pa-address").val(),tel:$("#pa-tel").val(),urgent:$("#pa-urgent").val(),blood:$("#pa-blood").val(),rh:$("#pa-rh").val(),chronic:$("#pa-chronic").val(),allergy:$("#pa-allergy").val(),other:$("#pa-other").val(),userid:facc.user()._id,nickname:facc.user().nickname,avatar:facc.user().avatar,createAt:new Date,status:1,updateAt:new Date};confirm("建立患者档案")&&Meteor.call("createPerson",n,function(e,n){FlowRouter.go(FlowRouter.getQueryParam("frt")?FlowRouter.getQueryParam("frt"):"/")})}})},"detail.js":function(){Template.myPersonDetail.onCreated(function(){this.subscribe("personDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.myPersonDetail.helpers({per:function e(){return Persons.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.myPersonDetail.onRendered(function(){}),Template.myPersonDetail.events({})},"list.js":function(){Template.myPerson.onCreated(function(){this.subscribe("myPerson",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.myPerson.helpers({persons:function e(){return Persons.find({},{sort:{createAt:-1}})}}),Template.myPerson.onRendered(function(){}),Template.myPerson.events({})}},myRecive:{"template.agree.js":function(){Template.__checkName("myReciveConfirmAgree"),Template.myReciveConfirmAgree=new Template("Template.myReciveConfirmAgree",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                确认接诊\n                ",HTML.A({href:function(){return["/myRecive/confirm?id=",Spacebars.mustache(e.lookup("refid"))]},"class":"left",style:"font-size:18px;width:100px;padding-left:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),HTML.Raw('\n        <div class="ff-form" style="padding-bottom:50px;">\n            <div class="ff-line">\n                <label>接诊日期</label>\n                <input id="rca-date" type="date">\n            </div>\n            <div class="ff-line">\n                <label>接诊时间</label>\n                <select id="rca-time">\n                    <option value="8:00">8:00</option>\n                    <option value="8:30">8:30</option>\n                    <option value="9:00">9:00</option>\n                    <option value="9:30">9:30</option>\n                    <option value="10:00">10:00</option>\n                    <option value="10:30">10:30</option>\n                    <option value="11:00">11:00</option>\n                    <option value="11:30">11:30</option>\n                    <option value="12:00">12:00</option>\n                    <option value="13:00">13:00</option>\n                    <option value="13:30">13:30</option>\n                    <option value="14:00">14:00</option>\n                    <option value="14:30">14:30</option>\n                    <option value="15:00">15:00</option>\n                    <option value="15:30">15:30</option>\n                    <option value="16:00">16:00</option>\n                    <option value="16:30">16:30</option>\n                    <option value="17:00">17:00</option>\n                    <option value="17:30">17:30</option>\n                    <option value="18:00">18:00</option>\n                </select>\n            </div>\n            <div class="ff-btn-group">\n                <div class="ff-btn" id="pa-create">确认接诊</div>\n            </div>\n        </div>\n    '))})},"template.confirm.js":function(){Template.__checkName("myReciveConfirm"),Template.myReciveConfirm=new Template("Template.myReciveConfirm",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.Raw('<header>\n            <div class="header">\n                处理上转单\n                <a href="/myRecive" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>'),"\n        ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n                \n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>现在主要病史(转出原因)</label>"),HTML.Raw("<hr>"),"\n\n                    ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.history",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","history"))})),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>主要既往史</label>"),HTML.Raw("<hr>"),"\n                    ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.jws",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","jws"))})),"\n                "),"\n                \n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>治疗经过</label>"),HTML.Raw("<hr>"),"\n                    ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.zljg",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","zljg"))})),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>医师建议</label>"),HTML.Raw("<hr>"),"\n                    ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.suggest",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","suggest"))})),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>检查数据</label>"),HTML.Raw("<hr>"),"\n                    ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("ref"),"person","pictures"))},function(){return["\n                        ",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("."))},width:"100%"}),"\n                    "]}),"\n                "),"\n            "),"\n    "),"\n     \n    ",HTML.DIV({"class":"footer-select _flex"},"\n        ",HTML.A({href:function(){return["/myRecive/confirm/agree?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},style:"background:green;","class":"_flex-1 footer-select-item"},"确认"),"\n        ",HTML.A({href:function(){return["/myRecive/confirm/disagree?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},style:"background:red;","class":"_flex-1 footer-select-item"},"拒绝"),"\n    ")]})},"template.create.js":function(){Template.__checkName("myReciveCreate"),Template.myReciveCreate=new Template("Template.myReciveCreate",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                回转 ",Blaze.View("lookup:ref.person.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","name"))}),"\n                ",HTML.A({href:function(){return["/myRecive/detail?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"left",style:"font-size:18px;width:100px;padding-left:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n                \n               ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>诊断结果</label>"),"\n                    ",HTML.TEXTAREA({id:"pa-zdjg",type:"text",placeholder:"请输入ICD编码、首写字母"}),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>主要检查结果</label>"),"\n                    ",HTML.TEXTAREA({id:"pa-jcjg",type:"text",placeholder:"请输入主要检查结果"}),"\n                "),"\n                \n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>治疗经过、下一步治疗方案及康复建议</label>"),"\n                    ",HTML.TEXTAREA({id:"pa-zljg",type:"text",placeholder:"治疗方案及康复建议"}),"\n                "),"\n                 ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>选择随访单</label>"),"\n                    ",HTML.SELECT({id:"pa-visit"},"\n                        ",Blaze.Each(function(){return Spacebars.call(e.lookup("feilds"))},function(){return["\n                        ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))},selected:"true"},Blaze.View("lookup:shortname",function(){return Spacebars.mustache(e.lookup("shortname"))})),"\n                        "]}),"\n                        ",HTML.Raw('<option value="other">定制随访单</option>'),"\n                    "),"\n                "),"\n                 ",HTML.Raw('<div class="ff-btn-group">\n                    <div class="ff-btn" id="pa-create">确认回转</div>\n                </div>'),"\n            "),"\n    ")})},"template.detail.js":function(){Template.__checkName("myReciveDetail"),Template.myReciveDetail=new Template("Template.myReciveDetail",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                转诊单详情\n                ",HTML.Raw('<a onclick="backaction()" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>'),"\n                ",HTML.A({href:function(){return["/myRecive/step?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"right",style:"font-size:14px;width:100px;padding-right:10px;"},"进度 ",HTML.Raw('<i class="fa fa-angle-right"></i>')," "),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n            ",Spacebars.include(e.lookupTemplate("userdetail")),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>现在主要病史(转出原因)</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.yname",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","yname"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>主要既往史</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.jws",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","jws"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>治疗经过</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.zljg",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","zljg"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>医师建议</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.suggest",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","suggest"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>检查数据</label>"),"\n                 ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("ref"),"person","pictures"))},function(){return["\n                ",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("."))},width:"100%"})," "]}),"\n            "),"\n        "),"\n    "),"\n    ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("ref"),"checkPay"))},function(){return["\n    ",HTML.A({href:function(){return["/myRecive/create?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"rd-footer"},"回转 ",HTML.I({"class":"fa fa-angle-right"})," ",HTML.I({"class":"fa fa-angle-right"})," ")," "]},function(){return["\n    ",HTML.A({href:function(){return["/myRecive/qrcode?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"rd-footer"},HTML.I({"class":"fa fa-rqcode"}),"  付款 ")," "]})]})},"template.disagree.js":function(){Template.__checkName("myReciveConfirmDisagree"),Template.myReciveConfirmDisagree=new Template("Template.myReciveConfirmDisagree",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                拒绝接诊\n                ",HTML.A({href:function(){return["/myRecive/confirm?id=",Spacebars.mustache(e.lookup("refid"))]},"class":"left",style:"font-size:18px;width:100px;padding-left:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>拒绝原因</label>"),"\n                ",HTML.Raw('<input id="rca-reason" type="text" placeholder="拒绝原因">'),"\n                ",HTML.TEXTAREA({id:"rca-reason",type:"text",placeholder:"拒绝原因"}),"\n            "),"\n           \n            ",HTML.Raw('<div class="ff-btn-group">\n                <div class="ff-btn" id="pa-create">确认</div>\n            </div>'),"\n        "),"\n    ")})},"template.index.js":function(){Template.__checkName("myRecive"),Template.myRecive=new Template("Template.myRecive",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.Raw('<header>\n            <div class="header">\n                接诊\n                <a href="/home" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>'),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("waitfor"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#fd781f;"},HTML.I({"class":"fa fa-thumb-tack "})," 待接诊  ",HTML.B("您有",Blaze.View("lookup:count",function(){return Spacebars.mustache(e.lookup("count"),e.lookup("waitfor"))}),"条待接诊消息")),"\n        ",HTML.DIV({"class":"recive-block"},"\n        	",Blaze.Each(function(){return Spacebars.call(e.lookup("waitfor"))},function(){return["\n        	",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("master")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n        	"]}),"\n        "),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("myrefs"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1f8ffd;"},HTML.I({"class":"fa fa-thumb-tack "})," 已接诊 "),"\n        ",HTML.DIV({"class":"recive-block"},"\n        	",Blaze.Each(function(){return Spacebars.call(e.lookup("myrefs"))},function(){return["\n        	",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("master")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n        	"]}),"\n        "),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("visits"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1ffdbc;"},HTML.I({"class":"fa fa-thumb-tack "})," 已完成 "),"\n        ",HTML.DIV({"class":"recive-block"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("coms"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("master")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n            "]}),"\n        "),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("coms"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1ffdbc;"},HTML.I({"class":"fa fa-thumb-tack "})," 已完成 "),"\n        ",HTML.DIV({"class":"recive-block"},"\n        	",Blaze.Each(function(){return Spacebars.call(e.lookup("coms"))},function(){return["\n        	",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("master")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n        	"]}),"\n        "),"\n        "]}),"\n    "),"\n     \n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.item.js":function(){Template.__checkName("myReferralItem"),Template.myReferralItem=new Template("Template.myReferralItem",function(){var e=this;return HTML.DIV({"class":"r-item _flex"},"\n        ",HTML.DIV({"class":"r-item-info _flex-1"},"\n            ",HTML.DIV({"class":"_flex"},"\n                ",HTML.DIV({"class":"r-item-letter ",style:function(){return["background-color:#",Spacebars.mustache(e.lookup("randomColor"),Spacebars.dot(e.lookup("data"),"person","name"))]}}," ",Blaze.View("lookup:fl",function(){return Spacebars.mustache(e.lookup("fl"),Spacebars.dot(e.lookup("data"),"person","name"))})),"\n                ",HTML.DIV({"class":"r-item-line _flex-1"},"\n                    ",HTML.B(Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),Spacebars.dot(e.lookup("data"),"createAt"))})),"\n                    ",HTML.DIV({"class":"r-item-name"},Blaze.View("lookup:data.person.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"person","name"))})),"\n                "),"\n            "),"\n            ",HTML.DIV({"class":"r-item-hospital"},"\n                ",HTML.Raw('<i class="fa fa-hospital-o "></i>')," ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("role"),"master")},function(){return[" ",Blaze.View("lookup:data.creater.parentRegionName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","parentRegionName"))})," ",Blaze.View("lookup:data.creater.regionName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","regionName"))})," ",Blaze.View("lookup:data.creater.hospitalName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","hospitalName"))})," ",Blaze.View("lookup:data.creater.departmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","departmentName"))})," ",Blaze.View("lookup:data.creater.sdepartmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","sdepartmentName"))})," "]},function(){return[" ",Blaze.View("lookup:data.master.parentRegionName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","parentRegionName"))})," ",Blaze.View("lookup:data.master.regionName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","regionName"))})," ",Blaze.View("lookup:data.master.hospitalName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","hospitalName"))})," ",Blaze.View("lookup:data.master.departmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","departmentName"))})," ",Blaze.View("lookup:data.master.sdepartmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","sdepartmentName"))})," "]}),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"r-item-btn"},"\n            ",HTML.A({href:function(){return["/myRecive/detail?id=",Spacebars.mustache(Spacebars.dot(e.lookup("data"),"_id"))]},"class":"r-right"},HTML.Raw('<i class="fa fa-angle-right"></i>')),"\n        "),"\n    ")})},"template.step.js":function(){Template.__checkName("myReciveStep"),Template.myReciveStep=new Template("Template.myReciveStep",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n                转诊进度\n                <a onclick="backaction()" class="left" style="font-size:18px;width:100px;padding-right:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        '),Spacebars.With(function(){return Spacebars.call(e.lookup("ref"))},function(){return["\n             ",Blaze.If(function(){return Spacebars.call(e.lookup("visitAt"))},function(){return["\n                \n                ",HTML.DIV({"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "}," ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("visitAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                        随访\n                        ",HTML.Comment(' <div class="step-block">随访单</div> '),"\n                    "),"\n                    ",HTML.DIV({
"class":"step-slipt"}),"\n                "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("caseAt"))},function(){return["\n                \n                ",HTML.DIV({"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "},"  ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("caseAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                        回转\n                        ",HTML.Comment(' <div class="step-block">回转单</div> '),"\n                    "),"\n                    ",HTML.DIV({"class":"step-slipt"}),"\n                "),"\n            "]}),"\n             ",Blaze.If(function(){return Spacebars.call(e.lookup("orderAt"))},function(){return["\n                \n                ",HTML.DIV({"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "},"  ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("orderAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                        患者就诊\n                    "),"\n                    ",HTML.DIV({"class":"step-slipt"}),"\n                "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("masterAt"))},function(){return["\n               \n                ",HTML.DIV({"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "},"  ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("masterAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                    接诊成功 ",Blaze.If(function(){return Spacebars.call(e.lookup("checkTime"))},function(){return[" ",HTML.A({"class":"step-time-modi",href:function(){return["/recive/time?id=",Spacebars.mustache(e.lookup("_id"))]}},"修改就诊时间")]}),"\n                        ",HTML.Comment(' <div class="step-block">接诊医院、医师</div> '),"\n                    "),"\n                    ",HTML.DIV({"class":"step-slipt"}),"\n                "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("payAt"))},function(){return["\n               \n                ",HTML.DIV({"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "}," ",Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("payAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                       患者确认\n                        ",HTML.Comment(' <div class="step-block">患者确认协议</div> '),"\n                    "),"\n                    ",HTML.DIV({"class":"step-slipt"}),"\n                "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("createAt"))},function(){return["\n            ",HTML.DIV({"class":"step _flex"},"\n                ",HTML.DIV({"class":"step-time "},Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("createAt"))})),"\n                ",HTML.DIV({"class":"step-info _flex-1"},"\n                    向上转诊\n                    ",HTML.Comment(' <div class="step-block">转诊单</div> '),"\n                "),"\n                ",HTML.DIV({"class":"step-slipt"}),"\n            "),"\n            "]}),"\n        "]}),"\n    ")})},"template.time.js":function(){Template.__checkName("myReciveTime"),Template.myReciveTime=new Template("Template.myReciveTime",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n               修改就诊时间\n                ",HTML.A({href:function(){return["/myRecive/step?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"left",style:"font-size:18px;width:100px;padding-left:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),HTML.Raw('\n        <div class="ff-form">\n            <div class="ff-line">\n                <label>就诊日期</label>\n                <input id="rca-date" type="date">\n            </div>\n            <div class="ff-line">\n                <label>就诊时间</label>\n                <select id="rca-time">\n                    <option value="8:00">8:00</option>\n                    <option value="8:30">8:30</option>\n                    <option value="9:00">9:00</option>\n                    <option value="9:30">9:30</option>\n                    <option value="10:00">10:00</option>\n                    <option value="10:30">10:30</option>\n                    <option value="11:00">11:00</option>\n                    <option value="11:30">11:30</option>\n                    <option value="12:00">12:00</option>\n                    <option value="13:00">13:00</option>\n                    <option value="13:30">13:30</option>\n                    <option value="14:00">14:00</option>\n                    <option value="14:30">14:30</option>\n                    <option value="15:00">15:00</option>\n                    <option value="15:30">15:30</option>\n                    <option value="16:00">16:00</option>\n                    <option value="16:30">16:30</option>\n                    <option value="17:00">17:00</option>\n                    <option value="17:30">17:30</option>\n                    <option value="18:00">18:00</option>\n                </select>\n            </div>\n            <div class="ff-btn-group" style="margin-top:7px">\n                <div class="ff-btn" id="pa-create">确认修改</div>\n            </div>\n        </div>\n    '))})},"agree.js":function(){Template.myReciveConfirmAgree.onCreated(function(){loading.hide()}),Template.myReciveConfirmAgree.helpers({refid:function e(){return FlowRouter.getQueryParam("id")}}),Template.myReciveConfirmAgree.events({"click #pa-create":function n(){if(!$("#rca-date").val())return alert("请选择接诊日期"),!1;var e={checkMaster:1,masterAt:new Date,orderAt:new Date($("#rca-date").val()+" "+$("#rca-time").val())};Referrals.update({_id:FlowRouter.getQueryParam("id")},{$set:e}),alert("上转单已确认"),FlowRouter.go("/recive")}})},"confirm.js":function(){Template.myReciveConfirm.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.myReciveConfirm.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.myReciveConfirm.events({})},"create.js":function(){Template.myReciveCreate.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id")),this.subscribe("myFeilds",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.myReciveCreate.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})},feilds:function n(){return Feilds.find({},{sort:{share:-1,createAt:-1}})},shortname:function t(){var e=[];if(this.objs){for(var n=this.objs,t=0;t<n.length;t++){var a=n[t];e.push(a.name)}return e.join(",")+"等信息..."}}}),Template.myReciveCreate.events({"change #pa-visit":function a(){"other"==$("#pa-visit").val()&&FlowRouter.go("/feild/create?frt=/recive/create?id="+FlowRouter.getQueryParam("id"))},"click #pa-create":function r(){var e={zdjg:$("#pa-zdjg").val(),jcjg:$("#pa-jcjg").val(),zljg:$("#pa-zljg").val(),checkCase:1,caseAt:new Date};if(!e.zdjg)return alert("请输入ICD编码、首写字母"),!1;if(!e.jcjg)return alert("请输入主要检查结果"),!1;if(!e.zljg)return alert("请输入治疗方案及康复建议"),!1;var n=Feilds.findOne({_id:$("#pa-visit").val()});n||alert("请选择随访单");var t=Referrals.findOne({_id:FlowRouter.getQueryParam("id")});Referrals.update({_id:FlowRouter.getQueryParam("id")},{$set:e}),Visits.insert({person:t.person,referral:t._id,createAt:new Date,creater:t.master,executer:t.creater,checkVisit:0,objs:n.objs,status:1}),Feilds.update({_id:n._id},{$inc:{num:1}}),alert("转诊单已回传"),FlowRouter.go("/recive")}})},"detail.js":function(){Template.myReciveDetail.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.myReciveDetail.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.myReciveDetail.events({})},"disagree.js":function(){Template.myReciveConfirmDisagree.onCreated(function(){loading.hide()}),Template.myReciveConfirmDisagree.helpers({refid:function e(){return FlowRouter.getQueryParam("id")}}),Template.myReciveConfirmDisagree.events({"click #pa-create":function n(){if(!$("#rca-reason").val())return alert("请填写拒绝原因"),!1;var e={checkRef:1,erfAt:new Date,reason:$("#rca-reason").val()};Referrals.update({_id:FlowRouter.getQueryParam("id")},{$set:e}),alert("上转单已拒绝"),FlowRouter.go("/recive")}})},"index.js":function(){Template.myRecive.onCreated(function(){this.subscribe("doctorReferrals",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.myRecive.helpers({waitfor:function e(){return Referrals.find({checkRef:0,checkMaster:0}).fetch()},myrefs:function n(){return Referrals.find({checkMaster:1,checkCase:0}).fetch()},refs:function t(){return Referrals.find({checkRef:1}).fetch()},coms:function a(){return Referrals.find({checkComp:1}).fetch()},count:function r(e){return e?e.length:0}}),Template.myRecive.events({})},"item.js":function(){Template.myReferralItem.helpers({isWaitfor:function e(n,t){return 0==n&&0==t?!0:!1},isPay:function n(e){return console.log(e),1==e?!0:!1}})},"step.js":function(){Template.myReciveStep.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.myReciveStep.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})},checkTime:function n(){if(this.orderAt){var e=new Date(this.orderAt),n=new Date;if(e.getYear()+e.getMonth()+e.getDate()==n.getYear()+n.getMonth()+n.getDate())return!1;if(e>n)return!0}}}),Template.myReciveStep.events({})},"time.js":function(){Template.myReciveTime.onCreated(function(){loading.hide()}),Template.myReciveTime.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.myReciveTime.events({"click #pa-create":function n(){if(!$("#rca-date").val())return alert("请选择接诊日期"),!1;var e={checkMaster:1,masterAt:new Date,orderAt:new Date($("#rca-date").val()+" "+$("#rca-time").val())};Referrals.update({_id:FlowRouter.getQueryParam("id")},{$set:e}),alert("时间已修改"),FlowRouter.go("/recive/step?id="+FlowRouter.getQueryParam("id"))}})}},news:{"template.comment.js":function(){Template.__checkName("newsComment"),Template.newsComment=new Template("Template.newsComment",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                发表评论\n                ",HTML.A({href:function(){return["/news/item?id=",Spacebars.mustache(Spacebars.dot(e.lookup("news"),"_id"))]},"class":"left",style:"font-size:18px;width:100px;padding-left:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),"\n         ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n                \n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.LABEL({style:"background:#efefef;padding:10px;color:#666;margin-bottom:20px;"},"评论:",Blaze.View("lookup:news.title",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("news"),"title"))})),"\n                    ",HTML.TEXTAREA({style:"height:200px;",id:"nc-content",type:"text",placeholder:"发表我的看法"}),"\n                "),"\n                \n                 ",HTML.Raw('<div class="ff-btn-group">\n                    <div class="ff-btn" id="pa-create">提交评论</div>\n                </div>'),"\n            "),"\n    ")})},"template.news.js":function(){Template.__checkName("newsItem"),Template.newsItem=new Template("Template.newsItem",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer ",style:"background:#fff"},"\n        ",HTML.DIV({"class":"cd-thumb",style:function(){return["background-image:url(",Spacebars.mustache(Spacebars.dot(e.lookup("news"),"thumb")),");"]}},"\n            ",HTML.Raw('<a href="/" class="left" style="top:15px;position: fixed;"><i style="font-size:34px;color:#fff;text-shadow:0 0 5px #666;" class="fa fa-angle-left"></i></a>'),"\n            ",HTML.A({id:"ni-fovar","class":"right",style:"right:15px;top:17px;position: fixed;"},HTML.I({style:function(){return["font-size:30px;color:",Blaze.If(function(){return Spacebars.call(e.lookup("isfovar"))},function(){return" gold "},function(){return" #fff "}),";text-shadow:0 0 2px #333;"]},"class":function(){return["fa ",Blaze.If(function(){return Spacebars.call(e.lookup("isfovar"))},function(){return" fa-star "},function(){return" fa-star-o "})]}})),"\n        "),"\n        ",HTML.DIV({"class":"cd-info"},"\n            ",HTML.B(Blaze.View("lookup:news.title",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("news"),"title"))}))," ",Blaze.View("lookup:news.summray",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("news"),"summray"))}),"\n        "),HTML.Raw('\n        <fieldset class="cd-detail-title">\n            <legend>详情介绍</legend>\n        </fieldset>\n        '),HTML.DIV({"class":"cd-detail"},"\n            ",Blaze.View("lookup:news.detail",function(){return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(e.lookup("news"),"detail")))}),"\n        "),"\n        ",HTML.DIV({"class":"ni-commnt"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("comments"))},function(){return["\n            ",HTML.DIV({"class":"nic-item _flex"},"\n                ",HTML.DIV({"class":"nic-avatar",style:function(){return["background-image:url(",Spacebars.mustache(e.lookup("avatar")),")"]}}),"\n                ",HTML.DIV({"class":"nic-info _flex-1"},"\n                    ",HTML.DIV({"class":"nic-nickname"},Blaze.View("lookup:nickname",function(){return Spacebars.mustache(e.lookup("nickname"))})),"\n                    ",HTML.DIV({"class":"nic-datetime"},Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("createAt"))})),"\n                    ",HTML.DIV({"class":"nic-content"},Blaze.View("lookup:content",function(){return Spacebars.mustache(e.lookup("content"))})),"\n                "),"\n            "),"\n            "]}),"\n        "),"\n        ",HTML.A({href:function(){return["/news/comment?id=",Spacebars.mustache(Spacebars.dot(e.lookup("news"),"_id"))]},"class":"nic-btn"},"\n            ",HTML.Raw('<i class="fa fa-edit"></i>')," 评论\n        "),"\n    ")})},"comment.js":function(){Template.newsComment.onCreated(function(){this.subscribe("newsData",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.newsComment.helpers({news:function e(){return News.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.newsComment.events({"click #pa-create":function n(){return""==$("#nc-content").val()?void alert("请填写评论内容"):(NewsComment.insert({userid:facc.user()._id,avatar:facc.user().avatar,nickname:facc.user().nickname,createAt:new Date,news:FlowRouter.getQueryParam("id"),content:$("#nc-content").val(),status:1}),void FlowRouter.go("/news/item?id="+FlowRouter.getQueryParam("id")))}}),Template.newsComment.onRendered(function(){$(window).scrollTop(0)})},"news.js":function(){Template.newsItem.onCreated(function(){this.subscribe("newsData",FlowRouter.getQueryParam("id"),facc.isGuest()?"":facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.newsItem.helpers({news:function e(){return News.findOne({_id:FlowRouter.getQueryParam("id")})},comments:function n(){return NewsComment.find({news:FlowRouter.getQueryParam("id")})},isfovar:function t(){return NewsFovar.findOne({userid:facc.user()._id,news:FlowRouter.getQueryParam("id")})}}),Template.newsItem.events({"click #ni-fovar":function a(){if(facc.isGuest())return FlowRouter.go("/login"),!1;var e=News.findOne({_id:FlowRouter.getQueryParam("id")}),n=NewsFovar.findOne({userid:facc.user()._id,news:FlowRouter.getQueryParam("id")});console.log(n),n?(NewsFovar.remove({_id:n._id}),$("#ni-fovar").find("i").removeClass("fa-star").addClass("fa-star-o").css({color:"#fff"})):($("#ni-fovar").find("i").removeClass("fa-star-o").addClass("fa-star").css({color:"gold"}),NewsFovar.insert({userid:facc.user()._id,news:FlowRouter.getQueryParam("id"),createAt:new Date,title:e.title}))}}),Template.newsItem.onRendered(function(){$(window).scrollTop(0)})}},pay:{"template.client.js":function(){Template.body.addContent(function(){var e=this;return HTML.Raw('<div class="payBg" onclick="Pay.hidePaySelect();">\n        <div class="payFooterWarp animated fadeInUp">\n        	<div class="payFooterTitle">选择支付方式</div>\n            <div class="payFooter _flex">\n                <div class="payForAlipay _flex-1"></div>\n                <div class="payForWechat _flex-1"></div>\n            </div>\n        </div>\n    </div>')}),Meteor.startup(Template.body.renderToDocument)},"client.js":["babel-runtime/helpers/typeof",function(e,n,t){var a;t["import"]("babel-runtime/helpers/typeof",{"default":function(e){a=e}}),Pay={go:function r(e){Session.get("FRUID")&&(e+="&fruid="+Session.get("FRUID")),Session.get("CURSTATE")&&(e+="&curstate="+Session.get("CURSTATE")),window.location.href=e},exec:function o(e,n){Pay._checkPayInfo(e)&&Pay._checkLogin()&&(Pay._callback=n,Meteor.call("createPay",Pay._createPay(e),function(e,n){"POINT"==n?Pay._callback("POINT"):"BALANCE"==n?Pay._callback("BALANCE"):n.price>0?Meteor.isCordova?""==n.way&&payConfig.app.alipay&&payConfig.app.wechat?$(".payBg").show():payConfig.app.alipay?(n.way="ALIPAY",alipay.pay(n,function(e){Pay._payback(n,e)})):payConfig.app.wechat?(n.way="WECHAT",wechat.appPay(n,function(e){Pay._payback(n,e)})):console.log("未接入第三方支付"):wechat.isWeiXin()&&payConfig.webapp.wechat?(n.way="WECHAT",wechat.pay(n,function(e){Pay._payback(n,e)})):payConfig.webapp.alipay?(n.way="ALIPAY",console.log("敬请期待：WEBAPP－ALIPAY")):console.log("未接入第三方支付"):Meteor.call("payComplete",{pay:n,result:"nocash"},function(e,t){Pay._callback("OK",n)})}))},_payback:function i(e,n){n?Meteor.call("payComplete",{pay:e,result:n},function(n,t){Pay._callback("OK",e)}):Pay._callback("ERROR")},hidePaySelect:function l(){$(".payBg").hide()},_callback:function s(){},_createPay:function c(e){return e.userid=facc.user()._id,e.fruid=Session.get("FRUID"),e.curstate=Session.get("CURSTATE"),e.way=e.way?e.way:"",e.price=e.price?1*e.price:0,e.balance=e.balance?1*e.balance:0,e.point=e.point?1*e.point:0,e},_checkPayInfo:function u(e){return e.subject?e.body?void 0==a(e.price)||void 0==a(e.balance)||void 0==a(e.point)?(console.log("请填写付款单支付价格|余额|积分其中之一"),!1):e.data?!0:(console.log("请填写付款单附加信息"),!1):(console.log("请填写付款单说明"),!1):(console.log("请填写付款单名称"),!1)},_checkLogin:function p(){return!0}}}],"config.js":function(){payConfig={webapp:{alipay:0,wechat:1},app:{alipay:0,wechat:1}}}},person:{"template.add.js":function(){Template.__checkName("personAdd"),Template.personAdd=new Template("Template.personAdd",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.Raw('<header>\n            <div class="header">\n               添加患者\n                <a href="/person" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>'),"\n        ",HTML.DIV({"class":"ff-form",style:"margin-bottom:50px;"},"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>姓名</label>"),"\n                    ",HTML.INPUT({id:"pa-name",type:"text",placeholder:"请输入患者姓名",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("persons"),"name"))}}),"\n                "),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>性别</label>\n                    <select id="pa-sex">\n                        <option value="男">男</option>\n                        <option value="女">女</option>\n                    </select>\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>出生日期</label>\n                    <input id="pa-brithday" type="date" placeholder="请输入患者姓名">\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>身份证号</label>\n                    <input id="pa-no" type="text" placeholder="请输入身份证号">\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>家庭住址</label>\n                    <input id="pa-address" type="text" placeholder="请输入家庭住址">\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>联系电话</label>\n                    <input id="pa-tel" type="tel" placeholder="请输入联系电话">\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>紧急联系人</label>\n                    <input id="pa-urgent" type="text" placeholder="请输入紧急联系人">\n                </div>'),"\n                \n                ",HTML.Raw('<div class="ff-line">\n                    <label>血型</label>\n                    <select id="pa-blood">\n                        <option value="A">A</option>\n                        <option value="B">B</option>\n                        <option value="O">O</option>\n                        <option value="AB">AB</option>\n                    </select>\n                </div>'),"\n                ",HTML.Raw('<div class="ff-line">\n                    <label>RH血型</label>\n                    <select id="pa-rh">\n                        <option value="阴性">阴性</option>\n                        <option value="阳性">阳性</option>\n                    </select>\n                </div>'),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>慢性病患病情况</label>"),"\n                    ",HTML.TEXTAREA({id:"pa-chronic",type:"text","class":"ff-line-input",placeholder:"请输入慢性病患病情况"}),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>过敏史</label>"),"\n                    ",HTML.TEXTAREA({id:"pa-allergy",type:"text","class":"ff-line-input",placeholder:"请输入过敏史"}),"\n                "),"\n                 ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>其他</label>"),"\n                    ",HTML.TEXTAREA({id:"pa-other",type:"text","class":"ff-line-input",placeholder:"其他"}),"\n                "),"\n              \n                ",HTML.Raw('<div class="ff-btn-group" style="margin-top:8px;">\n                    <div class="ff-btn" id="pa-create">生成档案</div>\n                </div>'),"\n            "),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.detail.js":function(){Template.__checkName("personDetail"),Template.personDetail=new Template("Template.personDetail",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                病例:",Blaze.View("lookup:per.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"name"))}),"\n                ",HTML.Raw('<a href="/person" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>'),"\n            "),"\n        "),"\n    "),"\n    ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>性别</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),Spacebars.dot(e.lookup("per"),"sex"),"男")},function(){return" 男 "},function(){return" 女 "})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>出生日期</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.brithday",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"brithday"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>身份证号码</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.no",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"no"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>家庭住址</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.address",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"address"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>联系电话</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.tel",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"tel"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>紧急联系人</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.urgent",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"urgent"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>血型</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.blood",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"blood"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>RH血型</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.rh",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"rh"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>慢性病患病情况</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.chronic",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"chronic"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>过敏史</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.allergy",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"allergy"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>其他</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.other",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"other"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>健康档案编码</label>"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per._id",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"_id"))})),"\n            ",HTML.Raw("<hr>"),"\n        "),"\n        ",Blaze.Each(function(){return Spacebars.call(e.lookup("refs"))},function(){return["\n        ",HTML.DIV({"class":"margin-bottom",style:"margin-bottom:100px;margin-top:100px"},"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.LABEL("慢性病患病情况"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:refs.per.urgent",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("refs"),"per","urgent"))})),"\n                ",HTML.HR(),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.LABEL("主要既往史"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",rows:"1",id:"pa-jws",type:"text",placeholder:"请输入主要既往史",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("refs"),"person","jws"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.LABEL("治疗经过"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",rows:"1",id:"pa-zljg",type:"text",placeholder:"请输入治疗经过",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("refs"),"person","zljg"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.LABEL("医师建议"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",rows:"1",id:"pa-suggest",type:"text",placeholder:"请输入医师建议",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("refs"),"person","suggest"))}}),"\n            "),"\n        "),"\n        "]})," ",Blaze.Each(function(){return Spacebars.call(e.lookup("ref"))},function(){return["\n        ",HTML.DIV({"class":"margin-bottom",style:"margin-bottom:100px;"},"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.LABEL("慢性病患病情况"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:per.urgent",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"urgent"))})),"\n                ",HTML.HR(),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.LABEL("主要既往史"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",rows:"1",id:"pa-jws",type:"text",placeholder:"请输入主要既往史",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"jws"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.LABEL("治疗经过、下一步治疗方案及康复建议"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px",id:"pa-zljg",type:"text",placeholder:"治疗方案及康复建议",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"zljg"))}}),"\n            "),"\n        "),"\n        "]})," ",Blaze.Each(function(){return Spacebars.call(e.lookup("visits"))},function(){return["\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.LABEL("随访者姓名"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"name"))})),"\n            ",HTML.HR(),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.LABEL("档案编号"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person._id",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"_id"))})),"\n            ",HTML.HR(),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.LABEL("随访时间"),"\n            ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:format",function(){return Spacebars.mustache(e.lookup("format"),e.lookup("visitAt"))})),"\n            ",HTML.HR(),"\n        "),"\n        "]}),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})," }"]})},"template.list.js":function(){Template.__checkName("person"),Template.person=new Template("Template.person",function(){var e=this;return[HTML.Raw('<div class="page page-with-header-footer ">\n        <header>\n            <div class="header">\n                我的病例\n                <a href="/" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n                <a class="right" href="/person/add" style="font-size:14px;width:100px;padding-right:10px">添加</a>\n                <!-- <i class="fa fa-plus"></i> -->\n            </div>\n        </header>\n    </div>\n    '),Blaze.Each(function(){return Spacebars.call(e.lookup("persons"))},function(){return["\n    ",HTML.A({"class":"rl-item _flex",href:function(){return["/person/detail?id=",Spacebars.mustache(e.lookup("_id"))]}},"\n        ",HTML.DIV({"class":"rl-item-left",style:function(){return["background-color:#",Spacebars.mustache(e.lookup("randomColor"),e.lookup("name"))]}},"\n            ",Blaze.View("lookup:fl",function(){return Spacebars.mustache(e.lookup("fl"),e.lookup("name"))}),"\n        "),"\n        ",HTML.DIV({"class":"rl-item-right _flex-1"
},"\n            ",HTML.DIV({"class":"rl-item-title"},Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})),"\n            ",HTML.DIV({"class":"rl-item-info"},"\n                ",Blaze.View("lookup:format3",function(){return Spacebars.mustache(e.lookup("format3"),e.lookup("createAt"))}),"\n            "),"\n        "),"\n        ",HTML.I({"class":"fa fa-angle-right"}),"\n    "),"\n    "]})," \n\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"add.js":function(){Template.personAdd.onCreated(function(){this.subscribe("personDetail",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.personAdd.helpers({backurl:function e(){var e=FlowRouter.getQueryParam("frt");return console.log(e),e?e:"/"},persons:function n(){return Persons.findOne({_id:facc.user()._id})}}),Template.personAdd.events({"click #pa-create":function t(){if(""==$("#pa-name").val())return alert("请输入姓名"),!1;if(""==$("#pa-no").val())return alert("请输入身份证号"),!1;var e=$("#pa-no").val();if(!facc.checkID(e))return alert("请输入正确的身份证号"),!1;if(""==$("#pa-tel").val())return alert("请输入手机号"),!1;var e=$("#pa-tel").val();if(!facc.checkTel(e))return alert("请输入正确的手机号"),!1;var n={name:$("#pa-name").val(),sex:$("#pa-sex").val(),brithday:$("#pa-brithday").val(),no:$("#pa-no").val(),address:$("#pa-address").val(),tel:$("#pa-tel").val(),urgent:$("#pa-urgent").val(),blood:$("#pa-blood").val(),rh:$("#pa-rh").val(),chronic:$("#pa-chronic").val(),allergy:$("#pa-allergy").val(),other:$("#pa-other").val(),userid:facc.user()._id,nickname:facc.user().nickname,avatar:facc.user().avatar,createAt:new Date,status:1,updateAt:new Date};confirm("建立患者档案")&&Meteor.call("createPerson",n,function(e,n){FlowRouter.go(FlowRouter.getQueryParam("frt")?FlowRouter.getQueryParam("frt"):"/person")})}})},"detail.js":function(){Template.personDetail.onCreated(function(){this.subscribe("personDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}}),this.subscribe("referralDetail",FlowRouter.getQueryParam("id")),this.subscribe("visitDetails",FlowRouter.getQueryParam("id"))}),Template.personDetail.helpers({per:function e(){return Persons.findOne({_id:FlowRouter.getQueryParam("id")})},ref:function n(){return Referrals.find()},refs:function t(){return Referrals.find()},visits:function a(){return Visits.find()}}),Template.personDetail.onRendered(function(){}),Template.personDetail.events({})},"list.js":function(){Template.person.onCreated(function(){this.subscribe("myPerson",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.person.helpers({persons:function e(){return Persons.find({},{sort:{createAt:-1}})}}),Template.person.onRendered(function(){}),Template.person.events({})}},publishTask:{"template.create.js":function(){Template.__checkName("pubCreate"),Template.pubCreate=new Template("Template.pubCreate",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n                发布随访任务\n                <a href="/" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        '),HTML.DIV({"class":"ff-form"},"\n            ",Spacebars.include(e.lookupTemplate("personSelector")),"\n            ",Spacebars.include(e.lookupTemplate("departmentSelector"))," \n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>主要检查结果</label>"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",id:"pa-jcjg",type:"text",placeholder:"请输入主要检查结果"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>治疗经过、下一步治疗方案及康复建议</label>"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",id:"pa-zljg",type:"text",placeholder:"治疗方案及康复建议"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>选择随访单</label>"),"\n                ",HTML.SELECT({id:"pa-visit"},"\n                    ",Blaze.Each(function(){return Spacebars.call(e.lookup("feild"))},function(){return["\n                    ",HTML.OPTION({selected:"true",value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:shortname",function(){return Spacebars.mustache(e.lookup("shortname"))})),"\n                    "]}),"\n                    ",HTML.Raw('<option value="other">定制随访单</option>'),"\n                "),"\n            "),"\n            ",HTML.Raw('<div class="ff-btn-group" style="margin-top:8px;">\n                <div class="ff-btn" id="pa-create">确认发布</div>\n            </div>'),"\n        "),"\n    ")})},"create.js":function(){Template.pubCreate.onCreated(function(){this.subscribe("mydocInfo",facc.user()._id,{onReady:function e(){loading.hide()}}),this.subscribe("myFeilds",facc.user()._id),this.subscribe("myTable",facc.user()._id)}),Template.pubCreate.helpers({feild:function e(){return Feilds.find({},{sort:{share:-1,createAt:-1}})},tables:function n(){return Tables.find()},shortname:function t(){return this.title}}),Template.pubCreate.events({"change #pa-visit":function a(){"other"==$("#pa-visit").val()&&FlowRouter.go("/feild/create?frt=/task/create")},"click #pa-create":function r(){var e=Doctors.findOne({userid:facc.user()._id});if(!e||!e.vaild)return alert("您还未认证资料"),FlowRouter.go("/home/certfication"),!1;var n={jcjg:$("#pa-jcjg").val(),zljg:$("#pa-zljg").val(),checkCase:1,caseAt:new Date},t=Session.get("components-department");if(!t.department)return alert("请选择科室"),!1;var a=Session.get("components-person");if(!a._id)return alert("请选择患者"),!1;if(!n.jcjg)return alert("请输入主要检查结果"),!1;if(!n.zljg)return alert("请输入治疗方案及康复建议"),!1;var r=Feilds.findOne({_id:$("#pa-visit").val()});return r?(Visits.insert({fid:r._id,person:a,createAt:new Date,creater:{doctor:e._id,userid:facc.user()._id,name:e.doctorName,avatar:facc.user().avatar,parentRegion:e.parentRegion,parentRegionName:e.parentRegionName,region:e.region,regionName:e.regionName,hospital:e.hospital,hospitalName:e.hospitalName,department:e.department,departmentName:e.departmentName,sdepartment:e.sdepartment,sdepartmentName:e.sdepartmentName},executer:{parentRegion:t.parentRegion,parentRegionName:t.parentRegionName,region:t.region,regionName:t.regionName,hospital:t.hospital,hospitalName:t.hospitalName,department:t.department,departmentName:t.departmentName,sdepartment:t.sdepartment,sdepartmentName:t.sdepartmentName},checkVisit:0,objs:r.objs,status:1}),Feilds.update({_id:r._id},{$inc:{num:1}}),alert("任务已发布"),void FlowRouter.go("/visit")):(alert("请选择随访单"),!1)}})}},recive:{"template.agree.js":function(){Template.__checkName("reciveConfirmAgree"),Template.reciveConfirmAgree=new Template("Template.reciveConfirmAgree",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                确认接诊\n                ",HTML.A({href:function(){return["/recive/confirm?id=",Spacebars.mustache(e.lookup("refid"))]},"class":"left",style:"font-size:18px;width:100px;padding-left:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),HTML.Raw('\n        <div class="ff-form">\n            <div class="ff-line">\n                <label>接诊日期</label>\n                <input id="rca-date" type="date">\n            </div>\n            <div class="ff-line">\n                <label>接诊时间</label>\n                <select id="rca-time">\n                    <option value="8:00">8:00</option>\n                    <option value="8:30">8:30</option>\n                    <option value="9:00">9:00</option>\n                    <option value="9:30">9:30</option>\n                    <option value="10:00">10:00</option>\n                    <option value="10:30">10:30</option>\n                    <option value="11:00">11:00</option>\n                    <option value="11:30">11:30</option>\n                    <option value="12:00">12:00</option>\n                    <option value="13:00">13:00</option>\n                    <option value="13:30">13:30</option>\n                    <option value="14:00">14:00</option>\n                    <option value="14:30">14:30</option>\n                    <option value="15:00">15:00</option>\n                    <option value="15:30">15:30</option>\n                    <option value="16:00">16:00</option>\n                    <option value="16:30">16:30</option>\n                    <option value="17:00">17:00</option>\n                    <option value="17:30">17:30</option>\n                    <option value="18:00">18:00</option>\n                </select>\n            </div>\n            <div class="ff-btn-group" style="margin-top:7px">\n                <div class="ff-btn" id="pa-create">确认接诊</div>\n            </div>\n        </div>\n    '))})},"template.confirm.js":function(){Template.__checkName("reciveConfirm"),Template.reciveConfirm=new Template("Template.reciveConfirm",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.Raw('<header>\n            <div class="header">\n                处理上转单\n                <a href="/recive" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>'),"\n        ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n                ",Spacebars.include(e.lookupTemplate("userdetail")),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>现在主要病史(转出原因)</label>"),HTML.Raw("<hr>"),"\n\n                    ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.history",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","history"))})),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>主要既往史</label>"),HTML.Raw("<hr>"),"\n                    ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.jws",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","jws"))})),"\n                "),"\n                \n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>治疗经过</label>"),HTML.Raw("<hr>"),"\n                    ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.zljg",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","zljg"))})),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>医师建议</label>"),HTML.Raw("<hr>"),"\n                    ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.suggest",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","suggest"))})),"\n                "),"\n                ",HTML.DIV({"class":"ff-line"},"\n                    ",HTML.Raw("<label>检查数据</label>"),HTML.Raw("<hr>"),"\n                    ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("ref"),"person","pictures"))},function(){return["\n                        ",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("."))},width:"100%"}),"\n                    "]}),"\n                "),"\n            "),"\n    "),"\n     \n    ",HTML.DIV({"class":"footer-select _flex"},"\n        ",HTML.A({href:function(){return["/recive/confirm/agree?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},style:"background:green;","class":"_flex-1 footer-select-item"},"确认"),"\n        ",HTML.A({href:function(){return["/recive/confirm/disagree?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},style:"background:red;","class":"_flex-1 footer-select-item"},"拒绝"),"\n    ")]})},"template.create.js":function(){Template.__checkName("reciveCreate"),Template.reciveCreate=new Template("Template.reciveCreate",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                回转 ",Blaze.View("lookup:ref.person.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","name"))}),"\n                ",HTML.A({href:function(){return["/recive/detail?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"left",style:"font-size:18px;width:100px;padding-left:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>诊断结果</label>"),"\n                ",Blaze._TemplateWith(function(){return{settings:Spacebars.call(e.lookup("settings")),id:Spacebars.call("autocomplete-input"),"class":Spacebars.call("pa-zdjg"),placeholder:Spacebars.call("请输入ICD编码或首字母")}},function(){return Spacebars.include(e.lookupTemplate("inputAutocomplete"),function(){return" "})}),"\n                ",HTML.Raw('<!-- <textarea id="pa-zdjg" type="text" placeholder="请输入ICD编码、首写字母"></textarea> -->'),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>主要检查结果</label>"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px",id:"pa-jcjg",type:"text",placeholder:"请输入主要检查结果"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>治疗经过、下一步治疗方案及康复建议</label>"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px",id:"pa-zljg",type:"text",placeholder:"治疗方案及康复建议"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>选择随访单</label>"),"\n                ",HTML.SELECT({id:"pa-visit"},"\n                    ",Blaze.Each(function(){return Spacebars.call(e.lookup("feilds"))},function(){return["\n                    ",HTML.OPTION({value:function(){return Spacebars.mustache(e.lookup("_id"))},selected:"true"},Blaze.View("lookup:shortname",function(){return Spacebars.mustache(e.lookup("shortname"))})),"\n                    "]}),"\n                    ",HTML.Raw('<option value="other">定制随访单</option>'),"\n                "),"\n            "),"\n            ",HTML.Raw('<div class="ff-btn-group" style="margin-top:20px">\n                <div class="ff-btn" id="pa-create">确认回转</div>\n            </div>'),"\n        "),"\n    ")})},"template.detail.js":function(){Template.__checkName("reciveDetail"),Template.reciveDetail=new Template("Template.reciveDetail",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                转诊单详情\n                ",HTML.Raw('<a href="/referral" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>'),"\n                ",HTML.A({href:function(){return["/recive/step?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"right",style:"font-size:14px;width:100px;padding-right:10px;"},"进度 ",HTML.Raw('<i class="fa fa-angle-right"></i>')," "),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n            ",HTML.Raw("<!-- {{>userdetail}} -->"),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>姓名</label>"),"\n                ",HTML.INPUT({id:"personName",disabled:"true",style:"padding-left:0 !important",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"name"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>性别</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.sex",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"sex"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>出生日期</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.brithday",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"brithday"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>身份证号码</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.no",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"no"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>地址</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.address",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"address"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>联系方式</label>"),"\n                ",HTML.INPUT({id:"personTel",disabled:"true",style:"padding-left:0 !important",type:"tel",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"tel"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>紧急联系人</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.urgent",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"urgent"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>血型</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.blood",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"blood"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>RH血型</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.urgent",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"urgent"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>慢性病患病情况</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.chronic",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"chronic"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>过敏史</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.allergy",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"allergy"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>其他</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.other",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"other"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>现在主要病史(转出原因)</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.yname",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","yname"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>主要既往史</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.jws",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","jws"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>治疗经过</label>"),"\n                ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:ref.person.zljg",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","zljg"))})),"\n                ",HTML.Raw("<hr>"),"\n            "),"\n            ",HTML.Raw('<!-- <div class="ff-line">\n                <label>医师建议</label>\n                <div class="ff-text">{{ref.person.suggest}}</div>\n                <hr/>\n            </div> -->'),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>检查数据</label>"),"\n                ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("ref"),"person","pictures"))},function(){return["\n                ",HTML.IMG({src:function(){return Spacebars.mustache(e.lookup("."))},width:"100%"})," "]}),"\n            "),"\n        "),"\n    "),HTML.Raw("\n    <!-- 判断状态 checkMaster checkPay -->\n    "),Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("ref"),"checkMaster"))},function(){return["\n    ",HTML.A({href:function(){return["/recive/create?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"rd-footer"},HTML.I({"class":"fa fa-rqcode"}),"  回转 ")," "]},function(){return[" ",Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("ref"),"checkPay"))},function(){return["\n    ",HTML.A({href:function(){return["/recive/confirm/agree?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},id:"reciveBtn","class":"rd-left-footer",style:"width:50%;float:left;"},"接受 "),"\n    ",HTML.A({href:function(){return["/recive/confirm/disagree?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"rd-right-footer",style:"width:50%;float:right;"},"拒绝 ")," "]},function(){return["\n    ",HTML.A({href:function(){return["/referral/qrcode?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"rd-footer"},HTML.I({"class":"fa fa-rqcode"}),"  付款 ")," "]})," "]})]})},"template.disagree.js":function(){Template.__checkName("reciveConfirmDisagree"),Template.reciveConfirmDisagree=new Template("Template.reciveConfirmDisagree",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n                拒绝接诊\n                ",HTML.A({href:function(){return["/recive/confirm?id=",Spacebars.mustache(e.lookup("refid"))]},"class":"left",style:"font-size:18px;width:100px;padding-right:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),"\n        ",HTML.DIV({"class":"ff-form",style:"padding-bottom:50px;"},"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>拒绝原因</label>"),"\n                ",HTML.Raw('<!-- <input id="rca-reason" type="text" placeholder="拒绝原因" /> -->'),"\n                ",HTML.TEXTAREA({id:"rca-reason",type:"text",placeholder:""}),"\n            "),"\n           \n            ",HTML.Raw('<div class="ff-btn-group">\n                <div class="ff-btn" id="pa-create">确认</div>\n            </div>'),"\n        "),"\n    ")})},"template.index.js":function(){Template.__checkName("recive"),Template.recive=new Template("Template.recive",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.Raw('<header>\n            <div class="header">\n                接诊\n                <a href="/" class="left" style="font-size:18px;width:100px;padding-left:10px"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>'),"\n        ",HTML.Raw("<!-- 接诊的状态 waitfor myrefs coms -->"),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("waitfor"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#fd781f;"},HTML.I({"class":"fa fa-thumb-tack "})," 待接诊  ",HTML.B("您有",Blaze.View("lookup:count",function(){return Spacebars.mustache(e.lookup("count"),e.lookup("waitfor"))}),"条待接诊消息")),"\n        ",HTML.DIV({"class":"recive-block"},"\n        	",Blaze.Each(function(){return Spacebars.call(e.lookup("waitfor"))},function(){return["\n        	",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("master")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n        	"]}),"\n        "),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("myrefs"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1f8ffd;"},HTML.I({"class":"fa fa-thumb-tack "})," 已接诊 "),"\n        ",HTML.DIV({"class":"recive-block"},"\n        	",Blaze.Each(function(){return Spacebars.call(e.lookup("myrefs"))},function(){return["\n        	",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("master")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n        	"]}),"\n        "),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("visits"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1ffdbc;"},HTML.I({"class":"fa fa-thumb-tack "})," 已完成 "),"\n        ",HTML.DIV({"class":"recive-block"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("coms"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("master")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n            "]}),"\n        "),"\n        "]}),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("coms"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1ffdbc;"},HTML.I({"class":"fa fa-thumb-tack "})," 已完成 "),"\n        ",HTML.DIV({"class":"recive-block"},"\n        	",Blaze.Each(function(){return Spacebars.call(e.lookup("coms"))},function(){return["\n        	",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("master")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n        	"]}),"\n        "),"\n        "]}),"\n    "),"\n     \n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.item.js":function(){Template.__checkName("referralItem"),Template.referralItem=new Template("Template.referralItem",function(){var e=this;return HTML.A({href:function(){return["/recive/detail?id=",Spacebars.mustache(Spacebars.dot(e.lookup("data"),"_id"))]}},"\n        ",HTML.DIV({"class":"r-item _flex"},"\n            ",HTML.DIV({"class":"r-item-info _flex-1"},"\n                ",HTML.DIV({"class":"_flex"},"\n                    ",HTML.DIV({"class":"r-item-letter ",style:function(){return["background-color:#",Spacebars.mustache(e.lookup("randomColor"),Spacebars.dot(e.lookup("data"),"person","name"))]}}," ",Blaze.View("lookup:fl",function(){return Spacebars.mustache(e.lookup("fl"),Spacebars.dot(e.lookup("data"),"person","name"))})),"\n                    ",HTML.DIV({"class":"r-item-line _flex-1"},"\n                        ",HTML.B(Blaze.View("lookup:format3",function(){return Spacebars.mustache(e.lookup("format3"),Spacebars.dot(e.lookup("data"),"createAt"))})),"\n                        ",HTML.DIV({"class":"r-item-name"},Blaze.View("lookup:data.person.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"person","name"))})),"\n                    "),"\n                "),"\n                ",HTML.DIV({"class":"r-item-hospital"},"\n                    ",HTML.Raw('<i class="fa fa-hospital-o "></i>')," ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("role"),"master")},function(){return[" ",Blaze.View("lookup:data.creater.parentRegionName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","parentRegionName"))})," ",Blaze.View("lookup:data.creater.regionName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","regionName"))})," ",Blaze.View("lookup:data.creater.hospitalName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","hospitalName"))})," ",Blaze.View("lookup:data.creater.departmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","departmentName"))})," ",Blaze.View("lookup:data.creater.sdepartmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"creater","sdepartmentName"))})," "]},function(){return[" ",Blaze.View("lookup:data.master.parentRegionName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","parentRegionName"))})," ",Blaze.View("lookup:data.master.regionName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","regionName"))})," ",Blaze.View("lookup:data.master.hospitalName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","hospitalName"))})," ",Blaze.View("lookup:data.master.departmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","departmentName"))})," ",Blaze.View("lookup:data.master.sdepartmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"master","sdepartmentName"))})," "]}),"\n                "),"\n            "),"\n            ",HTML.Raw('<div class="r-item-btn">\n                <div class="r-right"><i class="fa fa-angle-right"></i></div>\n            </div>'),"\n        "),"\n    ")})},"template.step.js":function(){Template.__checkName("reciveStep"),Template.reciveStep=new Template("Template.reciveStep",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n                转诊进度\n                <a onclick="backaction()" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        '),Spacebars.With(function(){return Spacebars.call(e.lookup("ref"))},function(){return["\n             ",Blaze.If(function(){return Spacebars.call(e.lookup("visitAt"))},function(){return["\n                \n                ",HTML.DIV({"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "}," ",Blaze.View("lookup:format2",function(){return Spacebars.mustache(e.lookup("format2"),e.lookup("visitAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                        随访\n                        ",HTML.Comment(' <div class="step-block">随访单</div> '),"\n                    "),"\n                    ",HTML.DIV({"class":"step-slipt"}),"\n                "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("caseAt"))},function(){return["\n                \n                ",HTML.DIV({"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "},"  ",Blaze.View("lookup:format2",function(){return Spacebars.mustache(e.lookup("format2"),e.lookup("caseAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                        回转\n                        ",HTML.Comment(' <div class="step-block">回转单</div> '),"\n                    "),"\n                    ",HTML.DIV({"class":"step-slipt"}),"\n                "),"\n            "]}),"\n             ",Blaze.If(function(){return Spacebars.call(e.lookup("orderAt"))},function(){return["\n                \n                ",HTML.DIV({"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "},"  ",Blaze.View("lookup:format2",function(){return Spacebars.mustache(e.lookup("format2"),e.lookup("orderAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                        患者就诊\n                    "),"\n                    ",HTML.DIV({"class":"step-slipt"}),"\n                "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("masterAt"))},function(){return["\n               \n                ",HTML.DIV({
"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "},"  ",Blaze.View("lookup:format2",function(){return Spacebars.mustache(e.lookup("format2"),e.lookup("masterAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                    接诊成功 ",Blaze.If(function(){return Spacebars.call(e.lookup("checkTime"))},function(){return[" ",HTML.A({"class":"step-time-modi",href:function(){return["/recive/time?id=",Spacebars.mustache(e.lookup("_id"))]}},"修改就诊时间")]}),"\n                        ",HTML.Comment(' <div class="step-block">接诊医院、医师</div> '),"\n                    "),"\n                    ",HTML.DIV({"class":"step-slipt"}),"\n                "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("payAt"))},function(){return["\n               \n                ",HTML.DIV({"class":"step _flex"},"\n                    ",HTML.DIV({"class":"step-time "}," ",Blaze.View("lookup:format2",function(){return Spacebars.mustache(e.lookup("format2"),e.lookup("payAt"))})),"\n                    ",HTML.DIV({"class":"step-info _flex-1"},"\n                       患者确认\n                        ",HTML.Comment(' <div class="step-block">患者确认协议</div> '),"\n                    "),"\n                    ",HTML.DIV({"class":"step-slipt"}),"\n                "),"\n            "]}),"\n            ",Blaze.If(function(){return Spacebars.call(e.lookup("createAt"))},function(){return["\n            ",HTML.DIV({"class":"step _flex"},"\n                ",HTML.DIV({"class":"step-time "},Blaze.View("lookup:format2",function(){return Spacebars.mustache(e.lookup("format2"),e.lookup("createAt"))})),"\n                ",HTML.DIV({"class":"step-info _flex-1"},"\n                    向上转诊\n                    ",HTML.Comment(' <div class="step-block">转诊单</div> '),"\n                "),"\n                ",HTML.DIV({"class":"step-slipt"}),"\n            "),"\n            "]}),"\n        "]}),"\n    ")})},"template.time.js":function(){Template.__checkName("reciveTime"),Template.reciveTime=new Template("Template.reciveTime",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.HEADER("\n            ",HTML.DIV({"class":"header"},"\n               修改就诊时间\n                ",HTML.A({href:function(){return["/recive/step?id=",Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"_id"))]},"class":"left",style:"font-size:18px;width:100px;padding-right:10px;"},HTML.Raw('<i class="fa fa-angle-left"></i>')),"\n            "),"\n        "),HTML.Raw('\n        <div class="ff-form" style="padding-bottom:50px;">\n            <div class="ff-line">\n                <label>就诊日期</label>\n                <input id="rca-date" type="date">\n            </div>\n            <div class="ff-line">\n                <label>就诊时间</label>\n                <select id="rca-time">\n                    <option value="8:00">8:00</option>\n                    <option value="8:30">8:30</option>\n                    <option value="9:00">9:00</option>\n                    <option value="9:30">9:30</option>\n                    <option value="10:00">10:00</option>\n                    <option value="10:30">10:30</option>\n                    <option value="11:00">11:00</option>\n                    <option value="11:30">11:30</option>\n                    <option value="12:00">12:00</option>\n                    <option value="13:00">13:00</option>\n                    <option value="13:30">13:30</option>\n                    <option value="14:00">14:00</option>\n                    <option value="14:30">14:30</option>\n                    <option value="15:00">15:00</option>\n                    <option value="15:30">15:30</option>\n                    <option value="16:00">16:00</option>\n                    <option value="16:30">16:30</option>\n                    <option value="17:00">17:00</option>\n                    <option value="17:30">17:30</option>\n                    <option value="18:00">18:00</option>\n                </select>\n            </div>\n            <div class="ff-btn-group">\n                <div class="ff-btn" id="pa-create">确认修改</div>\n            </div>\n        </div>\n    '))})},"agree.js":function(){Template.reciveConfirmAgree.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.reciveConfirmAgree.helpers({refid:function e(){return FlowRouter.getQueryParam("id")}}),Template.reciveConfirmAgree.events({"click #pa-create":function n(){if(!$("#rca-date").val())return alert("请选择接诊日期"),!1;var e={checkMaster:1,masterAt:new Date,orderAt:new Date($("#rca-date").val()+" "+$("#rca-time").val())};Referrals.update({_id:FlowRouter.getQueryParam("id")},{$set:e}),alert("上转单已确认"),FlowRouter.go("/recive")}})},"confirm.js":function(){Template.reciveConfirm.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.reciveConfirm.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.reciveConfirm.events({})},"create.js":function(){Template.reciveCreate.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id")),this.subscribe("myFeilds",facc.user()._id),this.subscribe("cases",{onReady:function e(){loading.hide()}})}),Template.reciveCreate.helpers({cases:function e(){return Cases.find()},settings:function n(){return{limit:10,rules:[{token:"",collection:Cases,field:"yname",matchAll:!0,template:Template.serverCollectionPill}]}},ref:function t(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})},feilds:function a(){return Feilds.find({},{sort:{share:-1,createAt:-1}})},shortname:function r(){return this.title}}),Template.reciveCreate.events({"change #pa-visit":function o(){"other"==$("#pa-visit").val()&&FlowRouter.go("/feild/create?frt=/task/create")},"click #pa-create":function i(){var e={zdjg:$(".pa-zdjg").val(),jcjg:$("#pa-jcjg").val(),zljg:$("#pa-zljg").val(),checkCase:1,caseAt:new Date};if(!e.zdjg)return alert("请输入ICD编码、首写字母"),!1;if(!e.jcjg)return alert("请输入主要检查结果"),!1;if(!e.zljg)return alert("请输入治疗方案及康复建议"),!1;var n=Feilds.findOne({_id:$("#pa-visit").val()});n||alert("请选择随访单");var t=Referrals.findOne({_id:FlowRouter.getQueryParam("id")});Referrals.update({_id:FlowRouter.getQueryParam("id")},{$set:e}),Visits.insert({person:t.person,referral:t._id,fid:n._id,createAt:new Date,creater:t.master,executer:t.creater,checkVisit:0,objs:n.objs,status:1}),Feilds.update({_id:n._id},{$inc:{num:1}}),alert("转诊单已回传"),FlowRouter.go("/recive")},"autocompleteselect #autocomplete-input":function l(e,n,t){Session.set("yname",t.name),$("#autocomplete-input").val(t.name)}})},"detail.js":function(){Template.reciveDetail.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}}),this.subscribe("userdetail",FlowRouter.getQueryParam("id"))}),Template.reciveDetail.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})},person:function n(){return Persons.findOne()}}),Template.reciveDetail.events({"click #reciveBtn":function t(){var e=$("#personName").val(),n=$("#personTel").val();Meteor.call("sendInfo",{tel:n,username:e},function(e){console.log(e)}),alert("短信已发送给患者")}})},"disagree.js":function(){Template.reciveConfirmDisagree.onCreated(function(){loading.hide()}),Template.reciveConfirmDisagree.helpers({refid:function e(){return FlowRouter.getQueryParam("id")}}),Template.reciveConfirmDisagree.events({"click #pa-create":function n(){if(!$("#rca-reason").val())return alert("请填写拒绝原因"),!1;var e={checkRef:1,erfAt:new Date,reason:$("#rca-reason").val()};Referrals.update({_id:FlowRouter.getQueryParam("id")},{$set:e}),alert("上转单已拒绝"),FlowRouter.go("/recive")}})},"index.js":function(){Template.recive.onCreated(function(){this.subscribe("doctorReferrals",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.recive.helpers({waitfor:function e(){return Referrals.find({checkRef:0,checkMaster:0}).fetch()},myrefs:function n(){return Referrals.find({checkMaster:1,checkCase:0}).fetch()},refs:function t(){return Referrals.find({checkRef:1}).fetch()},coms:function a(){return Referrals.find({checkComp:1}).fetch()},count:function r(e){return e?e.length:0}}),Template.recive.events({})},"item.js":function(){Template.referralItem.helpers({isWaitfor:function e(n,t){return 0==n&&0==t?!0:!1},isPay:function n(e){return console.log(e),1==e?!0:!1}})},"step.js":function(){Template.reciveStep.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.reciveStep.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})},checkTime:function n(){if(this.orderAt){var e=new Date(this.orderAt),n=new Date;if(e.getYear()+e.getMonth()+e.getDate()==n.getYear()+n.getMonth()+n.getDate())return!1;if(e>n)return!0}}}),Template.reciveStep.events({})},"time.js":function(){Template.reciveTime.onCreated(function(){loading.hide()}),Template.reciveTime.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})}}),Template.reciveTime.events({"click #pa-create":function n(){if(!$("#rca-date").val())return alert("请选择接诊日期"),!1;var e={checkMaster:1,masterAt:new Date,orderAt:new Date($("#rca-date").val()+" "+$("#rca-time").val())};Referrals.update({_id:FlowRouter.getQueryParam("id")},{$set:e}),alert("时间已修改"),FlowRouter.go("/recive/step?id="+FlowRouter.getQueryParam("id"))}})}},referral:{"template.agreemet.js":function(){Template.__checkName("agreenment-user"),Template["agreenment-user"]=new Template("Template.agreenment-user",function(){var e=this;return HTML.Raw("<div>     <h3>云医联盟平台服务协议</h3> \n\n\n\n <p>•	提示条款</p>\n<hr>\n<p>欢迎您与云医联盟平台（详见定义条款）共同签署本《云医联盟平台服务协议》（下称“本协议”）并使用云医联盟平台服务！<p><hr>\n\n<p>各服务条款前所列索引关键词仅为帮助您理解该条款表达的主旨之用，不影响或限制本协议条款的含义或解释。为维护您自身权益，建议您仔细阅读各条款具体表述。</p>\n\n<p>【审慎阅读】您在申请注册流程中点击同意本协议之前，应当认真阅读本协议。请您务必审慎阅读、充分理解各条款内容，特别是免除或者限制责任的条款、法律适用和争议解决条款。免除或者限制责任的条款将以粗体下划线标识，您应重点阅读。如您对协议有任何疑问，可向云医联盟平台客服咨询。</p>\n\n<p>【签约动作】当您按照注册页面提示填写信息、阅读并同意本协议且完成全部注册程序后，即表示您已充分阅读、理解并接受本协议的全部内容，并与云医联盟达成一致，成为云医联盟平台“用户”。阅读本协议的过程中，如果您不同意本协议或其中任何条款约定，您应立即停止注册程序。</p>\n\n\n<p>一、 定义</p>\n\n<p>云医联盟平台：指云医联盟手机客户端、患者H5界面及微信公众号。</p>\n\n<p>云医联盟：指云医联盟平台经营者医攻略（北京）健康科技有限公司的单称。</p>\n\n<p>云医联盟平台服务：云医联盟基于互联网，以包含云医联盟平台官方网站、手机客户端等在内的各种形态（包括未来技术发展出现的新的服务形态）向您提供的各项服务。</p>\n\n<p>云医联盟平台规则：包括在所有云医联盟平台规则频道内已经发布及后续发布的全部规则、解读、公告等内容以及各平台在讨论组、帮助中心内发布的各类规则、实施细则、产品流程说明、公告等。</p>\n\n<p>云医联盟规则：云医联盟规则频道列明的各项规则。</p>\n\n<p>关联公司：除云医联盟外其他的关联经营者的单称或合称。</p>\n\n<p>同一用户：使用同一身份认证信息或经云医联盟排查认定多个云医联盟账户的实际控制人为同一人的，均视为同一用户。</p>\n<p>医生：云医联盟平台注册认证的医生本人。</p>\n<p>患者：通过患者h5界面使用云医联盟服务的患者本人。</p>\n<p>用户：指云医联盟平台内的所有用户，包括但不限于医生和患者。</p>\n\n<h4>二、 协议范围</h4>\n\n<p>2.1 签约主体</p>\n\n<p>【平等主体】本协议由您与云医联盟平台经营者共同缔结，本协议对您与云医联盟平台经营者均具有合同效力。</p>\n\n<p>【主体信息】云医联盟平台经营者是指经营云医联盟平台的各法律主体，您可随时查看云医联盟平台各认证主体的证照信息以确定与您履约的云医联盟主体。本协议项下，云医联盟平台经营者可能根据云医联盟平台的业务调整而发生变更，变更后的云医联盟平台经营者与您共同履行本协议并向您提供服务，云医联盟平台经营者的变更不会影响您本协议项下的权益。云医联盟平台经营者还有可能因为提供新的云医联盟平台服务而新增，如您使用新增的云医联盟平台服务的，视为您同意新增的云医联盟平台经营者与您共同履行本协议。发生争议时，您可根据您具体使用的服务及对您权益产生影响的具体行为对象确定与您履约的主体及争议相对方。</p>\n\n<p>2.2补充协议</p>\n\n<p>由于互联网高速发展，您与云医联盟签署的本协议列明的条款并不能完整罗列并覆盖您与云医联盟所有权利与义务，现有的约定也不能保证完全符合未来发展的需求。因此，云医联盟平台法律声明及隐私权政策、云医联盟平台规则均为本协议的补充协议，与本协议不可分割且具有同等法律效力。如您使用云医联盟平台服务，视为您同意上述补充协议。</p>\n\n\n<h4>三、 账户注册与使用</h4>\n\n<p>3.1 用户资格</p>\n\n<p>您确认，在您开始注册程序使用云医联盟平台服务前，您应当具备中华人民共和国法律规定的与您行为相适应的民事行为能力。若您不具备前述与您行为相适应的民事行为能力，则您及您的监护人应依照法律规定承担因此而导致的一切后果。</p>\n\n<p>3.2 账户说明</p>\n\n<p>【账户获得】当您按照注册页面提示填写信息、阅读并同意本协议且完成全部注册程序后，您可获得云医联盟平台账户并成为云医联盟平台用户。</p>\n<p>云医联盟平台只允许每位用户使用一个云医联盟平台账户。如有证据证明或云医联盟平台有理由相信您存在不当注册或不当使用多个云医联盟平台账户的情形，云医联盟平台可采取冻结或关闭账户、列入黑名单、拒绝提供服务等措施，如给云医联盟平台及相关方造成损失的，您还应承担赔偿责任。</p>\n\n<p>【账户使用】您有权使用您设置或确认的云医联盟会员名、身份证信息、手机号码（以下简称“账户名称”）及您设置的密码（账户名称及密码合称“账户”）登录云医联盟平台。</p>\n<p>由于您的云医联盟账户关联您的个人信息及云医联盟平台医疗健康信息，您的云医联盟账户仅限您本人使用。未经云医联盟平台同意，您直接或间接授权第三方使用您云医联盟账户或获取您账户项下信息的行为无效。如云医联盟平台判断您云医联盟账户的使用可能危及您的账户安全及或云医联盟平台信息安全的，云医联盟平台可拒绝提供相应服务或终止本协议。</p>\n\n<p>【账户转让】由于云医联盟平台是一个医疗健康类信息综合平台，因此禁止任何用户进行账户转让，否则云医联盟平台有权追究您的违约责任，且由此产生的一切责任均由您承担。</p>\n\n<p>【实名认证】作为云医联盟平台经营者，为使您更好地使用云医联盟平台的各项服务，保障您的账户安全，云医联盟可要求您按平台认证要求及我国法律规定完成实名认证。</p>\n\n<p>【不活跃账户回收】如您的账户同时符合以下条件，则云医联盟可回收您的账户，您的账户将不能再登录任一云医联盟平台，相应服务同时终止：</p>\n<p>（一）未绑定通过实名认证的身份信息；\n（二）连续六个月未用于登录任一云医联盟平台；\n（三）不存在未到期的有效业务。</p>\n\n<p>3.3 注册信息管理</p>\n\n<p>3.3.1 真实合法\n【信息真实】在使用云医联盟平台服务时，您应当按云医联盟平台页面的提示准确完整地提供您的信息（包括您的姓名及身份信息、联系电话、联系地址等），以便云医联盟或其他用户与您联系。您了解并同意，您有义务保持您提供信息的真实性及有效性。</p>\n\n<p>【会员名的合法性】您设置的云医联盟会员名不得违反国家法律法规及云医联盟规则关于会员名的管理规定，否则云医联盟可回收您的云医联盟会员名。云医联盟会员名的回收不影响您以身份证信息、手机号码登录云医联盟平台并使用云医联盟平台服务。</p>\n\n<p>3.3.2 更新维护\n您应当及时更新您提供的信息，在法律有明确规定要求云医联盟作为平台服务提供者必须对部分用户（如平台医生等）的信息进行核实的情况下，云医联盟将依法不时地对您的信息进行检查核实，您应当配合提供最新、真实、完整、有效的信息。</p>\n<p>如云医联盟按您最后一次提供的信息与您联系未果、您未按云医联盟的要求及时提供信息、您提供的信息存在明显不实或行政司法机关核实您提供的信息无效的，您将承担因此对您自身、他人及云医联盟造成的全部损失与不利后果。云医联盟可向您发出询问或要求整改的通知，并要求您进行重新认证，直至中止、终止对您提供部分或全部云医联盟平台服务，云医联盟对此不承担责任。</p>\n\n<p>3.4 账户安全规范</p>\n\n<p>【账户安全保管义务】您的账户为您自行设置并由您保管，云医联盟任何时候均不会主动要求您提供您的账户密码。因此，建议您务必保管好您的账户， 并确保您在每个上网时段结束时退出登录并以正确步骤离开云医联盟平台。</p>\n<p>账户因您主动泄露或因您遭受他人攻击、诈骗等行为导致的损失及后果，云医联盟并不承担责任，您应通过司法、行政等救济途径向侵权行为人追偿。</p>\n\n<p>【账户行为责任自负】除云医联盟存在过错外，您应对您账户项下的所有行为结果（包括但不限于在线签署各类协议、发布信息、购买商品及服务及披露信息等）负责。</p>\n\n<p>【日常维护须知】如发现任何未经授权使用您账户登录云医联盟平台或其他可能导致您账户遭窃、遗失的情况，建议您立即通知云医联盟，并授权云医联盟将该信息同步给官方网站及微信公众号。您理解云医联盟对您的任何请求采取行动均需要合理时间，且云医联盟应您请求而采取的行动可能无法避免或阻止侵害后果的形成或扩大，除云医联盟存在法定过错外，云医联盟不承担责任。</p>\n\n\n<h4>四、 云医联盟平台服务及规范</h4>\n\n<p>【服务概况】您有权在云医联盟平台上享受转诊、接诊、随访、患者管理、讨论组发起等服务。云医联盟提供的服务内容众多，具体您可登录云医联盟平台浏览。</p>\n\n<p>4.1 转诊</p>\n\n<p>【转诊（上转）】通过在云医联盟，您可以将自己的患者根据实际情况转诊到上一级专科医院或综合医院就诊，转诊（上转）过程中，您需要如实地填写《转诊（上转）单》，并经过患者确认许可，上传患者的病历数据和检查数据，同时需要完善患者的《个人健康档案》。</p>\n<p>【转诊（回转）】患者在诊后或术后，上级医院的接诊医生需要填写详细的《转诊（回转）单》，以便于下级医院或社区医院或乡镇卫生院或诊所的医生更好地对患者进行诊后或术后的观察、治疗、复查等。</p>\n<p>【转诊（随访）】在上级医院的医生填写完《转诊（回转）单》后，下级医院的医生需对该患者进行一次随访任务，主要针对本次转诊后患者的恢复情况进行一个数据采集的工作。</p>\n<p>至此，本次转诊方算彻底完成。如果在转诊过程中，有服务不到位或者受到患者投诉，或者省略、简化、虚假填写随访记录等行为，或者平台要求填写的相关数据没有准确完整填写的医生，将会影响其信用累积，甚至平台会根据行为的恶劣程度选择关停相关账户或者永不接受其注册等相适应的处罚决定；如果因此引发任何后果或者损失，将由医生本人负责全部损失和承担相应的法律后果，云医联盟平台将概不负责，同时我们将有权追究相关医生的法律责任。</p>\n\n<p>4.2 接诊</p>\n\n<p>【接诊】云医联盟平台内，和平台签署相关《接诊协议》的医生，具备接诊条件。接诊医生需要对每一个《转诊（上转）单》进行详细的处理，如果下级医生提交的转诊资料符合转诊的条件，安排患者的诊疗时间；如果不符合转诊条件或者没有必要转诊，请认真填写处理意见评估建议。</p>\n\n<p>4.3 随访</p>\n\n<p>【随访】云医联盟平台内的医生可以根据自己的实际需要，发布随访任务。在发布随访任务时，需要认真填写任务发布信息，上传患者基本信息、诊疗情况、康复建议、随访模版等相关数据信息，以便于接受随访的医生做出更好的判断和采集更加准确的医疗数据。如因医生发布任务时数据传输的遗漏或者不准确，导致随访数据出现误差或者错误，一切后果将由发布任务的医生自行承担。</p>\n\n<p>【评价】发布任务的医生可以对接受任务的医生的随访结果进行评价，评价结果将会计入医生的信用累计中；如果接受任务医生对评价结果不满或者觉得不符合实际情况，可以联系云医联盟客服进行申述，并提交相关的申述材料。发布任务的医生如果随意或者胡乱评价任务完成的质量，将会影响信用，因此带来的任何后果将有发布任务的医生自己独立承担。</p>\n<p>4.4 患者管理</p>\n<p>【患者管理】医生可以将其他非云医联盟平台的患者添加到患者管理系统，但必须经过患者本人同意，否则造成任何后果，将有医生独立承担。医生在进行患者管理时，需仔细阅读云医联盟平台的《法律声明及隐私权政策》。</p>\n\n<p>4.5 讨论组发起</p>\n<p>【讨论组发起】医生可以对工作中遇到的疾病案例或者行业现象等发起话题讨论，医生发布的内容必须遵守云医联盟平台的《法律声明及隐私权政策》，如果转载他人的内容或文章需注明转载字样，如果出现非法转诊、抄袭、侵害他人版权等违反云医联盟平台《法律声明及隐私权政策》和国家相关法律法规的要求的行为，一切后果将有医生独立承担，平台有权追究相关用户的法律责任。</p>\n\n<p>4.6 费用</p>\n<p>云医联盟为云医联盟平台向用户提供的服务付出了大量的成本，患者在使用时会收取相应的健康管理费用，主要用于患者长期的管理服务，其他服务和产品如无明确标价的均为免费；医生除云医联盟明确标价的产品和服务外，其他均属免费。如未来云医联盟向您收取合理费用，云医联盟会采取合理途径并以足够合理的期限提前通过法定程序并以本协议第八条约定的方式通知您，确保您有充分选择的权利。如果您对云医联盟的任何费用不接受或者有异议，请立即停止使用云医联盟的相关服务，可以联系云医联盟客服进行咨询。</p>\n\n<p>4.7 使用规范</p>\n<p>【使用规范】</p>\n<p>用户在云医联盟使用中的言行需遵守国家法律、法规等规范性文件及爱云医连门的各项规则和要求，不违背社会公共利益或公共道德，不损害他人的合法权益，不违反本协议及相关规则。如果因此产生任何法律后果，用户应独立承担法律责任。</p>\n\n<p>在云医联盟平台内，禁止开展诊断与治疗服务。不得以任何形式提供转诊、接诊、患者管理、随访、讨论组发起、咨询外的医学帮助，且不得影响医生所属医疗机构中的本职工作及其管理规章。医生同意，应确保对患者的任何附随诊断及治疗活动，应在医疗执业机构内进行。讨论组内容仅作为医生学习和参考使用，如在实际的诊断和治疗中进行论证，由此产生任何后果和法律责任均由医生独立承担，云医联盟平台不承担任何相关责任。云医联盟平台不得用于药品、医疗器械及其他未经云医联盟同意的商品或服务的销售和或推广活动。因违反使用规范而使云医联盟与用户与所属医疗机构产生纠纷的，由医生自行承担，云医联盟不负任何法律责任。</p>\n\n<p>在使用云医联盟的过程中，如果发生：(1)对医生提供服务内容及质量存有异议，(2)医生或患者发现任何违反或可能违反本协议及不时制定和修改的用户规则和使用规范的内容或行为，或者其他任何须向云医联盟告知的不当使用情况，医生或患者可以通过以下方式向云医联盟提出投诉或举报：发送邮件至kf@yigonglue.com，并提供上述事件的必要证据材料。云医联盟在收到前述投诉或申诉后，如为服务纠纷，云医联盟可依据情况协调沟通；如为投诉或举报，经核查内容违规或不当属实的，云医联盟应当向事件参与人及时警示告知，对相关内容予以删除或屏蔽，且云医联盟保留因事件性质及严重程度，根据自行判断对该参与人所使用的云医联盟账户予以暂停使用、冻结直至取消该账户资格的权利。对于无法证实投诉或举报内容真实性的，云医联盟及时向投诉人或举报人告知情况。虽有上述规定，云医联盟作为平台方仅协助各方处理争议及投诉举报内容，任何该等事件参与人应自行对该等事件独立承担法律责任。除非云医联盟平台存在故意行为，医生及患者均应对云医联盟就前述事件予以免责（包括但不限于任何损失、损害赔偿、请求、要求、开支、诉讼费用）。</p>\n\n<p>4.8责任限制</p>\n<p>用户理解并同意自主选择、使用云医联盟并风险自负。在任何条件下，云医联盟及附属公司、员工、创建或者维护甲方应用的人员对用户使用本应用或链接本站的第三方网站导致的直接、间接、偶然、特殊、关联性损害或利益损失，或由错误、疏漏、信号中断、文件删除、病毒、网站出错，漏洞导致的直接或间接损害，或由于运行不稳、通信故障、盗窃、破坏或未经授权使用导致的损害不承担任何法律责任。</p>\n\n<p>“云医联盟”中的所有用户上传的患教资料、转诊记录、随访记录、随访模版等内容均由第三方提供。“云医联盟”不对该内容的真实性、有效性承担任何责任，亦不就由此给乙方或用户造成的直接、间接、偶然、特殊、关联性损害或利益损承担任何责任。</p>\n<h4>五、 用户信息的保护及授权</h4>\n\n<p>5.1个人信息的保护</p>\n\n<p>云医联盟非常重视用户个人信息（即能够独立或与其他信息结合后识别用户身份的信息）的保护，在您使用云医联盟提供的服务时，您同意云医联盟按照在云医联盟平台上公布的隐私权政策收集、存储、使用、披露和保护您的个人信息。云医联盟希望通过隐私权政策向您清楚地介绍云医联盟对您个人信息的处理方式，因此云医联盟建议您完整地阅读隐私权政策，以帮助您更好地保护您的隐私权。</p>\n\n<p>5.2非个人信息的保证与授权</p>\n\n<p>【信息的上传与发布】您声明并保证，您对您所上传与发布的信息拥有相应、合法的权利。否则，云医联盟可对您发布的信息依法或依本协议进行删除或屏蔽。</p>\n\n<p>【禁止性信息】您应当确保您所上传与发布的信息不包含以下内容：<br>\n（一）违反国家法律法规禁止性规定的；<br>\n（二）政治宣传、封建迷信、淫秽、色情、赌博、暴力、恐怖或者教唆犯罪的；<br>\n（三）欺诈、虚假、不准确或存在误导性的；<br>\n（四）侵犯他人知识产权或涉及第三方商业秘密及其他专有权利的；<br>\n（五）侮辱、诽谤、恐吓、涉及他人隐私等侵害他人合法权益的；<br>\n（六）存在可能破坏、篡改、删除、影响云医联盟平台任何系统正常运行或未经授权秘密获取云医联盟平台及其他用户的数据、个人资料的病毒、木马、爬虫等恶意软件、程序代码的；<br>\n（七）其他违背社会公共利益或公共道德或依据相关云医联盟平台协议、规则的规定不适合在云医联盟平台上发布的。</p>\n\n<p>【授权使用】对于您提供及发布除个人信息外的文字、图片、视频、音频等非个人信息，在版权保护期内您免费授予云医联盟及其关联公司获得全球排他的许可使用权利及再授权给其他第三方使用的权利。您同意云医联盟及其关联公司存储、使用、复制、修订、编辑、发布、展示、翻译、分发您的非个人信息或制作其派生作品，并以已知或日后开发的形式、媒体或技术将上述信息纳入其它作品内。</p>\n<p>为方便您使用其他相关服务，您授权云医联盟将您在账户注册和使用云医联盟平台服务过程中提供、形成的信息传递给其他相关服务提供者，或其他相关服务提供者获取您在注册、使用相关服务期间提供、形成的信息。</p>\n<p>为了确保患者的转诊等相关服务顺利进行，患者授权医生及云医联盟上传使用在整个转诊过程中所需要的您的病历数据、检查报告、康复建议、治疗计划等相关信息</p>\n\n<h4>六、 用户的违约及处理</h4>\n\n<p>6.1 违约认定</p>\n\n<p>发生如下情形之一的，视为您违约：<br>\n（一）使用云医联盟平台服务时违反有关法律法规规定的；<br>\n（二）违反本协议或本协议补充协议（即本协议第2.2条）约定的。<br>\n（三）医生未按时完成转诊或者随访等任务。<br>\n（四）患者在上级医生接诊后，没按约定的时间就诊。<br>\n为适应移动医疗发展和满足海量信息数据对高效优质服务的需求，您理解并同意，云医联盟可在云医联盟平台规则中约定违约认定的程序和标准。如：云医联盟可依据您的服务服务进度来认定您是否构成违约；您有义务对您的服务异常现象进行充分举证和合理解释，否则将被认定为违约。</p>\n\n<p>6.2 违约处理措施</p>\n\n<p>【信息处理】您在云医联盟平台上发布的信息构成违约的，云医联盟可根据相应规则立即对相应信息进行删除、屏蔽处理或对您的服务权限取消、监管。</p>\n\n<p>【行为限制】您在云医联盟平台上实施的行为，或虽未在云医联盟平台上实施但对云医联盟平台及其用户产生影响的行为构成违约的，云医联盟可依据相应规则对您执行账户扣分、限制服务权限、中止向您提供部分或全部服务、划扣任务奖励或保证金、健康管理费用等处理措施。如您的行为构成根本违约的，云医联盟可查封您的账户，终止向您提供服务。</p>\n\n<p>【处理结果公示】云医联盟可将对您上述违约行为处理措施信息以及其他经国家行政或司法机关生效法律文书确认的违法信息在云医联盟平台上予以公示。</p>\n\n<p>6.3赔偿责任</p>\n\n<p>如您的行为使云医联盟及或其关联公司遭受损失（包括自身的直接经济损失、信誉损失及对外支付的赔偿金、和解款、律师费、诉讼费等间接经济损失），您应赔偿云医联盟及或其关联公司的上述全部损失。</p>\n<p>如您的行为使云医联盟及或其关联公司遭受第三人主张权利，云医联盟及或其关联公司可在对第三人承担金钱给付等义务后就全部损失向您追偿。</p>\n<p>如因您的行为使得第三人遭受损失或您怠于履行调处决定、云医联盟及或其关联公司出于社会公共利益保护或消费者权益保护目的，自您的账户中划扣相应款项进行支付。如您的账户余额或保证金不足以支付相应款项的，您同意委托云医联盟使用自有资金代您支付上述款项，您应当返还该部分费用并赔偿因此造成云医联盟的全部损失。</p>\n<p>您同意云医联盟自您的账户中划扣相应款项支付上述赔偿款项。如您账户中的款项不足以支付上述赔偿款项的，云医联盟及或关联公司可直接抵减您在云医联盟及或其关联公司其它协议项下的权益，并可继续追偿。</p>\n\n<p>6.4特别约定</p>\n\n<p>【商业贿赂】如您向云医联盟及或其关联公司的雇员或顾问等提供实物、现金、现金等价物、劳务、旅游等价值明显超出正常商务洽谈范畴的利益，则可视为您存在商业贿赂行为。发生上述情形的，云医联盟可立即终止与您的所有合作并向您收取违约金及或赔偿金，该等金额以云医联盟因您的贿赂行为而遭受的经济损失和信誉损失作为计算依据。</p>\n\n<p>【关联处理】如您因严重违约导致云医联盟终止本协议时，出于维护平台秩序及保护平台用户权益的目的，云医联盟及或其关联公司可对与您在其他协议项下的合作采取中止甚或终止协议的措施，并以本协议第八条约定的方式通知您。</p>\n<p>如云医联盟与您签署的其他协议及云医联盟及或其关联公司与您签署的协议中明确约定了对您在本协议项下合作进行关联处理的情形，则云医联盟出于维护平台秩序及保护用户权益的目的，可在收到指令时中止甚至终止协议，并以本协议第八条约定的方式通知您。</p>\n\n\n<h4>七、 协议的变更</h4>\n\n<p>云医联盟可根据国家法律法规变化及维护平台秩序、保护用户权益需要，不时修改本协议、补充协议，变更后的协议、补充协议（下称“变更事项”）将通过法定程序并以本协议第八条约定的方式通知您。</p>\n<p>如您不同意变更事项，您有权于变更事项确定的生效日前联系云医联盟反馈意见。如反馈意见得以采纳，云医联盟将酌情调整变更事项。</p>\n<p>如您对已生效的变更事项仍不同意的，您应当于变更事项确定的生效之日起停止使用云医联盟平台服务，变更事项对您不产生效力；如您在变更事项生效后仍继续使用云医联盟平台服务，则视为您同意已生效的变更事项。</p>\n\n\n<h4>八、 通知</h4>\n\n<p>8.1有效联系方式</p>\n\n<p>您在注册成为云医联盟平台用户，并接受云医联盟平台服务时，您应该向云医联盟提供真实有效的联系方式（包括您的电子邮件地址、联系电话、联系地址等），对于联系方式发生变更的，您有义务及时更新有关信息，并保持可被联系的状态。<br>\n您在注册云医联盟平台用户时生成的用于登陆云医联盟平台接收系统消息的会员账号（包括子账号），也作为您的有效联系方式。<br>\n云医联盟将向您的上述联系方式的其中之一或其中若干向您送达各类通知，而此类通知的内容可能对您的权利义务产生重大的有利或不利影响，请您务必及时关注。<br>\n您有权通过您注册时填写的手机号码或者电子邮箱获取您感兴趣的信息；您如果不愿意接收此类信息，您有权通过云医联盟提供的相应的退订功能进行退订。</p>\n\n<p>8.2 通知的送达</p>\n\n<p>云医联盟通过上述联系方式向您发出通知，其中以电子的方式发出的书面通知，包括但不限于在云医联盟平台公告，向您提供的联系电话发送手机短信，向您提供的电子邮件地址发送电子邮件，向您的账号发送系统消息，在发送成功后即视为送达；以纸质载体发出的书面通知，按照提供联系地址交邮后的第五个自然日即视为送达。<br>\n对于在云医联盟平台上因服务活动引起的任何纠纷，您同意司法机关（包括但不限于人民法院）可以通过手机短信、电子邮件等现代通讯方式或邮寄方式向您送达法律文书（包括但不限于诉讼文书）。您指定接收法律文书的手机号码、电子邮箱等联系方式为您在云医联盟平台注册、更新时提供的手机号码、电子邮箱联系方式，司法机关向上述联系方式发出法律文书即视为送达。您指定的邮寄地址为您的法定联系地址或您提供的有效联系地址。<br>\n您同意司法机关可采取以上一种或多种送达方式向您达法律文书，司法机关采取多种方式向您送达法律文书，送达时间以上述送达方式中最先送达的为准。<br>\n您同意上述送达方式适用于各个司法程序阶段。如进入诉讼程序的，包括但不限于一审、二审、再审、执行以及督促程序等。<br>\n你应当保证所提供的联系方式是准确、有效的，并进行实时更新。如果因提供的联系方式不确切，或不及时告知变更后的联系方式，使法律文书无法送达或未及时送达，由您自行承担由此可能产生的法律后果。</p>\n\n\n<h4>九、 协议的终止</h4>\n\n<p>9.1 终止的情形</p>\n\n<p>【用户发起的终止】您有权通过以下任一方式终止本协议：<br>\n（一）在满足云医联盟官方网公示的账户注销条件时您通过网站自助服务注销您的账户的；<br>\n（二）变更事项生效前您停止使用并明示不愿接受变更事项的；<br>\n（三）您明示不愿继续使用云医联盟平台服务，且符合云医联盟终止条件的。</p>\n\n<p>【云医联盟发起的终止】出现以下情况时，云医联盟可以本协议第八条的所列的方式通知您终止本协议：<br>\n（一）您违反本协议约定，云医联盟依据违约条款终止本协议的；<br>\n（二）您盗用他人账户、发布违禁信息、骗取他人财物、售假、扰乱平台秩序、采取不正当手段谋利等行为，云医联盟依据云医联盟平台规则对您的账户予以查封的；<br>\n（三）除上述情形外，因您多次违反云医联盟平台规则相关规定且情节严重，云医联盟依据云医平台规则对您的账户予以查封的；<br>\n（四）您的账户被云医联盟依据本协议回收的；<br>\n（五）您在云医联盟平台有欺诈、发布或销售假冒伪劣侵权商品、侵犯他人合法权益或其他严重违法违约行为的；<br>\n（六）其它应当终止服务的情况。</p>\n\n<p>9.2 协议终止后的处理</p>\n\n【用户信息披露】本协议终止后，除法律有明确规定外，云医联盟无义务向您或您指定的第三方披露您账户中的任何信息。<br>\n\n【云医联盟权利】本协议终止后，云医联盟仍享有下列权利：<br>\n（一）继续保存您留存于云医联盟平台的本协议第五条所列的各类信息；<br>\n（二）对于您过往的违约行为，云医联盟仍可依据本协议向您追究违约责任。<br>\n\n<p>【服务处理】本协议终止后，对于您在本协议存续期间产生的服务订单，云医联盟可通知服务相对方并根据服务相对方的意愿决定是否关闭该等服务订单；如交易相对方要求继续履行的，则您应当就该等服务订单继续履行本协议及服务订单的约定，并承担因此产生的任何损失或增加的任何费用。</p>\n\n\n<h4>十、 法律适用、管辖与其他</h4>\n\n<p>【法律适用】本协议之订立、生效、解释、修订、补充、终止、执行与争议解决均适用中华人民共和国大陆地区法律；如法律无相关规定的，参照商业惯例及或行业惯例。</p>\n\n<p>【管辖】您因使用云医联盟平台服务所产生及与云医联盟平台服务有关的争议，由云医联盟与您协商解决。协商不成时，任何一方均可向被告所在地人民法院提起诉讼。</p>\n\n【可分性】本协议任一条款被视为废止、无效或不可执行，该条应视为可分的且并不影响本协议其余条款的有效性及可执行性。</p>\n  \n</p>\n</div>")})},"template.create.js":function(){Template.__checkName("referralUploadCreate"),Template.referralUploadCreate=new Template("Template.referralUploadCreate",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n                上转单 \n                <a href="/referral" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        '),HTML.DIV({"class":"ff-form"},"\n            ",Spacebars.include(e.lookupTemplate("personSelector")),"\n            ",Blaze._TemplateWith(function(){return{type:Spacebars.call("only")}},function(){return Spacebars.include(e.lookupTemplate("departmentSelector"))})," \n            ",HTML.DIV({"class":"ff-line input autoc"},"\n                ",HTML.Raw("<label>现在主要病史(转出原因)</label>"),"\n                ",Blaze._TemplateWith(function(){return{settings:Spacebars.call(e.lookup("settings")),id:Spacebars.call("autocomplete-input"),placeholder:Spacebars.call("请输入ICD编码或首字母")}},function(){return Spacebars.include(e.lookupTemplate("inputAutocomplete"),function(){return" "})}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>主要既往史</label>"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",rows:"1",id:"pa-jws",type:"text",placeholder:"请输入主要既往史"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>治疗经过</label>"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",rows:"1",id:"pa-zljg",type:"text",placeholder:"请输入治疗经过"}),"\n            "),"\n            ",Spacebars.include(e.lookupTemplate("picturesSelector")),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>医师建议</label>"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",rows:"1",id:"pa-suggest",type:"text",placeholder:"请输入医师建议"}),"\n            "),"\n            ",HTML.Raw('<div class="ff-btn-group" style="margin-top:8px">\n                <div class="ff-btn" id="pa-create">确认转诊</div>\n            </div>'),"\n        "),"\n    ")}),Template.__checkName("serverCollectionPill"),Template.serverCollectionPill=new Template("Template.serverCollectionPill",function(){var e=this;return Blaze.View("lookup:name",function(){return Spacebars.mustache(e.lookup("name"))})})},"template.fqa.js":function(){Template.__checkName("referralFqa"),Template.referralFqa=new Template("Template.referralFqa",function(){var e=this;return HTML.Raw('<div class="page page-with-header-footer ">\n        <header>\n            <div class="header">\n                常见问题\n                <a href="/referral" class="left" style="font-size:18px;width:100px;padding-right:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        <div class="content" style="margin:0px 15px 0px 15px;">\n            <h1><strong>转诊</strong></h1>\n\n            <div class="ziti">\n                &nbsp;&nbsp;1、基层转诊医生，必须在获得患者许可的情况下，方可使用本软件上传患者的检查数据，同时需要严格遵守平台的《法律声明及隐私权政策》。如果发生任何患者投诉的情况，我们会根据实际情况，会对注册医生进行账号封停三个月、半年、永久封停或者追究法律责任等处罚决定。\n                <br> &nbsp;&nbsp;2、基层转诊医生，应在给患者转诊时，明确告知患者转诊的流程，并真实准确地填写转诊数据。\n                <br> &nbsp;&nbsp;3、基层转诊医生，可以通过“转诊”页面查看每一个患者的转诊进度，好配合接诊医生完成后续的其他任务。\n                <br> &nbsp;&nbsp;4、基层转诊医生，需在接诊医生完成治疗并填写《回转单》后1个月内完成对患者的随访任务，并真实填写随访数据，如果基层转诊医生未按要求进行随访，平台会扣除相应部分奖励，作为处罚，扣除奖励部分将发放给后续接替完成随访任务的医生。\n                <br> &nbsp;&nbsp;5、接诊医生在收到转诊单后，需要及时处理。针对基层医生所填写的转诊数据，根据实际情况，确实是否接诊。如果接诊，需要填写接诊的时间安排；如果拒绝，需要认真填写评估建议和拒绝的原因。\n                <br> &nbsp;&nbsp;6、接诊医生完成治疗后，需要认真填写回转单，就患者治疗的情况、下一步治疗方案、康复建议等情况进行如实详细填写，以便于基层医生高质量地完成随访任务，以及接诊医生更好地去管理、监控患者健康数据。\n                <br>\n            </div>\n        </div>\n    </div>')})},"template.index.js":function(){Template.__checkName("referralIndex"),Template.referralIndex=new Template("Template.referralIndex",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer "},"\n        ",HTML.Raw('<header>\n            <div class="header">\n                 我的转诊单<a href="/referral/fqa" class="header-icon-txt"><i class="fa fa-question-circle"></i></a>\n                <a href="/" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n                <a href="/referral/upload/create" class="right" style="font-size:14px;width:100px;padding-right:10px;">新建</a>\n            </div>\n        </header>'),"\n        ",HTML.Raw("<!-- 转诊单里的状态  -->"),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("unpays"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#77685e;"},HTML.I({"class":"fa fa-thumb-tack "})," 待付款  ",HTML.B("您有",Blaze.View("lookup:count",function(){return Spacebars.mustache(e.lookup("count"),e.lookup("unpays"))}),"个待付款转诊单")),"\n        ",HTML.DIV({"class":"recive-block"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("unpays"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("doctor")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n            "]}),"\n        "),"\n        "]}),"\n         ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("waitfor"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#fd781f;"},HTML.I({"class":"fa fa-thumb-tack "})," 已付款  ",HTML.B("您有",Blaze.View("lookup:count",function(){return Spacebars.mustache(e.lookup("count"),e.lookup("waitfor"))}),"个已付款转诊单")),"\n        ",HTML.DIV({"class":"recive-block"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("waitfor"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("doctor")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n            "]}),"\n        "),"\n        "]})," \n       ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("myrefs"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1f8ffd;"},HTML.I({"class":"fa fa-thumb-tack "})," 已接诊  ",HTML.B("您有",Blaze.View("lookup:count",function(){return Spacebars.mustache(e.lookup("count"),e.lookup("myrefs"))}),"个已接诊转诊单")),"\n        ",HTML.DIV({"class":"recive-block"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("myrefs"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("doctor")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n            "]}),"\n        "),"\n        "]})," \n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("coms"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1ffdbc;"},HTML.I({"class":"fa fa-thumb-tack "})," 已完成 "),"\n        ",HTML.DIV({"class":"recive-block"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("coms"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("doctor")}},function(){return Spacebars.include(e.lookupTemplate("referralItem"))}),"\n            "]}),"\n        "),"\n        "]}),"\n    "),"\n     \n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.pay.js":function(){Template.__checkName("referralPay"),Template.referralPay=new Template("Template.referralPay",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n              转诊单付款信息\n            </div>\n        </header>\n        <!-- 判断是否支付 checkPay -->\n        '),Blaze.If(function(){return Spacebars.call(Spacebars.dot(e.lookup("ref"),"checkPay"))},function(){return["\n            ",HTML.DIV({"class":"ff-form   animated flip ff-form-success"},"\n                ",HTML.DIV({"class":"rp-success"},"\n                ",HTML.I({"class":"fa fa-check-circle-o"}),"\n                支付成功 已提交转诊单\n                "),"\n            "),"\n        "]},function(){return["\n        ",HTML.DIV({"class":"ff-form ff-form-show  animated flip"},"\n            \n            ",HTML.DIV("\n            ",HTML.DIV({"class":"rp-price"},"需要支付 ",HTML.BR()," ",HTML.B({id:"rp-price"},"0.01"),"元"),"\n\n            ",HTML.DIV({"class":"rp-notice"},HTML.I({"class":"fa fa-check-circle-o"})," 我已同意用户使用协议 "),"\n            "),"\n            ",HTML.DIV({"class":"ff-btn-group"},"\n                ",HTML.DIV({"class":"ff-btn",id:"pa-pay"},HTML.I({"class":"fa fa-wechat"})," 微信支付"),"\n            "),"\n        "),"\n        "]}),"\n    ")})},"template.qrcode.js":function(){Template.__checkName("referralQrcode"),Template.referralQrcode=new Template("Template.referralQrcode",function(){var e=this;return[HTML.Raw('<div class="page page-with-header-footer ">\n        <header>\n            <div class="header">\n                上转单付款\n                <a href="/referral" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n    </div>\n    '),HTML.DIV({"class":"referral-qrcode"},"\n        \n         ",Blaze._TemplateWith(function(){return{text:Spacebars.call(e.lookup("qrcode"))}},function(){return Spacebars.include(e.lookupTemplate("QrCode"))}),"\n\n         ",HTML.Raw('<div class="referral-qrcode-desc">*患者使用微信扫描二维码进行付款</div>'),"\n    "),"\n   \n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.submit.js":function(){Template.__checkName("referralSubmit"),Template.referralSubmit=new Template("Template.referralSubmit",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n                完善转诊单信息\n            </div>\n        </header>\n        '),HTML.DIV({"class":"ff-form"},"\n            ",HTML.DIV({"class":"rs-info-item _flex"},"\n                ",HTML.Raw('<div class="rs-info-label">城市</div>'),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:ref.master.parentRegionName",function(){
return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"master","parentRegionName"))})," ",Blaze.View("lookup:ref.master.regionName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"master","regionName"))})),"\n            "),"\n            ",HTML.DIV({"class":"rs-info-item _flex"},"\n                ",HTML.Raw('<div class="rs-info-label">医院</div>'),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:ref.master.hospitalName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"master","hospitalName"))})),"\n            "),"\n            ",HTML.DIV({"class":"rs-info-item _flex"},"\n                ",HTML.Raw('<div class="rs-info-label">科室</div>'),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:ref.master.departmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"master","departmentName"))})),"\n            "),"\n            ",HTML.DIV({"class":"rs-info-item _flex"},"\n                ",HTML.Raw('<div class="rs-info-label">子科室</div>'),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:ref.master.sdepartmentName",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"master","sdepartmentName"))})),"\n            "),"\n            ",HTML.DIV({"class":"rs-info-item _flex"},"\n                ",HTML.Raw('<div class="rs-info-label">患者姓名</div>'),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:ref.person.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","name"))})),"\n            "),"\n            ",HTML.DIV({"class":"rs-info-item _flex"},"\n                ",HTML.Raw('<div class="rs-info-label">转出原因</div>'),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:ref.person.yname",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","yname"))})),"\n            "),"\n            ",HTML.DIV({"class":"rs-info-item _flex"},"\n                ",HTML.Raw('<div class="rs-info-label">主要既往史</div>'),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:ref.person.jws",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","jws"))})),"\n            "),"\n            ",HTML.DIV({"class":"rs-info-item _flex"},"\n                ",HTML.Raw('<div class="rs-info-label">治疗经过</div>'),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:ref.person.zljg",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","zljg"))})),"\n            "),"\n            ",HTML.DIV({"class":"rs-info-item _flex"},"\n                ",HTML.Raw('<div class="rs-info-label">医师建议</div>'),"\n                ",HTML.DIV({"class":"_flex-1"},Blaze.View("lookup:ref.person.suggest",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"person","suggest"))})),"\n            "),"\n            ",HTML.Raw('<fieldset class="ff-split">\n                <legend>患者确认信息</legend>\n            </fieldset>'),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>出生日期</label>"),"\n                ",HTML.INPUT({id:"pa-brithday",type:"date",placeholder:"请输入患者姓名",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"brithday"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>身份证号</label>"),"\n                ",HTML.INPUT({id:"pa-no",type:"text",placeholder:"请输入身份证号",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"no"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>家庭住址</label>"),"\n                ",HTML.INPUT({id:"pa-address",type:"text",placeholder:"请输入家庭住址",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"address"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>联系电话</label>"),"\n                ",HTML.INPUT({id:"pa-tel",type:"text",placeholder:"请输入联系电话",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"tel"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>紧急联系人</label>"),"\n                ",HTML.INPUT({id:"pa-urgent",type:"text",placeholder:"请输入紧急联系人",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"urgent"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>血型</label>"),"\n                ",HTML.INPUT({id:"pa-blood",type:"text",placeholder:"请输入血型",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"blood"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>RH血型</label>"),"\n                ",HTML.INPUT({id:"pa-rh",type:"text",placeholder:"请输入RH血型",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"rh"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>慢性病患病情况</label>"),"\n                ",HTML.INPUT({id:"pa-chronic",type:"text",placeholder:"请输入慢性病患病情况",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"chronic"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>过敏史</label>"),"\n                ",HTML.INPUT({id:"pa-allergy",type:"text",placeholder:"请输入过敏史",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"allergy"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>其他</label>"),"\n                ",HTML.INPUT({id:"pa-other",type:"text",placeholder:"其他",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("per"),"other"))}}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>健康管理费</label>"),"\n                ",HTML.INPUT({id:"pa-mprice",type:"text",disabled:"ture",placeholder:"0.01",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("ref"),"price"))}}),"\n            "),"\n\n            ",HTML.Raw('<a class="ff-agreement" href="/referral/agreenment">我已同意云医联盟平台服务协议</a>'),"\n                \n            ",HTML.Raw('<div class="ff-btn-group">\n                <div class="ff-btn" id="pa-pay">确认付款</div>\n            </div>'),"\n        "),"\n    ")})},"template.userdetail.js":function(){Template.__checkName("userdetail"),Template.userdetail=new Template("Template.userdetail",function(){var e=this;return[HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>姓名</label>"),"\n        ",HTML.DIV({"class":"ff-text",id:"personName"},Blaze.View("lookup:person.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"name"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>性别</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.sex",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"sex"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>出生日期</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.brithday",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"brithday"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>身份证号码</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.no",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"no"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>地址</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.address",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"address"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>联系方式</label>"),"\n        ",HTML.DIV({"class":"ff-text",id:"personTel"},Blaze.View("lookup:person.tel",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"tel"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>紧急联系人</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.urgent",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"urgent"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>血型</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.blood",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"blood"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>RH血型</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.urgent",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"urgent"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>慢性病患病情况</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.chronic",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"chronic"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>过敏史</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.allergy",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"allergy"))})),"\n        ",HTML.Raw("<hr>"),"\n    "),"\n    ",HTML.DIV({"class":"ff-line"},"\n        ",HTML.Raw("<label>其他</label>"),"\n        ",HTML.DIV({"class":"ff-text"},Blaze.View("lookup:person.other",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("person"),"other"))})),"\n        ",HTML.Raw("<hr>"),"\n    ")]})},"create.js":function(){Template.referralUploadCreate.onCreated(function(){this.subscribe("mydocInfo",facc.user()._id),this.subscribe("cases",{onReady:function e(){loading.hide()}})}),Template.referralUploadCreate.helpers({cases:function e(){return Cases.find()},settings:function n(){return{limit:10,rules:[{token:"",collection:Cases,field:"yname",matchAll:!0,template:Template.serverCollectionPill}]}}}),Template.referralUploadCreate.events({"click #pa-create":function t(){var e=Doctors.findOne({userid:facc.user()._id});if(!e||!e.vaild)return alert("您还未认证资资"),FlowRouter.go("/home/certification"),!1;var n=Session.get("components-department");if(!n.department)return alert("请选择科室"),!1;var t=Session.get("components-person");if(!t._id)return alert("请选择患者"),!1;var a=Session.get("components-pictures");if(!a.length)return alert("请检查上转数据"),!1;var r={master:{parentRegion:n.parentRegion,parentRegionName:n.parentRegionName,region:n.region,regionName:n.regionName,hospital:n.hospital,hospitalName:n.hospitalName,department:n.department,departmentName:n.departmentName,sdepartment:n.sdepartment,sdepartmentName:n.sdepartmentName},person:{_id:t._id,name:t.name,pictures:a,history:$("#pa-history").val(),jws:$("#pa-jws").val(),zljg:$("#pa-zljg").val(),suggest:$("#pa-suggest").val(),yname:Session.get("yname")},createAt:new Date,creater:{doctor:e._id,userid:facc.user()._id,name:e.doctorName,avatar:facc.user().avatar,parentRegion:e.parentRegion,parentRegionName:e.parentRegionName,region:e.region,regionName:e.regionName,hospital:e.hospital,hospitalName:e.hospitalName,department:e.department,departmentName:e.departmentName,sdepartment:e.sdepartment,sdepartmentName:e.sdepartmentName},status:1,checkPay:0,checkMaster:0,checkAdmin:0,checkComp:0,checkCase:0,checkVisit:0,checkRef:0,createAt:new Date},o=Referrals.insert(r,function(e,n){Meteor.call("uploadPicForReferral",{_id:n})});FlowRouter.go("/referral/qrcode?id="+o)}}),Template.referralUploadCreate.events({"autocompleteselect #autocomplete-input":function a(e,n,t){Session.set("yname",t.name),$("#autocomplete-input").val(t.name)}})},"index.js":function(){Template.referralIndex.onCreated(function(){this.subscribe("myReferrals",facc.user()._id,{onReady:function e(){loading.hide()}})}),Template.referralIndex.helpers({unpays:function e(){return Referrals.find({checkPay:0}).fetch()},waitfor:function n(){return Referrals.find({checkRef:0,checkPay:1,checkMaster:0}).fetch()},myrefs:function t(){return Referrals.find({checkMaster:1,checkCase:0}).fetch()},refs:function a(){return Referrals.find({checkRef:1}).fetch()},coms:function r(){return Referrals.find({checkComp:1}).fetch()},count:function o(e){return e?e.length:0}})},"pay.js":function(){Template.referralPay.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.referralPay.helpers({ref:function e(){return Referrals.findOne()}}),Template.referralPay.onRendered(function(){Meteor.call("queryDepartmentPrice",{ref:FlowRouter.getQueryParam("id")},function(e,n){n&&$("#rp-price").text(n.price.toFixed(2))})}),Template.referralPay.events({"click #pa-pay":function n(){Meteor.call("queryDepartmentPrice",{ref:FlowRouter.getQueryParam("id")},function(e,n){if(n){var t=Referrals.findOne();Pay.exec({subject:"云医联盟转诊",body:"云医联盟转诊",price:n.price,data:{type:"PAYCHANGE",link:FlowRouter.getQueryParam("id")}},function(e,n){"BALANCE"==e?alert("余额不足"):"ERROR"==e?alert("错误请联系管理员"):"OK"==e&&Meteor.call("paySuccessReferral",{ref:FlowRouter.getQueryParam("id")},function(e,n){})})}})}})},"qrcode.js":function(){Template.referralQrcode.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.referralQrcode.helpers({qrcode:function e(){return Meteor.absoluteUrl()+"referral/submit?id="+FlowRouter.getQueryParam("id")}}),Template.referralQrcode.onRendered(function(){}),Template.referralQrcode.events({})},"submit.js":function(){Template.referralSubmit.onCreated(function(){this.subscribe("referralDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.referralSubmit.helpers({ref:function e(){return Referrals.findOne({_id:FlowRouter.getQueryParam("id")})},per:function n(){return Persons.findOne()}}),Template.referralSubmit.onRendered(function(){}),Template.referralSubmit.events({"click #pa-pay":function t(){var e=Referrals.findOne();if(""==$("#pa-brithday").val())return void alert("请完善个人信息");if(""==$("#pa-address").val())return void alert("请完善个人信息");if(""==$("#pa-tel").val())return void alert("请完善个人信息");if(""==$("#pa-urgent").val())return void alert("请完善个人信息");if(""==$("#pa-blood").val())return void alert("请完善个人信息");if(""==$("#pa-rh").val())return void alert("请完善个人信息");if(""==$("#pa-chronic").val())return void alert("请完善个人信息");if(""==$("#pa-allergy").val())return void alert("请完善个人信息");if(e){var n={brithday:$("#pa-brithday").val(),address:$("#pa-address").val(),tel:$("#pa-tel").val(),urgent:$("#pa-urgent").val(),blood:$("#pa-blood").val(),rh:$("#pa-rh").val(),chronic:$("#pa-chronic").val(),allergy:$("#pa-allergy").val(),other:$("#pa-other").val(),updateAt:new Date};Pay.go("http://m.yigonglue.com/referral/pay?id="+FlowRouter.getQueryParam("id")),Persons.update({_id:e.person._id},{$set:n})}}})},"userdetail.js":function(){Template.userdetail.onCreated(function(){this.subscribe("userdetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}})}),Template.userdetail.helpers({person:function e(){return Persons.findOne()}})}},role:{"template.role.js":function(){Template.__checkName("role"),Template.role=new Template("Template.role",function(){var e=this;return""}),Template.__checkName("roleWarp"),Template.roleWarp=new Template("Template.roleWarp",function(){var e=this;return Blaze.If(function(){return Spacebars.call(e.lookup("checkUser"))},function(){return[" ",Spacebars.include(e.lookupTemplate("role"))," "]})}),Template.body.addContent(function(){var e=this;return Spacebars.include(e.lookupTemplate("roleWarp"))}),Meteor.startup(Template.body.renderToDocument)},"role.js":function(){Template.role.onCreated(function(){facc.isGuest()||this.subscribe("role",facc.user()._id),loading.hide()}),Template.role.onRendered(function(){Tracker.autorun(function(){if(!facc.isGuest()){var e=Meteor.users.findOne({_id:facc.user()._id});console.log(e),e&&(Session.set("ROLE",e.role),Session.set("VAILD",e.vaild),Session.set("MASTER",e.master))}})}),Template.roleWarp.helpers({checkUser:function e(){return Session.get("USERLOGIN")}})}},share:{"template.share.js":function(){Template.body.addContent(function(){var e=this;return HTML.Raw('<div class="share-bg ">\n        <div class="share-warp animated ">\n            <div class="share-title">分享</div>\n            <div class="share-item share-wechat">\n                分享给好友\n            </div>\n            <div class="share-item share-frd">\n                分享到朋友圈\n            </div>\n        </div>\n    </div>')}),Meteor.startup(Template.body.renderToDocument)},"share.js":function(){showShare=function e(){var e=$(".share-warp");$(".share-bg").fadeIn(300),$("#__flow-root").addClass("blur"),e.css({left:($(window).width()-e.width())/2,top:($(window).height()-e.height())/2}).removeClass("bounceOutDown").addClass("bounceInDown"),$(".share-bg").attr("init")||($(".share-bg").attr("init",!0).click(function(){shareClose()}),e.click(function(){return!1}),$(".share-wechat").click(function(){shareFor(0)}),$(".share-frd").click(function(){shareFor(1)}))},shareClose=function n(){$(".share-warp").removeClass("bounceInDown").addClass("bounceOutDown"),window.setTimeout(function(){$(".share-bg").fadeOut(300),$("#__flow-root").removeClass("blur")},700)},shareFor=function t(e){var n=Session.get("SHAREOBJ");if(Meteor.isCordova)Wechat.share({message:{title:n.title,description:n.desc,thumb:"www/application/app/logo2.png",messageExt:n.message?n.message:n.desc,media:{type:Wechat.Type.WEBPAGE,webpageUrl:n.url}},scene:e},function(){shareClose()},function(e){shareClose()});else{var n={title:n.title,desc:n.desc,link:n.url,imgUrl:n.image,success:function t(){shareClose()},cancel:function a(){shareClose()}};0==e?(wx.onMenuShareAppMessage(n),alert("点击右上角按钮分享给好友")):(wx.onMenuShareTimeline(n),alert("点击右上角按钮分享到朋友圈"))}},Meteor.isCordova||FlowRouter.triggers.enter([function(e,n){Meteor.call("signatureWechat",{path:e.path},function(e,n){wx.config({debug:!1,appId:n.appId,timestamp:n.timestamp,nonceStr:n.noncestr,signature:n.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","hideOptionMenu","chooseWXPay"]})})}],{only:["activeDetail"]})}},visit:{"template.detail.js":function(){Template.__checkName("visitDetail"),Template.visitDetail=new Template("Template.visitDetail",function(){var e=this;return[HTML.Raw('<div class="page page-with-header-footer ">\n        <header>\n            <div class="header">\n                填写随访单\n                <a href="/visit" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n    </div>\n    '),HTML.DIV({"class":"ff-form",style:"margin-bottom:50px;"},"\n         ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>随访者姓名</label>"),"\n            ",HTML.INPUT({"class":"feild-item",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("visit"),"person","name"))},readonly:"true"}),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>档案编号</label>"),"\n            ",HTML.INPUT({"class":"feild-item",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("visit"),"person","_id"))},readonly:"true"}),"\n        "),"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("feilds"),"objs"))},function(){return["\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.LABEL(Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n            ",HTML.INPUT({"data-lab":function(){return Spacebars.mustache(e.lookup("name"))},"data-title":function(){return Spacebars.mustache(e.lookup("title"))},id:function(){return["input-",Spacebars.mustache(e.lookup("@index"))]},"class":"feild-item",type:"text",placeholder:function(){return["请填写",Spacebars.mustache(e.lookup("title"))]}}),"\n        "),"\n        "]}),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>随访医生</label>"),"\n            ",HTML.INPUT({id:"pa-topic",type:"text",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("user"),"nickname"))}}),"\n        "),"\n        ",HTML.Raw('<div class="ff-btn-group" style="margin-top:7px;">\n            <div class="ff-btn" id="pa-create">确认表单</div>\n        </div>'),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.index.js":function(){Template.__checkName("visit"),Template.visit=new Template("Template.visit",function(){var e=this;return[HTML.DIV({"class":"page page-with-header-footer ",style:"margin-bottom:50px;"},"\n        ",HTML.Raw('<header>\n            <div class="header">\n                 我的随访\n                <a href="/" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n                <a href="/task" class="right" style="font-size:14px;width:100px;padding-right:10px;">发布</a>\n            </div>\n        </header>'),"\n        \n        ",HTML.Raw("<!-- 随访状态 forme waitfor -->"),"\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("forme"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1fdffd;"},HTML.I({"class":"fa fa-thumb-tack "})," 待认领 \n        ",HTML.B("您有",Blaze.View("lookup:count",function(){return Spacebars.mustache(e.lookup("count"),e.lookup("forme"))}),"条待认领随访任务"),"\n        "),"\n        ",HTML.DIV({"class":"recive-block"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("forme"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("doctor"),status:Spacebars.call("forme")}},function(){return Spacebars.include(e.lookupTemplate("visitItem"))}),"\n            "]}),"\n        "),"\n        "]}),"\n\n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("waitfor"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#fd781f;"},HTML.I({"class":"fa fa-thumb-tack "})," 待随访 \n        ",HTML.B("您有",Blaze.View("lookup:count",function(){return Spacebars.mustache(e.lookup("count"),e.lookup("waitfor"))}),"条待随访消息"),"\n        "),"\n        ",HTML.DIV({"class":"recive-block"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("waitfor"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("doctor"),status:Spacebars.call("wait")}},function(){return Spacebars.include(e.lookupTemplate("visitItem"))}),"\n            "]}),"\n        "),"\n        "]}),"\n   \n        ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("count"),e.lookup("coms"))},function(){return["\n        ",HTML.DIV({"class":"recive-title",style:"background:#1ffdbc;"},HTML.I({"class":"fa fa-thumb-tack "})," 已随访 "),"\n        ",HTML.DIV({"class":"recive-block"},"\n            ",Blaze.Each(function(){return Spacebars.call(e.lookup("coms"))},function(){return["\n            ",Blaze._TemplateWith(function(){return{data:Spacebars.call(e.lookup(".")),role:Spacebars.call("doctor"),status:Spacebars.call("comp")}},function(){return Spacebars.include(e.lookupTemplate("visitItem"))}),"\n            "]}),"\n        "),"\n        "]}),"\n    "),"\n     \n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"template.item.js":function(){Template.__checkName("visitItem"),Template.visitItem=new Template("Template.visitItem",function(){var e=this;return[Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"wait")},function(){return["\n    ",HTML.A({href:function(){return["/visit/detail?id=",Spacebars.mustache(Spacebars.dot(e.lookup("data"),"_id")),"&fid=",Spacebars.mustache(Spacebars.dot(e.lookup("data"),"fid"))]}},"\n        ",HTML.DIV({"class":"r-item _flex"},"\n            ",HTML.DIV({"class":"r-item-info _flex-1"},"\n                ",HTML.DIV({"class":"_flex"},"\n                    ",HTML.DIV({"class":"r-item-letter ",style:function(){return["background-color:#",Spacebars.mustache(e.lookup("randomColor"),Spacebars.dot(e.lookup("data"),"person","name"))]}}," ",Blaze.View("lookup:fl",function(){return Spacebars.mustache(e.lookup("fl"),Spacebars.dot(e.lookup("data"),"person","name"))})),"\n                    ",HTML.DIV({"class":"r-item-line _flex-1"},"\n                        ",HTML.B(Blaze.View("lookup:format3",function(){return Spacebars.mustache(e.lookup("format3"),Spacebars.dot(e.lookup("data"),"createAt"))})),"\n                        ",HTML.DIV({"class":"r-item-name"},Blaze.View("lookup:data.person.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"person","name"))})),"\n                    "),"\n                "),"\n            "),"\n            ",HTML.DIV({style:"margin-top: 10px;","class":"r-right"},"\n                ",HTML.DIV({"class":"r-item-btn"}," ",HTML.I({"class":"fa fa-angle-right"})),"\n            "),"\n        "),"\n    "),"\n    "]})," \n\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"comp")},function(){return["\n    ",HTML.A({href:function(){return["/visit/view?id=",Spacebars.mustache(Spacebars.dot(e.lookup("data"),"_id")),"&fid=",Spacebars.mustache(Spacebars.dot(e.lookup("data"),"fid"))]}},"\n        ",HTML.DIV({"class":"r-item _flex"},"\n            ",HTML.DIV({"class":"r-item-info _flex-1"},"\n                ",HTML.DIV({"class":"_flex"},"\n                    ",HTML.DIV({"class":"r-item-letter ",style:function(){return["background-color:#",Spacebars.mustache(e.lookup("randomColor"),Spacebars.dot(e.lookup("data"),"person","name"))]}}," ",Blaze.View("lookup:fl",function(){return Spacebars.mustache(e.lookup("fl"),Spacebars.dot(e.lookup("data"),"person","name"))})),"\n                    ",HTML.DIV({"class":"r-item-line _flex-1"},"\n                        ",HTML.B(Blaze.View("lookup:format3",function(){return Spacebars.mustache(e.lookup("format3"),Spacebars.dot(e.lookup("data"),"createAt"))})),"\n                        ",HTML.DIV({"class":"r-item-name"},Blaze.View("lookup:data.person.name",function(){return Spacebars.mustache(Spacebars.dot(e.lookup("data"),"person","name"))})),"\n                    "),"\n                "),"\n            "),"\n            ",HTML.DIV({style:"margin-top: 10px;","class":"r-right"},"\n                ",HTML.DIV({"class":"r-item-btn"}," ",HTML.I({"class":"fa fa-angle-right"})),"\n            "),"\n        "),"\n    "),"\n    "]})," \n\n    ",Blaze.If(function(){return Spacebars.dataMustache(e.lookup("compare"),e.lookup("status"),"forme")},function(){return["\n    ",HTML.DIV({"class":"r-item-btn",style:"width:120px;"},"\n        ",HTML.DIV({style:"margin-top: 10px;","class":"r-right"},"\n            ",HTML.DIV({"class":"vi-right-btn vi-access"},"接受"),"\n        "),"\n    "),"\n    "]})]})},"template.view.js":function(){Template.__checkName("visitView"),Template.visitView=new Template("Template.visitView",function(){var e=this;return[HTML.Raw('<div class="page page-with-header-footer ">\n        <header>\n            <div class="header">\n                随访详情\n                <a href="/visit" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n    </div>\n    '),HTML.DIV({"class":"ff-form",style:"margin-bottom:50px"},"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>患者姓名</label>"),"\n            ",HTML.INPUT({type:"text",disabled:"ture",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("fe"),"person","name"))}}),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>随访时间</label>"),"\n            ",HTML.INPUT({type:"text",disabled:"ture",value:function(){return Spacebars.mustache(e.lookup("format"),Spacebars.dot(e.lookup("fe"),"visitAt"))}}),"\n        "),"\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.Raw("<label>随访医生</label>"),"\n            ",HTML.INPUT({type:"text",disabled:"ture",value:function(){return Spacebars.mustache(Spacebars.dot(e.lookup("visit"),"executer","name"))}}),"\n        "),"\n        ",Blaze.Each(function(){return Spacebars.call(Spacebars.dot(e.lookup("visit"),"result"))},function(){return["\n        ",HTML.DIV({"class":"ff-line"},"\n            ",HTML.LABEL(Blaze.View("lookup:title",function(){return Spacebars.mustache(e.lookup("title"))})),"\n            ",HTML.INPUT({"data-lab":function(){return Spacebars.mustache(e.lookup("name"))},disabled:"true",id:function(){return["input-",Spacebars.mustache(e.lookup("@index"))]},"class":"feild-item",type:"text",placeholder:function(){return Spacebars.mustache(e.lookup("title"))},value:function(){return Spacebars.mustache(e.lookup("value"))}}),"\n        "),"\n        "]}),"\n    "),"\n    ",Blaze._TemplateWith(function(){return{active:Spacebars.call("site")}},function(){return Spacebars.include(e.lookupTemplate("footer"))})]})},"detail.js":function(){Template.visitDetail.onCreated(function(){this.subscribe("feildDetail",FlowRouter.getQueryParam("fid"),{onReady:function e(){loading.hide()}}),this.subscribe("userDetail",facc.user()._id),this.subscribe("visitDetail",FlowRouter.getQueryParam("id"))}),Template.visitDetail.helpers({user:function e(){return Meteor.users.findOne({_id:facc.user()._id})},feilds:function n(){return Feilds.findOne()},visit:function t(){return Visits.findOne()}}),Template.visitDetail.events({"click #pa-create":function a(){var e=[];$(".feild-item").each(function(n,t){var t=$(t);return""==t.val()?(alert(t.attr("placeholder")+" 为必填项。"),e=[],!1):void e.push({name:t.attr("data-lab"),value:t.val(),title:t.attr("data-title")})});var n=Visits.findOne({_id:FlowRouter.getQueryParam("id")});Visits.update({_id:FlowRouter.getQueryParam("id")},{$set:{result:e,visitAt:new Date,checkVisit:1}}),alert("随访已完成"),FlowRouter.go("/visit")}})},"index.js":function(){Template.visit.onCreated(function(){this.subscribe("mydocInfo",facc.user()._id,{onReady:function e(){loading.hide()}}),this.subscribe("myVisits",facc.user()._id)}),Template.visit.helpers({lookfor:function e(){return Visits.find({"creater.userid":facc.user()._id,checkVisit:0}).fetch()},forme:function n(){var e=Doctors.findOne({userid:facc.user()._id});return e?Visits.find({"executer.userid":null,"executer.sdepartment":e.sdepartment,checkVisit:0}).fetch():void 0},waitfor:function t(){return Visits.find({$or:[{"creater.userid":facc.user()._id},{"executer.userid":facc.user()._id}],checkVisit:0}).fetch()},coms:function a(){return Visits.find({$or:[{"creater.userid":facc.user()._id},{"executer.userid":facc.user()._id}],checkVisit:1}).fetch()},count:function r(e){return console.log(e),e?e.length:0}}),Template.visit.events({})},"item.js":function(){Template.visitItem.onCreated(function(){loading.hide()}),Template.visitItem.helpers({}),Template.visitItem.events({"click .vi-access":function e(){var e={};e["executer.userid"]=facc.user()._id,e["executer.name"]=facc.user().nickname,e.accessAt=new Date,Visits.update({_id:this.data._id},{$set:e}),alert("任务已接")}})},"view.js":function(){Template.visitView.onCreated(function(){this.subscribe("visitDetail",FlowRouter.getQueryParam("id"),{onReady:function e(){loading.hide()}}),this.subscribe("userDetail",facc.user()._id),this.subscribe("feildDetail",FlowRouter.getQueryParam("fid"));

}),Template.visitView.helpers({fe:function e(){return Visits.findOne()},user:function n(){return Meteor.users.findOne({_id:facc.user()._id})},visit:function t(){return Visits.findOne()},feild:function a(){return Feilds.findOne()}}),Template.visitView.events({})}},visitTask:{"template.create.js":function(){Template.__checkName("taskCreate"),Template.taskCreate=new Template("Template.taskCreate",function(){var e=this;return HTML.DIV({"class":"page page-with-header-footer "},HTML.Raw('\n        <header>\n            <div class="header">\n                发布随访任务\n                <a href="/visit" class="left" style="font-size:18px;width:100px;padding-left:10px;"><i class="fa fa-angle-left"></i></a>\n            </div>\n        </header>\n        '),HTML.DIV({"class":"ff-form"},"\n            ",Spacebars.include(e.lookupTemplate("personSelector")),"\n            ",Spacebars.include(e.lookupTemplate("departmentSelector"))," \n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>主要检查结果</label>"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",id:"pa-jcjg",type:"text",placeholder:"请输入主要检查结果"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>治疗经过、下一步治疗方案及康复建议</label>"),"\n                ",HTML.TEXTAREA({style:"padding-top:5px;",id:"pa-zljg",type:"text",placeholder:"治疗方案及康复建议"}),"\n            "),"\n            ",HTML.DIV({"class":"ff-line"},"\n                ",HTML.Raw("<label>选择随访单</label>"),"\n                ",HTML.SELECT({id:"pa-visit"},"\n                    ",Blaze.Each(function(){return Spacebars.call(e.lookup("feilds"))},function(){return["\n                    ",HTML.OPTION({selected:"true",value:function(){return Spacebars.mustache(e.lookup("_id"))}},Blaze.View("lookup:shortname",function(){return Spacebars.mustache(e.lookup("shortname"))})),"\n                    "]}),"\n                    ",HTML.Raw('<option value="other">定制随访单</option>'),"\n                "),"\n            "),"\n            ",HTML.Raw('<div class="ff-btn-group" style="margin-top:8px;">\n                <div class="ff-btn" id="pa-create">确认发布</div>\n            </div>'),"\n        "),"\n    ")})},"create.js":function(){Template.taskCreate.onCreated(function(){this.subscribe("mydocInfo",facc.user()._id,{onReady:function e(){loading.hide()}}),this.subscribe("myFeilds",facc.user()._id),this.subscribe("myTable",facc.user()._id)}),Template.taskCreate.helpers({feilds:function e(){return Feilds.find({},{sort:{share:-1,createAt:-1}})},tables:function n(){return Tables.find()},shortname:function t(){return this.title}}),Template.taskCreate.events({"change #pa-visit":function a(){"other"==$("#pa-visit").val()&&FlowRouter.go("/feild/create?frt=/task/create")},"click #pa-create":function r(){var e=Doctors.findOne({userid:facc.user()._id});if(!e||!e.vaild)return alert("您还未认证资料"),FlowRouter.go("/home/certfication"),!1;var n={jcjg:$("#pa-jcjg").val(),zljg:$("#pa-zljg").val(),checkCase:1,caseAt:new Date},t=Session.get("components-department");if(!t.department)return alert("请选择科室"),!1;var a=Session.get("components-person");if(!a._id)return alert("请选择患者"),!1;if(!n.jcjg)return alert("请输入主要检查结果"),!1;if(!n.zljg)return alert("请输入治疗方案及康复建议"),!1;var r=Feilds.findOne({_id:$("#pa-visit").val()});return r?(Visits.insert({fid:r._id,person:a,createAt:new Date,creater:{doctor:e._id,userid:facc.user()._id,name:e.doctorName,avatar:facc.user().avatar,parentRegion:e.parentRegion,parentRegionName:e.parentRegionName,region:e.region,regionName:e.regionName,hospital:e.hospital,hospitalName:e.hospitalName,department:e.department,departmentName:e.departmentName,sdepartment:e.sdepartment,sdepartmentName:e.sdepartmentName},executer:{parentRegion:t.parentRegion,parentRegionName:t.parentRegionName,region:t.region,regionName:t.regionName,hospital:t.hospital,hospitalName:t.hospitalName,department:t.department,departmentName:t.departmentName,sdepartment:t.sdepartment,sdepartmentName:t.sdepartmentName},checkVisit:0,objs:r.objs,status:1}),Feilds.update({_id:r._id},{$inc:{num:1}}),alert("任务已发布"),void FlowRouter.go("/visit")):(alert("请选择随访单"),!1)}})}},wechat:{"template.client.js":function(){Template.body.addContent(function(){var e=this;return HTML.Raw('<div class="share-bg ">\n        <div class="share-warp animated ">\n            <div class="share-title">分享</div>\n            <div class="share-item share-wechat">\n                分享给好友\n            </div>\n            <div class="share-item share-frd">\n                分享到朋友圈\n            </div>\n        </div>\n    </div>\n    <div class="share-wx " onclick="wechat.hideShareWx()">\n       \n    </div>')}),Meteor.startup(Template.body.renderToDocument)},"client.js":function(){wechat={notifyUrl:"http://notify.kuaitouhui.cn/wechat",pay:function e(n,t){localStorage.getItem("FAMIWECHATAPIOPENID")?Meteor.call("createWxPay",{tradeNo:n._id,subject:n.subject,body:n.body,price:n.price,notifyUrl:wechat.notifyUrl,userid:n.userid,openid:localStorage.getItem("FAMIWECHATAPIOPENID")},function(e,n){wx.chooseWXPay({appId:n.appId,timestamp:n.timeStamp,nonceStr:n.nonceStr,"package":n["package"],signType:n.signType,paySign:n.paySign,success:function a(e){t(e)}})}):window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe8f39b5b477a688c&redirect_uri="+encodeURIComponent(Meteor.absoluteUrl()+FlowRouter.current().path.replace("/",""))+"&response_type=code&scope=snsapi_userinfo&state=wxLogin#wechat_redirec"},appPay:function n(e,t){localStorage.getItem("FAMIWECHATAPIOPENID")?Meteor.call("createWxPay",{tradeNo:e._id,subject:e.subject,body:e.body,price:e.price,notifyUrl:wechat.notifyUrl,userid:e.userid,openid:localStorage.getItem("FAMIWECHATAPIOPENID")},function(e,n){var a={partnerid:"1363053902",prepayid:n["package"],noncestr:n.nonceStr,timestamp:n.timeStamp,sign:n.paySign};Wechat.sendPaymentRequest(a,function(e){t(e)},function(e){alert("Failed: "+e)})}):window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxe8f39b5b477a688c&redirect_uri="+encodeURIComponent(Meteor.absoluteUrl()+FlowRouter.current().path.replace("/",""))+"&response_type=code&scope=snsapi_userinfo&state=wxLogin#wechat_redirec"},showShare:function t(){if(Meteor.isCordova){var e=$(".share-warp");$(".share-bg").fadeIn(300),$("#__flow-root").addClass("blur"),e.css({left:($(window).width()-e.width())/2,top:($(window).height()-e.height())/2}).removeClass("bounceOutDown").addClass("bounceInDown"),$(".share-bg").attr("init")||($(".share-bg").attr("init",!0).click(function(){shareClose()}),e.click(function(){return!1}),$(".share-wechat").click(function(){shareFor(0)}),$(".share-frd").click(function(){shareFor(1)}))}else{var n=Session.get("SHAREOBJ"),n={title:n.title,desc:n.desc,link:n.url,imgUrl:n.image,success:function t(){shareClose()},cancel:function a(){shareClose()}};wx.onMenuShareAppMessage(n),wx.onMenuShareTimeline(n),wx.onMenuShareQQ(n),wx.onMenuShareQZone(n),wx.onMenuShareWeibo(n),wx.showAllNonBaseMenuItem(),wx.showOptionMenu(),$(".share-wx").fadeIn()}},hideShareWx:function a(){$(".share-wx").fadeOut()},shareClose:function r(){$(".share-warp").removeClass("bounceInDown").addClass("bounceOutDown"),window.setTimeout(function(){$(".share-bg").fadeOut(300),$("#__flow-root").removeClass("blur")},700)},shareFor:function o(e){var n=Session.get("SHAREOBJ");Wechat.share({message:{title:n.title,description:n.desc,thumb:"www/application/app/logo2.png",messageExt:n.message?n.message:n.desc,media:{type:Wechat.Type.WEBPAGE,webpageUrl:n.url}},scene:e},function(){shareClose()},function(e){shareClose()})},isWeiXin:function i(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)?!0:!1}},!Meteor.isCordova&&wechat.isWeiXin()&&(FlowRouter.triggers.enter([function(e,n){Meteor.call("signatureWechat",{path:e.path},function(e,n){wx.config({debug:!1,appId:n.appId,timestamp:n.timestamp,nonceStr:n.noncestr,signature:n.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo","hideOptionMenu","hideMenuItems","showMenuItems","hideAllNonBaseMenuItem","showAllNonBaseMenuItem","showOptionMenu","chooseWXPay"]}),wx.ready(function(){wx.hideAllNonBaseMenuItem(),wx.hideOptionMenu()})})}]),FlowRouter.triggers.enter([function(e,n){facc.isGuest()?e.queryParams.state&&e.queryParams.code&&"wxLogin"==e.queryParams.state&&Meteor.call("setWxUserInfoWithinLogin",{code:e.queryParams.code},function(e,n){localStorage.setItem("FAMIWECHATAPIOPENID",n)}):e.queryParams.state&&e.queryParams.code&&"wxLogin"==e.queryParams.state&&Meteor.call("setWxUserInfo",{code:e.queryParams.code,userid:facc.user()._id},function(e,n){n&&localStorage.setItem("FAMIWECHATAPIOPENID",n)}),$(".share-wx").hide()}])),FlowRouter.triggers.enter([function(e,n){loading.show(),e.queryParams.fruid&&(Session.set("FRUID",e.queryParams.fruid),console.log("set uid")),e.queryParams.curstate&&(Session.set("CURSTATE",e.queryParams.curstate),console.log("set curstate"))}])}},common:{"lrz.js":["babel-runtime/helpers/typeof",function(e,n,t){var a;t["import"]("babel-runtime/helpers/typeof",{"default":function(e){a=e}}),!function(e,r){if("object"==("undefined"==typeof n?"undefined":a(n))&&"object"==("undefined"==typeof t?"undefined":a(t)))t.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var o=r();for(var i in o)("object"==("undefined"==typeof n?"undefined":a(n))?n:e)[i]=o[i]}}(this,function(){return function(e){function n(a){if(t[a])return t[a].exports;var r=t[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){t(6),t(7),e.exports=t(8)},function(e,n,t){(function(n){!function(t){function r(e,n){return function(){e.apply(n,arguments)}}function o(e){if("object"!=a(this))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],p(e,r(l,this),r(s,this))}function i(e){var n=this;return null===this._state?void this._deferreds.push(e):void f(function(){var t=n._state?e.onFulfilled:e.onRejected;if(null===t)return void(n._state?e.resolve:e.reject)(n._value);var a;try{a=t(n._value)}catch(r){return void e.reject(r)}e.resolve(a)})}function l(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==("undefined"==typeof e?"undefined":a(e))||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void p(r(n,e),r(l,this),r(s,this))}this._state=!0,this._value=e,c.call(this)}catch(t){s.call(this,t)}}function s(e){this._state=!1,this._value=e,c.call(this)}function c(){for(var e=0,n=this._deferreds.length;n>e;e++)i.call(this,this._deferreds[e]);this._deferreds=null}function u(e,n,t,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.resolve=t,this.reject=a}function p(e,n,t){var a=!1;try{e(function(e){a||(a=!0,n(e))},function(e){a||(a=!0,t(e))})}catch(r){if(a)return;a=!0,t(r)}}var f="function"==typeof n&&n||function(e){setTimeout(e,1)},d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,n){var t=this;return new o(function(a,r){i.call(t,new u(e,n,a,r))})},o.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&d(arguments[0])?arguments[0]:arguments);return new o(function(n,t){function r(i,l){try{if(l&&("object"==("undefined"==typeof l?"undefined":a(l))||"function"==typeof l)){var s=l.then;if("function"==typeof s)return void s.call(l,function(e){r(i,e)},t)}e[i]=l,0===--o&&n(e)}catch(c){t(c)}}if(0===e.length)return n([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},o.resolve=function(e){return e&&"object"==("undefined"==typeof e?"undefined":a(e))&&e.constructor===o?e:new o(function(n){n(e)})},o.reject=function(e){return new o(function(n,t){t(e)})},o.race=function(e){return new o(function(n,t){for(var a=0,r=e.length;r>a;a++)e[a].then(n,t)})},o._setImmediateFn=function(e){f=e},o.prototype.always=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})})},"undefined"!=typeof e&&e.exports?e.exports=o:t.Promise||(t.Promise=o)}(this)}).call(n,t(2).setImmediate)},function(e,n,t){(function(e,a){function r(e,n){this._id=e,this._clearFn=n}var o=t(3).nextTick,i=Function.prototype.apply,l=Array.prototype.slice,s={},c=0;n.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,n){clearTimeout(e._idleTimeoutId),e._idleTimeout=n},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var n=e._idleTimeout;n>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},n))},n.setImmediate="function"==typeof e?e:function(e){var t=c++,a=arguments.length<2?!1:l.call(arguments,1);return s[t]=!0,o(function(){s[t]&&(a?e.apply(null,a):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof a?a:function(e){delete s[e]}}).call(n,t(2).setImmediate,t(2).clearImmediate)},function(e,n){function t(){c=!1,i.length?s=i.concat(s):u=-1,s.length&&a()}function a(){if(!c){var e=setTimeout(t);c=!0;for(var n=s.length;n;){for(i=s,s=[];++u<n;)i&&i[u].run();u=-1,n=s.length}i=null,c=!1,clearTimeout(e)}}function r(e,n){this.fun=e,this.array=n}function o(){}var i,l=e.exports={},s=[],c=!1,u=-1;l.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];s.push(new r(e,n)),1!==s.length||c||setTimeout(a,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=o,l.addListener=o,l.once=o,l.off=o,l.removeListener=o,l.removeAllListeners=o,l.emit=o,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,n){function t(){var e=~navigator.userAgent.indexOf("Android")&&~navigator.vendor.indexOf("Google")&&!~navigator.userAgent.indexOf("Chrome");return e&&navigator.userAgent.match(/AppleWebKit\/(\d+)/).pop()<=534||/MQQBrowser/g.test(navigator.userAgent)}var a=function(){try{return new Blob,!0}catch(e){return!1}}()?window.Blob:function(e,n){var t=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||window.MozBlobBuilder);return e.forEach(function(e){t.append(e)}),t.getBlob(n?n.type:void 0)},r=function(){var e=0;return function(){var n=this,t=[],r=Array(21).join("-")+(1e16*+new Date*Math.random()).toString(36),o=XMLHttpRequest.prototype.send;this.getParts=function(){return t.toString()},this.append=function(e,n,a){t.push("--"+r+'\r\nContent-Disposition: form-data; name="'+e+'"'),n instanceof Blob?(t.push('; filename="'+(a||"blob")+'"\r\nContent-Type: '+n.type+"\r\n\r\n"),t.push(n)):t.push("\r\n\r\n"+n),t.push("\r\n")},e++,XMLHttpRequest.prototype.send=function(i){var l,s,c=this;i===n?(t.push("--"+r+"--\r\n"),s=new a(t),l=new FileReader,l.onload=function(){o.call(c,l.result)},l.onerror=function(e){throw e},l.readAsArrayBuffer(s),this.setRequestHeader("Content-Type","multipart/form-data; boundary="+r),e--,0==e&&(XMLHttpRequest.prototype.send=o)):o.call(this,i)}}}();e.exports={Blob:a,FormData:t()?r:FormData}},function(e,n,t){var r,o;(function(){function t(e){return!!e.exifdata}function i(e,n){n=n||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),a=t.length,r=new ArrayBuffer(a),o=new Uint8Array(r),i=0;a>i;i++)o[i]=t.charCodeAt(i);return r}function l(e,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="blob",t.onload=function(e){(200==this.status||0===this.status)&&n(this.response)},t.send()}function s(e,n){function t(t){var a=c(t),r=u(t);e.exifdata=a||{},e.iptcdata=r||{},n&&n.call(e)}if(e.src)if(/^data\:/i.test(e.src)){var a=i(e.src);t(a)}else if(/^blob\:/i.test(e.src)){var r=new FileReader;r.onload=function(e){t(e.target.result)},l(e.src,function(e){r.readAsArrayBuffer(e)})}else{var o=new XMLHttpRequest;o.onload=function(){200==this.status||0===this.status?t(o.response):n(new Error("Could not load image")),o=null},o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(null)}else if(window.FileReader&&(e instanceof window.Blob||e instanceof window.File)){var r=new FileReader;r.onload=function(e){g&&console.log("Got file of length "+e.target.result.byteLength),t(e.target.result)},r.readAsArrayBuffer(e)}}function c(e){var n=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=n.getUint8(0)||216!=n.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var t,a=2,r=e.byteLength;r>a;){if(255!=n.getUint8(a))return g&&console.log("Not a valid marker at offset "+a+", found: "+n.getUint8(a)),!1;if(t=n.getUint8(a+1),g&&console.log(t),225==t)return g&&console.log("Found 0xFFE1 marker"),h(n,a+4,n.getUint16(a+2)-2);a+=2+n.getUint16(a+2)}}function u(e){var n=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=n.getUint8(0)||216!=n.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var t=2,a=e.byteLength,r=function s(e,n){return 56===e.getUint8(n)&&66===e.getUint8(n+1)&&73===e.getUint8(n+2)&&77===e.getUint8(n+3)&&4===e.getUint8(n+4)&&4===e.getUint8(n+5)};a>t;){if(r(n,t)){var o=n.getUint8(t+7);o%2!==0&&(o+=1),0===o&&(o=4);var i=t+8+o,l=n.getUint16(t+6+o);return p(e,i,l)}t++}}function p(e,n,t){for(var a,r,o,i,l,s=new DataView(e),c={},u=n;n+t>u;)28===s.getUint8(u)&&2===s.getUint8(u+1)&&(i=s.getUint8(u+2),i in k&&(o=s.getInt16(u+3),l=o+5,r=k[i],a=m(s,u+5,o),c.hasOwnProperty(r)?c[r]instanceof Array?c[r].push(a):c[r]=[c[r],a]:c[r]=a)),u++;return c}function f(e,n,t,a,r){var o,i,l,s=e.getUint16(t,!r),c={};for(l=0;s>l;l++)o=t+12*l+2,i=a[e.getUint16(o,!r)],!i&&g&&console.log("Unknown tag: "+e.getUint16(o,!r)),c[i]=d(e,o,n,t,r);return c}function d(e,n,t,a,r){var o,i,l,s,c,u,p=e.getUint16(n+2,!r),f=e.getUint32(n+4,!r),d=e.getUint32(n+8,!r)+t;switch(p){case 1:case 7:if(1==f)return e.getUint8(n+8,!r);for(o=f>4?d:n+8,i=[],s=0;f>s;s++)i[s]=e.getUint8(o+s);return i;case 2:return o=f>4?d:n+8,m(e,o,f-1);case 3:if(1==f)return e.getUint16(n+8,!r);for(o=f>2?d:n+8,i=[],s=0;f>s;s++)i[s]=e.getUint16(o+2*s,!r);return i;case 4:if(1==f)return e.getUint32(n+8,!r);for(i=[],s=0;f>s;s++)i[s]=e.getUint32(d+4*s,!r);return i;case 5:if(1==f)return c=e.getUint32(d,!r),u=e.getUint32(d+4,!r),l=new Number(c/u),l.numerator=c,l.denominator=u,l;for(i=[],s=0;f>s;s++)c=e.getUint32(d+8*s,!r),u=e.getUint32(d+4+8*s,!r),i[s]=new Number(c/u),i[s].numerator=c,i[s].denominator=u;return i;case 9:if(1==f)return e.getInt32(n+8,!r);for(i=[],s=0;f>s;s++)i[s]=e.getInt32(d+4*s,!r);return i;case 10:if(1==f)return e.getInt32(d,!r)/e.getInt32(d+4,!r);for(i=[],s=0;f>s;s++)i[s]=e.getInt32(d+8*s,!r)/e.getInt32(d+4+8*s,!r);return i}}function m(e,n,t){var a,r="";for(a=n;n+t>a;a++)r+=String.fromCharCode(e.getUint8(a));return r}function h(e,n){if("Exif"!=m(e,n,4))return g&&console.log("Not valid EXIF data! "+m(e,n,4)),!1;var t,a,r,o,i,l=n+6;if(18761==e.getUint16(l))t=!1;else{if(19789!=e.getUint16(l))return g&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;t=!0}if(42!=e.getUint16(l+2,!t))return g&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var s=e.getUint32(l+4,!t);if(8>s)return g&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(l+4,!t)),!1;if(a=f(e,l,l+s,v,t),a.ExifIFDPointer){o=f(e,l,l+a.ExifIFDPointer,b,t);for(r in o){switch(r){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[r]=M[r][o[r]];break;case"ExifVersion":case"FlashpixVersion":o[r]=String.fromCharCode(o[r][0],o[r][1],o[r][2],o[r][3]);break;case"ComponentsConfiguration":o[r]=M.Components[o[r][0]]+M.Components[o[r][1]]+M.Components[o[r][2]]+M.Components[o[r][3]]}a[r]=o[r]}}if(a.GPSInfoIFDPointer){i=f(e,l,l+a.GPSInfoIFDPointer,w,t);for(r in i){switch(r){case"GPSVersionID":i[r]=i[r][0]+"."+i[r][1]+"."+i[r][2]+"."+i[r][3]}a[r]=i[r]}}return a}var g=!1,T=function L(e){return e instanceof L?e:this instanceof L?void(this.EXIFwrapped=e):new L(e)};"undefined"!=typeof e&&e.exports&&(n=e.exports=T),n.EXIF=T;var b=T.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},v=T.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},w=T.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},M=T.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},k={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};T.getData=function(e,n){return(e instanceof Image||e instanceof HTMLImageElement)&&!e.complete?!1:(t(e)?n&&n.call(e):s(e,n),!0)},T.getTag=function(e,n){return t(e)?e.exifdata[n]:void 0},T.getAllTags=function(e){if(!t(e))return{};var n,a=e.exifdata,r={};for(n in a)a.hasOwnProperty(n)&&(r[n]=a[n]);return r},T.pretty=function(e){if(!t(e))return"";var n,r=e.exifdata,o="";for(n in r)r.hasOwnProperty(n)&&(o+="object"==a(r[n])?r[n]instanceof Number?n+" : "+r[n]+" ["+r[n].numerator+"/"+r[n].denominator+"]\r\n":n+" : ["+r[n].length+" values]\r\n":n+" : "+r[n]+"\r\n");return o},T.readFromBinaryFile=function(e){return c(e)},r=[],o=function(){return T}.apply(n,r),!(void 0!==o&&(e.exports=o))}).call(this)},function(e,n,t){var a,r;!function(){function t(e){var n=e.naturalWidth,t=e.naturalHeight;if(n*t>1048576){var a=document.createElement("canvas");a.width=a.height=1;var r=a.getContext("2d");return r.drawImage(e,-n+1,0),0===r.getImageData(0,0,1,1).data[3]}return!1}function o(e,n,t){var a=document.createElement("canvas");a.width=1,a.height=t;var r=a.getContext("2d");r.drawImage(e,0,0);for(var o=r.getImageData(0,0,1,t).data,i=0,l=t,s=t;s>i;){var c=o[4*(s-1)+3];0===c?l=s:i=s,s=l+i>>1}var u=s/t;return 0===u?1:u}function i(e,n,t){var a=document.createElement("canvas");return l(e,a,n,t),a.toDataURL("image/jpeg",n.quality||.8)}function l(e,n,a,r){var i=e.naturalWidth,l=e.naturalHeight,c=a.width,u=a.height,p=n.getContext("2d");p.save(),s(n,p,c,u,a.orientation);var f=t(e);f&&(i/=2,l/=2);var d=1024,m=document.createElement("canvas");m.width=m.height=d;for(var h=m.getContext("2d"),g=r?o(e,i,l):1,T=Math.ceil(d*c/i),b=Math.ceil(d*u/l/g),v=0,w=0;l>v;){for(var M=0,k=0;i>M;)h.clearRect(0,0,d,d),h.drawImage(e,-M,-v),p.drawImage(m,0,0,d,d,k,w,T,b),M+=d,k+=T;v+=d,w+=b}p.restore(),m=h=null}function s(e,n,t,a,r){switch(r){case 5:case 6:case 7:case 8:e.width=a,e.height=t;break;default:e.width=t,e.height=a}switch(r){case 2:n.translate(t,0),n.scale(-1,1);break;case 3:n.translate(t,a),n.rotate(Math.PI);break;case 4:n.translate(0,a),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-a);break;case 7:n.rotate(.5*Math.PI),n.translate(t,-a),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-t,0)}}function c(e){if(window.Blob&&e instanceof Blob){var n=new Image,t=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!t)throw Error("No createObjectURL function found to create blob url");n.src=t.createObjectURL(e),this.blob=e,e=n}if(!e.naturalWidth&&!e.naturalHeight){var a=this;e.onload=function(){var e=a.imageLoadListeners;if(e){a.imageLoadListeners=null;for(var n=0,t=e.length;t>n;n++)e[n]()}},this.imageLoadListeners=[]}this.srcImage=e}c.prototype.render=function(e,n,t){if(this.imageLoadListeners){var a=this;return void this.imageLoadListeners.push(function(){a.render(e,n,t)})}n=n||{};var r=this.srcImage,o=r.src,s=o.length,c=r.naturalWidth,u=r.naturalHeight,p=n.width,f=n.height,d=n.maxWidth,m=n.maxHeight,h=this.blob&&"image/jpeg"===this.blob.type||0===o.indexOf("data:image/jpeg")||o.indexOf(".jpg")===s-4||o.indexOf(".jpeg")===s-5;p&&!f?f=u*p/c<<0:f&&!p?p=c*f/u<<0:(p=c,f=u),d&&p>d&&(p=d,f=u*p/c<<0),m&&f>m&&(f=m,p=c*f/u<<0);var g={width:p,height:f};for(var T in n)g[T]=n[T];var b=e.tagName.toLowerCase();"img"===b?e.src=i(this.srcImage,g,h):"canvas"===b&&l(this.srcImage,e,g,h),"function"==typeof this.onrender&&this.onrender(e),t&&t()},a=[],r=function(){return c}.apply(n,a),!(void 0!==r&&(e.exports=r))}()},function(e,n){function t(e){function n(e){for(var n=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],t=0;64>t;t++){var a=H((n[t]*e+50)/100);1>a?a=1:a>255&&(a=255),y[N[t]]=a}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;64>o;o++){var i=H((r[o]*e+50)/100);1>i?i=1:i>255&&(i=255),S[N[o]]=i}for(var l=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],s=0,c=0;8>c;c++)for(var u=0;8>u;u++)R[s]=1/(y[N[s]]*l[c]*l[u]*8),I[s]=1/(S[N[s]]*l[c]*l[u]*8),s++}function t(e,n){for(var t=0,a=0,r=new Array,o=1;16>=o;o++){for(var i=1;i<=e[o];i++)r[n[a]]=[],r[n[a]][0]=t,r[n[a]][1]=o,a++,t++;t*=2}return r}function a(){v=t($,q),w=t(Q,G),M=t(O,U),k=t(W,X)}function r(){for(var e=1,n=2,t=1;15>=t;t++){for(var a=e;n>a;a++)V[32767+a]=t,D[32767+a]=[],D[32767+a][1]=t,D[32767+a][0]=a;for(var r=-(n-1);-e>=r;r++)V[32767+r]=t,D[32767+r]=[],D[32767+r][1]=t,D[32767+r][0]=n-1+r;e<<=1,n<<=1}}function o(){for(var e=0;256>e;e++)E[e]=19595*e,E[e+256>>0]=38470*e,E[e+512>>0]=7471*e+32768,E[e+768>>0]=-11059*e,E[e+1024>>0]=-21709*e,E[e+1280>>0]=32768*e+8421375,E[e+1536>>0]=-27439*e,E[e+1792>>0]=-5329*e}function i(e){for(var n=e[0],t=e[1]-1;t>=0;)n&1<<t&&(j|=1<<B),t--,B--,0>B&&(255==j?(l(255),l(0)):l(j),B=7,j=0)}function l(e){z.push(P[e])}function s(e){l(e>>8&255),l(255&e)}function c(e,n){var t,a,r,o,i,l,s,c,u,p=0,f=8,d=64;for(u=0;f>u;++u){t=e[p],a=e[p+1],r=e[p+2],o=e[p+3],i=e[p+4],l=e[p+5],s=e[p+6],c=e[p+7];var m=t+c,h=t-c,g=a+s,T=a-s,b=r+l,v=r-l,w=o+i,M=o-i,k=m+w,L=m-w,H=g+b,y=g-b;e[p]=k+H,e[p+4]=k-H;var S=.707106781*(y+L);e[p+2]=L+S,e[p+6]=L-S,k=M+v,H=v+T,y=T+h;var R=.382683433*(k-y),I=.5411961*k+R,D=1.306562965*y+R,V=.707106781*H,_=h+V,z=h-V;

e[p+5]=z+I,e[p+3]=z-I,e[p+1]=_+D,e[p+7]=_-D,p+=8}for(p=0,u=0;f>u;++u){t=e[p],a=e[p+8],r=e[p+16],o=e[p+24],i=e[p+32],l=e[p+40],s=e[p+48],c=e[p+56];var j=t+c,B=t-c,F=a+s,A=a-s,C=r+l,P=r-l,E=o+i,N=o-i,$=j+E,q=j-E,O=F+C,U=F-C;e[p]=$+O,e[p+32]=$-O;var Q=.707106781*(U+q);e[p+16]=q+Q,e[p+48]=q-Q,$=N+P,O=P+A,U=A+B;var G=.382683433*($-U),W=.5411961*$+G,X=1.306562965*U+G,Y=.707106781*O,J=B+Y,K=B-Y;e[p+40]=K+W,e[p+24]=K-W,e[p+8]=J+X,e[p+56]=J-X,p++}var Z;for(u=0;d>u;++u)Z=e[u]*n[u],x[u]=Z>0?Z+.5|0:Z-.5|0;return x}function u(){s(65504),s(16),l(74),l(70),l(73),l(70),l(0),l(1),l(1),l(0),s(1),s(1),l(0),l(0)}function p(e,n){s(65472),s(17),l(8),s(n),s(e),l(3),l(1),l(17),l(0),l(2),l(17),l(1),l(3),l(17),l(1)}function f(){s(65499),s(132),l(0);for(var e=0;64>e;e++)l(y[e]);l(1);for(var n=0;64>n;n++)l(S[n])}function d(){s(65476),s(418),l(0);for(var e=0;16>e;e++)l($[e+1]);for(var n=0;11>=n;n++)l(q[n]);l(16);for(var t=0;16>t;t++)l(O[t+1]);for(var a=0;161>=a;a++)l(U[a]);l(1);for(var r=0;16>r;r++)l(Q[r+1]);for(var o=0;11>=o;o++)l(G[o]);l(17);for(var i=0;16>i;i++)l(W[i+1]);for(var c=0;161>=c;c++)l(X[c])}function m(){s(65498),s(12),l(3),l(1),l(0),l(2),l(17),l(3),l(17),l(0),l(63),l(0)}function h(e,n,t,a,r){for(var o,l=r[0],s=r[240],u=16,p=63,f=64,d=c(e,n),m=0;f>m;++m)_[N[m]]=d[m];var h=_[0]-t;t=_[0],0==h?i(a[0]):(o=32767+h,i(a[V[o]]),i(D[o]));for(var g=63;g>0&&0==_[g];g--);if(0==g)return i(l),t;for(var T,b=1;g>=b;){for(var v=b;0==_[b]&&g>=b;++b);var w=b-v;if(w>=u){T=w>>4;for(var M=1;T>=M;++M)i(s);w=15&w}o=32767+_[b],i(r[(w<<4)+V[o]]),i(D[o]),b++}return g!=p&&i(l),t}function g(){for(var e=String.fromCharCode,n=0;256>n;n++)P[n]=e(n)}function T(e){if(0>=e&&(e=1),e>100&&(e=100),L!=e){var t=0;t=Math.floor(50>e?5e3/e:200-2*e),n(t),L=e}}function b(){var n=(new Date).getTime();e||(e=50),g(),a(),r(),o(),T(e),(new Date).getTime()-n}var v,w,M,k,L,H=(Math.round,Math.floor),y=new Array(64),S=new Array(64),R=new Array(64),I=new Array(64),D=new Array(65535),V=new Array(65535),x=new Array(64),_=new Array(64),z=[],j=0,B=7,F=new Array(64),A=new Array(64),C=new Array(64),P=new Array(256),E=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],$=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Q=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(e,n,t){var a=(new Date).getTime();n&&T(n),z=new Array,j=0,B=7,s(65496),u(),f(),p(e.width,e.height),d(),m();var r=0,o=0,l=0;j=0,B=7,this.encode.displayName="_encode_";for(var c,g,b,L,H,y,S,D,V,x=e.data,_=e.width,P=e.height,N=4*_,$=0;P>$;){for(c=0;N>c;){for(H=N*$+c,y=H,S=-1,D=0,V=0;64>V;V++)D=V>>3,S=4*(7&V),y=H+D*N+S,$+D>=P&&(y-=N*($+1+D-P)),c+S>=N&&(y-=c+S-N+4),g=x[y++],b=x[y++],L=x[y++],F[V]=(E[g]+E[b+256>>0]+E[L+512>>0]>>16)-128,A[V]=(E[g+768>>0]+E[b+1024>>0]+E[L+1280>>0]>>16)-128,C[V]=(E[g+1280>>0]+E[b+1536>>0]+E[L+1792>>0]>>16)-128;r=h(F,R,r,v,M),o=h(A,I,o,w,k),l=h(C,I,l,w,k),c+=32}$+=8}if(B>=0){var q=[];q[1]=B+1,q[0]=(1<<B+1)-1,i(q)}if(s(65497),t){for(var O=z.length,U=new Uint8Array(O),Q=0;O>Q;Q++)U[Q]=z[Q].charCodeAt();return z=[],(new Date).getTime()-a,U}var G="data:image/jpeg;base64,"+btoa(z.join(""));return z=[],(new Date).getTime()-a,G},b()}e.exports=t},function(e,n,t){function r(e,n){var t=this;if(!e)throw new Error("没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7");n=n||{},t.defaults={width:null,height:null,fieldName:"file",quality:.7},t.file=e;for(var a in n)n.hasOwnProperty(a)&&(t.defaults[a]=n[a]);return this.init()}function o(e){var n=null;return n=e?[].filter.call(document.scripts,function(n){return-1!==n.src.indexOf(e)})[0]:document.scripts[document.scripts.length-1],n?n.src.substr(0,n.src.lastIndexOf("/")):null}function i(e){var n;n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var t=e.split(",")[0].split(":")[1].split(";")[0],a=new Uint8Array(n.length),r=0;r<n.length;r++)a[r]=n.charCodeAt(r);return new s.Blob([a.buffer],{type:t})}t.p=o("lrz")+"/",window.URL=window.URL||window.webkitURL;var l=t(1),s=t(4),c=t(5),u=function(e){var n=/OS (\d)_.* like Mac OS X/g.exec(e),t=/Android (\d.*?);/g.exec(e)||/Android\/(\d.*?) /g.exec(e);return{oldIOS:n?+n.pop()<8:!1,oldAndroid:t?+t.pop().substr(0,3)<4.5:!1,iOS:/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(e),android:/Android/g.test(e),mQQBrowser:/MQQBrowser/g.test(e)}}(navigator.userAgent);r.prototype.init=function(){var e=this,n=e.file,t="string"==typeof n,r=/^data:/.test(n),o=new Image,c=document.createElement("canvas"),u=t?n:URL.createObjectURL(n);if(e.img=o,e.blob=u,e.canvas=c,t?e.fileName=r?"base64.jpg":n.split("/").pop():e.fileName=n.name,!document.createElement("canvas").getContext)throw new Error("浏览器不支持canvas");return new l(function(t,l){o.onerror=function(){throw new Error("加载图片文件失败")},o.onload=function(){e._getBase64().then(function(e){return e.length<10&&l("生成base64失败"),e}).then(function(r){var o=null;"object"==a(e.file)&&r.length>e.file.size?(o=new FormData,n=e.file):(o=new s.FormData,n=i(r)),o.append(e.defaults.fieldName,n,e.fileName.replace(/\..+/g,".jpg")),t({formData:o,fileLen:+n.size,base64:r,base64Len:r.length,origin:e.file,file:n});for(var l in e)e.hasOwnProperty(l)&&(e[l]=null);URL.revokeObjectURL(e.blob)})},!r&&(o.crossOrigin="*"),o.src=u})},r.prototype._getBase64=function(){var e=this,n=e.img,t=e.file,r=e.canvas;return new l(function(o){try{c.getData("object"==("undefined"==typeof t?"undefined":a(t))?t:n,function(){e.orientation=c.getTag(this,"Orientation"),e.resize=e._getResize(),e.ctx=r.getContext("2d"),r.width=e.resize.width,r.height=e.resize.height,e.ctx.fillStyle="#fff",e.ctx.fillRect(0,0,r.width,r.height),u.oldIOS?e._createBase64ForOldIOS().then(o):e._createBase64().then(o)})}catch(i){throw new Error(i)}})},r.prototype._createBase64ForOldIOS=function(){var e=this,n=e.img,a=e.canvas,r=e.defaults,o=e.orientation;return new l(function(e){!function(){var i=[t(6)];(function(t){var i=new t(n);"5678".indexOf(o)>-1?i.render(a,{width:a.height,height:a.width,orientation:o}):i.render(a,{width:a.width,height:a.height,orientation:o}),e(a.toDataURL("image/jpeg",r.quality))}).apply(null,i)}()})},r.prototype._createBase64=function(){var e=this,n=e.resize,a=e.img,r=e.canvas,o=e.ctx,i=e.defaults,s=e.orientation;switch(s){case 3:o.rotate(180*Math.PI/180),o.drawImage(a,-n.width,-n.height,n.width,n.height);break;case 6:o.rotate(90*Math.PI/180),o.drawImage(a,0,-n.width,n.height,n.width);break;case 8:o.rotate(270*Math.PI/180),o.drawImage(a,-n.height,0,n.height,n.width);break;case 2:o.translate(n.width,0),o.scale(-1,1),o.drawImage(a,0,0,n.width,n.height);break;case 4:o.translate(n.width,0),o.scale(-1,1),o.rotate(180*Math.PI/180),o.drawImage(a,-n.width,-n.height,n.width,n.height);break;case 5:o.translate(n.width,0),o.scale(-1,1),o.rotate(90*Math.PI/180),o.drawImage(a,0,-n.width,n.height,n.width);break;case 7:o.translate(n.width,0),o.scale(-1,1),o.rotate(270*Math.PI/180),o.drawImage(a,-n.height,0,n.height,n.width);break;default:o.drawImage(a,0,0,n.width,n.height)}return new l(function(e){u.oldAndroid||u.mQQBrowser||!navigator.userAgent?!function(){var n=[t(7)];(function(n){var t=new n,a=o.getImageData(0,0,r.width,r.height);e(t.encode(a,100*i.quality))}).apply(null,n)}():e(r.toDataURL("image/jpeg",i.quality))})},r.prototype._getResize=function(){var e=this,n=e.img,t=e.defaults,a=t.width,r=t.height,o=e.orientation,i={width:n.width,height:n.height};if("5678".indexOf(o)>-1&&(i.width=n.height,i.height=n.width),i.width<a||i.height<r)return i;var l=i.width/i.height;for(a&&r?l>=a/r?i.width>a&&(i.width=a,i.height=Math.ceil(a/l)):i.height>r&&(i.height=r,i.width=Math.ceil(r*l)):a?a<i.width&&(i.width=a,i.height=Math.ceil(a/l)):r&&r<i.height&&(i.width=Math.ceil(r*l),i.height=r);i.width>=3264||i.height>=2448;)i.width*=.8,i.height*=.8;return i},window.lrz=function(e,n){return new r(e,n)},window.lrz.version="4.9.36",e.exports=window.lrz}])})}],"main.js":function(){Meteor.startup(function(){Template.registerHelper("format",function(e){return format(e)}),Template.registerHelper("format2",function(e){return format2(e)}),Template.registerHelper("format3",function(e){return format3(e)}),Template.registerHelper("reverse",function(e){return e?e.reverse():[]}),Template.registerHelper("islogin",function(e){return!facc.isGuest()}),Template.registerHelper("randomColor",function(e){e=CryptoJS.MD5(e).toString();for(var n="",t=0;t<e.length;t++)if(n+=e.charCodeAt(t).toString(16),6==n.length)return n}),Template.registerHelper("fl",function(e){return e.substring(0,1)}),Template.registerHelper("fix",function(e){return 1*e?(1*e).toFixed(2):"0.00"}),Template.registerHelper("compare",function(e,n){return console.log(e,n),e==n})}),urlrefer=[];var e=["login","register","registercode","forget","forgetcode","logout"];format3=function n(e){if(e){var n=new Date(e);return n.getFullYear()+"年"+(n.getMonth()+1)+"月"+n.getDate()+"日 "+pad(n.getHours(),2)+":"+pad(n.getMinutes(),2)}return"-/-/- --:--"},format2=function t(e){if(e){var n=new Date(e);return n.getMonth()+1+"月"+n.getDate()+"日 "+pad(n.getHours(),2)+":"+pad(n.getMinutes(),2)}return"-/- --:--"},format=function a(e){if(e){var n=new Date(e);return n.getHours()+":"+n.getMinutes()}return"--:--"},pad=function r(e,n){for(var t=e.toString().length;n>t;)e="0"+e,t++;return e},backaction=function o(){urlrefer.pop(),FlowRouter.go(urlrefer[urlrefer.length-1]?urlrefer[urlrefer.length-1]:"/"),urlrefer.pop()},FlowRouter.triggers.enter([function(e,n){urlrefer.push(e.path)}],{except:[]}),randomColor=function i(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},stringToHex=function l(e){for(var n="",t=0;t<e.length;t++)""==n?n=e.charCodeAt(t).toString(16):n+=","+e.charCodeAt(t).toString(16);return n},toUnicode=function s(e){for(var n="",t=0;t<e.length;t++)n+="\\u"+e.charCodeAt(t).toString(16)+"	";return n},toUnicodeColor=function c(e){for(var n="",t=0;t<e.length;t++)if(n+=e.charCodeAt(t).toString(16),6==n.length)return n},Meteor.startup(function(){Session.set("USERLOGIN",facc.user()._id)})}},jpush:{"client.js":function(){jpush={local:function e(n){Meteor.isCordova&&jpush._check(n)&&("Android"==device.platform?jPushPlugin.addLocalNotification(1,n.content,n.title,"local"+Math.random(),1e3*n.delay,{url:n.url}):(console.log(n),jPushPlugin.addLocalNotificationForIOS(n.delay?n.delay:n.delay+1,n.content,n.badge,"local"+Math.random(),{url:n.url})))},server:function n(e){jpush._check(e)&&(e.regid=localStorage.getItem("JPUSH_RID"),e.createAt=new Date,e.status=0,e.sendAt=new Date((new Date).getTime()+1e3*e.delay),Meteor.call("jpushServerPush",e))},_check:function t(e){return e.content?e.title?e.url?isNaN(1*e.badge)?(console.log("请设置IOS提示角标，0为取消"),!1):isNaN(1*e.delay)?(console.log("请设置延时时间，单位秒"),!1):!0:(console.log("请设置跳转方向"),!1):(console.log("ANDROID平台需要标题"),!1):(console.log("请填写推送内容"),!1)}}},"init.js":function(){Meteor.isCordova&&Meteor.startup(function(){jPushPlugin.setDebugModeFromIos(),jPushPlugin.init(),jPushPlugin.getRegistrationID(function(e){try{console.log("JPushPlugin:registrationID is "+e),localStorage.setItem("JPUSH_RID",e),facc.isGuest()?jPushPlugin.setTagsWithAlias(["游客"],"游客"):Meteor.call("updateJpushRegistrationID",{userid:facc.user()._id,id:e},function(e,n){n.push(device.platform),jPushPlugin.setTagsWithAlias(n,facc.user().nickname)})}catch(n){console.log(n)}}),jPushPlugin.setApplicationIconBadgeNumber(0)}),document.addEventListener("jpush.openNotification",function(e){jPushPlugin.setApplicationIconBadgeNumber(0);var n="";n="Android"==device.platform?window.plugins.jPushPlugin.openNotification.extras.url?window.plugins.jPushPlugin.openNotification.extras.url:"/":e.url?e.url:"/",FlowRouter.go(n)},!1),document.addEventListener("jpush.setTagsWithAlias",function(e){try{console.log("onTagsWithAlias",e)}catch(n){console.log(n)}},!1)}},"client.js":function(){Meteor.startup(function(){localStorage.getItem("tempid")||localStorage.setItem("tempid","TEMP"+CryptoJS.MD5(new Date+Math.random()+"").toString())})}},lib:{model:{"account.js":function(){VaildCodes=new Meteor.Collection("vaildCodes"),Tracks=new Meteor.Collection("tracks"),Applys=new Meteor.Collection("applys"),Recharge=new Meteor.Collection("recharge")},"bank.js":function(){Bankcards=new Meteor.Collection("bankcards")},"banner.js":function(){Banners=new Meteor.Collection("banners")},"cases.js":function(){Cases=new Meteor.Collection("cases")},"discuz.js":function(){Discuzs=new Meteor.Collection("discuzs"),DiscuzMessages=new Meteor.Collection("discuzmessages"),DiscuzApplys=new Meteor.Collection("discuzApplys"),Recommands=new Meteor.Collection("recommands"),DiscuzFovar=new Meteor.Collection("discuzFovar")},"doctor.js":function(){Doctors=new Meteor.Collection("doctors"),Pays=new Meteor.Collection("pays")},"feild.js":function(){Feilds=new Meteor.Collection("feilds")},"jpush.js":function(){UsersPushInfo=new Meteor.Collection("usersPushInfo"),UserPushs=new Meteor.Collection("userPushs")},"message.js":function(){Messages=new Meteor.Collection("messages"),Suggests=new Meteor.Collection("suggests")},"new.js":function(){News=new Meteor.Collection("news"),NewsComment=new Meteor.Collection("newsComment"),NewsFovar=new Meteor.Collection("NewsFovar")},"person.js":function(){Persons=new Meteor.Collection("persons")},"referral.js":function(){Referrals=new Meteor.Collection("referrals")},"region.js":function(){Regions=new Meteor.Collection("regions"),Hospitals=new Meteor.Collection("hospitals"),Departments=new Meteor.Collection("departments"),Badges=new Meteor.Collection("badges"),UserBadges=new Meteor.Collection("userBadges"),UserBadgesTrack=new Meteor.Collection("userBadgesTrack"),PointTrack=new Meteor.Collection("pointTrack")},"share.js":function(){wxaccesstoken=new Meteor.Collection("wxaccesstoken"),wxticket=new Meteor.Collection("wxticket")},"table.js":function(){Tables=new Meteor.Collection("tables")},"visit.js":function(){Visits=new Meteor.Collection("visits")}},routers:{"account.js":function(){FlowRouter.route("/login",{name:"login",action:function e(n,t){FlowLayout.render("login")}}),FlowRouter.route("/register",{name:"login",action:function n(e,t){FlowLayout.render("register")}}),FlowRouter.route("/register/code",{action:function t(e,n){FlowLayout.render("registerCode")}}),FlowRouter.route("/forget",{action:function a(e,n){FlowLayout.render("forget")}}),FlowRouter.route("/forget/code",{action:function r(e,n){FlowLayout.render("forgetCode")}}),FlowRouter.route("/logout",{action:function o(e,n){facc.logout(),FlowRouter.go("/")}}),FlowRouter.route("/loginAgreement",{action:function i(e,n){FlowLayout.render("loginAgreement")}}),FlowRouter.route("/loginAgreement/pryvacy",{action:function l(e,n){FlowLayout.render("loginprivacy")}}),FlowRouter.route("/loginAgreement/serviceagreement",{action:function s(e,n){FlowLayout.render("loginservice")}}),FlowRouter.route("/loginAgreement/app",{action:function c(e,n){FlowLayout.render("appservice")}})},"banner.js":function(){FlowRouter.route("/banner",{action:function e(n,t){FlowLayout.render("bannerDetail")}})},"discuz.js":function(){FlowRouter.route("/discuz",{action:function e(n,t){FlowLayout.render("discuz")}}),FlowRouter.route("/discuz/list",{action:function n(e,t){FlowLayout.render("discuzList")}}),FlowRouter.route("/discuz/users",{action:function t(e,n){FlowLayout.render("discuzUsers")}}),FlowRouter.route("/discuz/create",{action:function a(e,n){FlowLayout.render("discuzCreate")}}),FlowRouter.route("/discuz/host",{action:function r(e,n){FlowLayout.render("discuzHost")}}),FlowRouter.route("/discuz/box",{action:function o(e,n){FlowLayout.render("discuzBox")}}),FlowRouter.route("/discuz/edit",{action:function i(e,n){FlowLayout.render("discuzEdit")}})},"feilds.js":function(){FlowRouter.route("/feild",{action:function e(n,t){FlowLayout.render("feild")}}),FlowRouter.route("/feild/create",{action:function n(e,t){FlowLayout.render("feildCreate")}}),FlowRouter.route("/feild/detail",{action:function t(e,n){FlowLayout.render("feildDetail")}}),FlowRouter.route("/feild/test",{action:function a(e,n){FlowLayout.render("feildTest")}}),FlowRouter.route("/feild/project",{action:function r(e,n){FlowLayout.render("feildPoject")}})},"home.js":function(){var e=FlowRouter.group({prefix:"/home"});e.route("/",{action:function n(e,t){FlowLayout.render("home")},triggersEnter:function t(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),e.route("/actives",{action:function a(e,n){FlowLayout.render("actives")},triggersEnter:function r(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),e.route("/info",{action:function o(e,n){FlowLayout.render("homeInfo")},triggersEnter:function i(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),e.route("/nickname",{action:function l(e,n){FlowLayout.render("homeNickname")},triggersEnter:function s(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),e.route("/certification",{action:function c(e,n){FlowLayout.render("homeCertification")},triggersEnter:function u(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),e.route("/set",{action:function p(e,n){FlowLayout.render("homeSet")},triggersEnter:function f(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),e.route("/password",{action:function d(e,n){FlowLayout.render("homePassword")},triggersEnter:function m(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),e.route("/messages",{action:function h(e,n){FlowLayout.render("homeMessages")},triggersEnter:function g(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),e.route("/suggest",{action:function T(e,n){FlowLayout.render("homeSuggest")},triggersEnter:function b(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),e.route("/point",{action:function v(e,n){FlowLayout.render("homePoint")}}),e.route("/track",{action:function w(e,n){FlowLayout.render("homeTrack")}}),e.route("/bank",{action:function M(e,n){FlowLayout.render("homeBank")}}),e.route("/addbank",{action:function k(e,n){FlowLayout.render("homeAddBank")}})},"new.js":function(){FlowRouter.route("/news/item",{action:function e(n,t){FlowLayout.render("newsItem")}}),FlowRouter.route("/news/comment",{action:function n(e,t){FlowLayout.render("newsComment")}}),FlowRouter.route("/my/news",{action:function t(e,n){FlowLayout.render("myNews")},triggersEnter:function a(e,n){facc.isGuest()&&FlowRouter.go("/login")}})},"persons.js":function(){FlowRouter.route("/person/add",{action:function e(n,t){FlowLayout.render("personAdd")},triggersEnter:function n(e,t){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myPerson/add",{action:function t(e,n){FlowLayout.render("myPersonAdd")},triggersEnter:function a(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/person",{action:function r(e,n){FlowLayout.render("person")},triggersEnter:function o(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myPerson",{action:function i(e,n){FlowLayout.render("myPerson")},triggersEnter:function l(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/person/detail",{action:function s(e,n){FlowLayout.render("personDetail")},triggersEnter:function c(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myPerson/detail",{action:function u(e,n){FlowLayout.render("myPersonDetail")},triggersEnter:function p(e,n){facc.isGuest()&&FlowRouter.go("/login")}})},"recive.js":function(){FlowRouter.route("/recive",{action:function e(n,t){FlowLayout.render("recive")},triggersEnter:function n(e,t){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/recive/confirm",{action:function t(e,n){FlowLayout.render("reciveConfirm")},triggersEnter:function a(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/recive/confirm/agree",{action:function r(e,n){FlowLayout.render("reciveConfirmAgree")},triggersEnter:function o(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/recive/confirm/disagree",{action:function i(e,n){FlowLayout.render("reciveConfirmDisagree")},triggersEnter:function l(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/recive/step",{action:function s(e,n){FlowLayout.render("reciveStep")},triggersEnter:function c(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/recive/detail",{action:function u(e,n){FlowLayout.render("reciveDetail")},triggersEnter:function p(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/recive/time",{action:function f(e,n){FlowLayout.render("reciveTime")},triggersEnter:function d(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/recive/create",{action:function m(e,n){FlowLayout.render("reciveCreate")},triggersEnter:function h(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myRecive",{action:function g(e,n){FlowLayout.render("myRecive")},triggersEnter:function T(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myRecive/confirm",{action:function b(e,n){FlowLayout.render("myReciveConfirm")},triggersEnter:function v(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myRecive/confirm/agree",{action:function w(e,n){FlowLayout.render("myReciveConfirmAgree")},triggersEnter:function M(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myRecive/confirm/disagree",{action:function k(e,n){FlowLayout.render("myReciveConfirmDisagree")},triggersEnter:function L(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myRecive/step",{action:function H(e,n){FlowLayout.render("myReciveStep")},triggersEnter:function y(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myRecive/detail",{action:function S(e,n){FlowLayout.render("myReciveDetail")},triggersEnter:function R(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myRecive/time",{action:function I(e,n){FlowLayout.render("myReciveTime")},triggersEnter:function D(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/myRecive/create",{action:function V(e,n){FlowLayout.render("myReciveCreate")},triggersEnter:function x(e,n){facc.isGuest()&&FlowRouter.go("/login")}})},"referral.js":function(){FlowRouter.route("/referral",{action:function e(n,t){FlowLayout.render("referralIndex")},triggersEnter:function n(e,t){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/referral/fqa",{action:function t(e,n){FlowLayout.render("referralFqa")},triggersEnter:function a(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/referral/create",{action:function r(e,n){FlowLayout.render("referralCreate")},triggersEnter:function o(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/referral/upload/create",{action:function i(e,n){FlowLayout.render("referralUploadCreate")},triggersEnter:function l(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/referral/qrcode",{action:function s(e,n){FlowLayout.render("referralQrcode")},triggersEnter:function c(e,n){facc.isGuest()&&FlowRouter.go("/login")}}),FlowRouter.route("/referral/submit",{action:function u(e,n){FlowLayout.render("referralSubmit")}}),FlowRouter.route("/referral/pay",{action:function p(e,n){FlowLayout.render("referralPay")}}),FlowRouter.route("/referral/agreenment",{action:function f(e,n){FlowLayout.render("agreenment-user")}})},"rotation.js":function(){FlowRouter.route("/rotation/person",{action:function e(n,t){FlowLayout.render("rotationPerson")},triggersEnter:function n(e,t){facc.isGuest()&&FlowRouter.go("/login")}})},"site.js":function(){FlowRouter.route("/",{name:"site",action:function e(n,t){FlowLayout.render("site")}})},"table.js":function(){FlowRouter.route("/table/add",{action:function e(n,t){FlowLayout.render("feildPoject")},triggersEnter:function n(e,t){facc.isGuest()&&FlowRouter.go("/login")}})},"task.js":function(){FlowRouter.route("/task",{action:function e(n,t){FlowLayout.render("taskCreate")}}),FlowRouter.route("/pubtask",{action:function n(e,t){FlowLayout.render("pubCreate")}})},"visit.js":function(){FlowRouter.route("/visit",{action:function e(n,t){FlowLayout.render("visit")}}),FlowRouter.route("/visit/detail",{action:function n(e,t){FlowLayout.render("visitDetail")}}),FlowRouter.route("/visit/view",{action:function t(e,n){FlowLayout.render("visitView")}})}},"facc.js":function(){facc={_id:"FAMILYOFDEVELOPOER",user:function e(){return{_id:localStorage.getItem(facc._id+"_UID"),nickname:localStorage.getItem(facc._id+"_NICK"),avatar:localStorage.getItem(facc._id+"_AVATAR"),photo:localStorage.getItem(facc._id+"_PHOTO")}},set:function n(e){Meteor.connection.setUserId(e._id),localStorage.setItem(facc._id+"_UID",e._id),localStorage.setItem(facc._id+"_NICK",e.nickname),localStorage.setItem(facc._id+"_AVATAR",e.avatar),localStorage.setItem(facc._id+"_PHOTO",e.photo),Session.set("USERLOGIN",e)},setState:function t(e,n){var t=localStorage.getItem(facc._id+"_UID");localStorage.setItem(facc._id+"_"+e.toUpperCase(),n);var a=localStorage.getItem(a);localStorage.setItem(a,n);var r=localStorage.getItem(r);localStorage.setItem(r,n);var o=localStorage.getItem(o);localStorage.setItem(o,n)},get:function a(e){var n=localStorage.getItem(facc._id+"_UID");return localStorage.getItem(facc._id+"_"+e.toUpperCase())},logout:function r(){localStorage.removeItem(facc._id+"_UID"),localStorage.removeItem(facc._id+"_NICK"),localStorage.removeItem(facc._id+"_AVATAR"),localStorage.removeItem(facc._id+"_PHOTO"),Meteor.logout(),Session.set("USERLOGIN",null)},isGuest:function o(){return localStorage.getItem(facc._id+"_UID")?!1:!0},checkUsername:function i(e){return!0},checkTel:function l(e){return e.match(/^0?1[3|4|5|7|8][0-9]\d{8}$/)},backto:function s(){FlowRouter.go("/")},checkID:function c(e){return e.match(/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9|X|x])$/)},checkBirday:function u(e){return e.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/)},needAdmin:0}}}},{extensions:[".js",".json",".html",".css"]});require("./client/account/template.app.js"),require("./client/account/template.forget.js"),require("./client/account/template.forgetCode.js"),require("./client/account/template.login.js"),require("./client/account/template.loginAgreement.js"),require("./client/account/template.pryvacy.js"),require("./client/account/template.register.js"),require("./client/account/template.registerCode.js"),require("./client/account/template.serviceagreement.js"),require("./client/banner/template.banner.js"),require("./client/banner/template.detail.js"),require("./client/compents/template.department.js"),require("./client/compents/template.person.js"),require("./client/compents/template.pictures.js"),require("./client/compents/template.select.js"),require("./client/compents/template.selectIndex.js"),require("./client/compents/template.table.js"),require("./client/compents/template.thumb.js"),require("./client/discuz/template.box.js"),require("./client/discuz/template.create.js"),require("./client/discuz/template.discuz.js"),require("./client/discuz/template.edit.js"),require("./client/discuz/template.host.js"),require("./client/discuz/template.list.js"),require("./client/discuz/template.users.js"),require("./client/feild/template.create.js"),require("./client/feild/template.detail.js"),require("./client/feild/template.index.js"),require("./client/feild/template.project.js"),require("./client/feild/template.test.js"),require("./client/footer/template.footer.js"),require("./client/home/template.addbank.js"),require("./client/home/template.bank.js"),require("./client/home/template.certification.js"),require("./client/home/template.home.js"),require("./client/home/template.info.js"),require("./client/home/template.messages.js"),require("./client/home/template.news.js"),require("./client/home/template.nickname.js"),require("./client/home/template.password.js"),require("./client/home/template.point.js"),require("./client/home/template.set.js"),require("./client/home/template.suggest.js"),require("./client/home/template.track.js"),require("./client/index/template.index.js"),require("./client/loading/template.loading.js"),require("./client/myPerson/template.add.js"),require("./client/myPerson/template.detail.js"),require("./client/myPerson/template.list.js"),require("./client/myRecive/template.agree.js"),require("./client/myRecive/template.confirm.js"),require("./client/myRecive/template.create.js"),require("./client/myRecive/template.detail.js"),require("./client/myRecive/template.disagree.js"),require("./client/myRecive/template.index.js"),require("./client/myRecive/template.item.js"),require("./client/myRecive/template.step.js"),require("./client/myRecive/template.time.js"),require("./client/news/template.comment.js"),require("./client/news/template.news.js"),require("./client/pay/template.client.js"),require("./client/person/template.add.js"),require("./client/person/template.detail.js"),require("./client/person/template.list.js"),require("./client/publishTask/template.create.js"),require("./client/recive/template.agree.js"),require("./client/recive/template.confirm.js"),require("./client/recive/template.create.js"),require("./client/recive/template.detail.js"),require("./client/recive/template.disagree.js"),require("./client/recive/template.index.js"),require("./client/recive/template.item.js"),require("./client/recive/template.step.js"),require("./client/recive/template.time.js"),require("./client/referral/template.agreemet.js"),require("./client/referral/template.create.js"),require("./client/referral/template.fqa.js"),require("./client/referral/template.index.js"),require("./client/referral/template.pay.js"),require("./client/referral/template.qrcode.js"),require("./client/referral/template.submit.js"),require("./client/referral/template.userdetail.js"),require("./client/role/template.role.js"),require("./client/share/template.share.js"),require("./client/visit/template.detail.js"),require("./client/visit/template.index.js"),require("./client/visit/template.item.js"),require("./client/visit/template.view.js"),require("./client/visitTask/template.create.js"),require("./client/wechat/template.client.js"),require("./lib/model/account.js"),require("./lib/model/bank.js"),require("./lib/model/banner.js"),require("./lib/model/cases.js"),require("./lib/model/discuz.js"),require("./lib/model/doctor.js"),require("./lib/model/feild.js"),require("./lib/model/jpush.js"),require("./lib/model/message.js"),require("./lib/model/new.js"),require("./lib/model/person.js"),require("./lib/model/referral.js"),require("./lib/model/region.js"),require("./lib/model/share.js"),require("./lib/model/table.js"),require("./lib/model/visit.js"),require("./lib/routers/account.js"),require("./lib/routers/banner.js"),require("./lib/routers/discuz.js"),require("./lib/routers/feilds.js"),require("./lib/routers/home.js"),require("./lib/routers/new.js"),require("./lib/routers/persons.js"),
require("./lib/routers/recive.js"),require("./lib/routers/referral.js"),require("./lib/routers/rotation.js"),require("./lib/routers/site.js"),require("./lib/routers/table.js"),require("./lib/routers/task.js"),require("./lib/routers/visit.js"),require("./lib/facc.js"),require("./client/account/forget.js"),require("./client/account/forgetCode.js"),require("./client/account/hide.js"),require("./client/account/login.js"),require("./client/account/register.js"),require("./client/account/registerCode.js"),require("./client/banner/banner.js"),require("./client/banner/detail.js"),require("./client/common/lrz.js"),require("./client/compents/department.js"),require("./client/compents/person.js"),require("./client/compents/pictures.js"),require("./client/compents/select.js"),require("./client/compents/selectIndex.js"),require("./client/compents/table.js"),require("./client/compents/thumb.js"),require("./client/discuz/box.js"),require("./client/discuz/create.js"),require("./client/discuz/discuz.js"),require("./client/discuz/edit.js"),require("./client/discuz/host.js"),require("./client/discuz/list.js"),require("./client/discuz/users.js"),require("./client/feild/create.js"),require("./client/feild/detail.js"),require("./client/feild/index.js"),require("./client/feild/project.js"),require("./client/feild/test.js"),require("./client/footer/footer.js"),require("./client/home/addbank.js"),require("./client/home/bank.js"),require("./client/home/certification.js"),require("./client/home/home.js"),require("./client/home/info.js"),require("./client/home/messages.js"),require("./client/home/news.js"),require("./client/home/nickname.js"),require("./client/home/password.js"),require("./client/home/point.js"),require("./client/home/set.js"),require("./client/home/suggest.js"),require("./client/home/track.js"),require("./client/index/index.js"),require("./client/jpush/client.js"),require("./client/jpush/init.js"),require("./client/loading/loading.js"),require("./client/myPerson/add.js"),require("./client/myPerson/detail.js"),require("./client/myPerson/list.js"),require("./client/myRecive/agree.js"),require("./client/myRecive/confirm.js"),require("./client/myRecive/create.js"),require("./client/myRecive/detail.js"),require("./client/myRecive/disagree.js"),require("./client/myRecive/index.js"),require("./client/myRecive/item.js"),require("./client/myRecive/step.js"),require("./client/myRecive/time.js"),require("./client/news/comment.js"),require("./client/news/news.js"),require("./client/pay/client.js"),require("./client/pay/config.js"),require("./client/person/add.js"),require("./client/person/detail.js"),require("./client/person/list.js"),require("./client/publishTask/create.js"),require("./client/recive/agree.js"),require("./client/recive/confirm.js"),require("./client/recive/create.js"),require("./client/recive/detail.js"),require("./client/recive/disagree.js"),require("./client/recive/index.js"),require("./client/recive/item.js"),require("./client/recive/step.js"),require("./client/recive/time.js"),require("./client/referral/create.js"),require("./client/referral/index.js"),require("./client/referral/pay.js"),require("./client/referral/qrcode.js"),require("./client/referral/submit.js"),require("./client/referral/userdetail.js"),require("./client/role/role.js"),require("./client/share/share.js"),require("./client/visit/detail.js"),require("./client/visit/index.js"),require("./client/visit/item.js"),require("./client/visit/view.js"),require("./client/visitTask/create.js"),require("./client/wechat/client.js"),require("./client/client.js"),require("./client/common/main.js");

!function(){var e=Package.meteor.Meteor,o=Package.meteor.global,n=Package.meteor.meteorEnv,i=Package["accounts-base"].Accounts,r=Package.mongo.Mongo,t;(function(){"undefined"==typeof t&&(t={}),t.configurations=new r.Collection("meteor_accounts_loginServiceConfiguration",{_preventAutopublish:!0,connection:e.isClient?i.connection:e.connection}),t.ConfigError=function(o){e.isClient&&!i.loginServicesConfigured()?this.message="Login service configuration not yet loaded":o?this.message="Service "+o+" not configured":this.message="Service not configured"},t.ConfigError.prototype=new Error,t.ConfigError.prototype.name="ServiceConfiguration.ConfigError"}).call(this),"undefined"==typeof Package&&(Package={}),function(e,o){for(var n in o)n in e||(e[n]=o[n])}(Package["service-configuration"]={},{ServiceConfiguration:t})}();

